{"ast":null,"code":"import React,{forwardRef,useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductCard=/*#__PURE__*/forwardRef((_ref,ref)=>{let{product,onAddToCart,onToggleWishlist,isWishlisted,cartItems,navigateTo}=_ref;const[userLocation,setUserLocation]=useState(null);const[distance,setDistance]=useState(null);// Handle image source - check for uploaded files (with timestamps) vs static images\nconst getImageSrc=()=>{if(!product.image){return\"https://via.placeholder.com/200x200?text=\".concat(product.name.replace(/\\s/g,'+'));}if(product.image.startsWith('http')){return product.image;}// Check if it's an uploaded file (contains timestamp like \"1234567890-filename.jpg\")\nif(product.image.includes('-')&&/^\\d+-\\w+\\./.test(product.image)){return\"http://localhost:5000/uploads/\".concat(product.image);}// Otherwise, it's a static image in IMAGES folder\nreturn\"/IMAGES/\".concat(product.image);};// Format date helper\nconst formatDate=dateString=>{if(!dateString)return null;const date=new Date(dateString);return date.toLocaleDateString('en-IN',{day:'2-digit',month:'short',year:'numeric'});};return/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",ref:ref,children:[/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"img\",{src:getImageSrc(),alt:product.name,className:\"product-img\"}),product.warranty&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:'8px',left:'8px',backgroundColor:'#4CAF50',color:'white',padding:'4px 8px',borderRadius:'4px',fontSize:'10px',fontWeight:'bold',display:'flex',alignItems:'center',gap:'4px'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-shield-alt\",style:{fontSize:'10px'}}),product.warranty]}),product.expiryDate&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:'8px',right:'8px',backgroundColor:'#ff9800',color:'white',padding:'4px 8px',borderRadius:'4px',fontSize:'10px',fontWeight:'bold',display:'flex',alignItems:'center',gap:'4px'},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-calendar-alt\",style:{fontSize:'10px'}}),\"Exp: \",formatDate(product.expiryDate)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"product-title\",children:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-vendor\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-store\"}),\" \",product.vendor]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-price\",children:[\"\\u20B9\",product.price]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"like-btn\",onClick:()=>onToggleWishlist(product),style:{color:isWishlisted?'var(--secondary)':'var(--gray)'},children:/*#__PURE__*/_jsx(\"i\",{className:isWishlisted?\"fas fa-heart\":\"far fa-heart\"})}),cartItems&&cartItems.some(item=>(item._id||item.id)===(product._id||product.id))?/*#__PURE__*/_jsx(\"button\",{className:\"btn go-to-cart\",onClick:()=>navigateTo('cart'),children:\"Go to Cart\"}):/*#__PURE__*/_jsx(\"button\",{className:\"btn add-to-cart\",onClick:()=>onAddToCart(product),children:\"Add to Cart\"})]})]})]});});export default ProductCard;","map":{"version":3,"names":["React","forwardRef","useState","useEffect","jsx","_jsx","jsxs","_jsxs","ProductCard","_ref","ref","product","onAddToCart","onToggleWishlist","isWishlisted","cartItems","navigateTo","userLocation","setUserLocation","distance","setDistance","getImageSrc","image","concat","name","replace","startsWith","includes","test","formatDate","dateString","date","Date","toLocaleDateString","day","month","year","className","children","style","position","src","alt","warranty","top","left","backgroundColor","color","padding","borderRadius","fontSize","fontWeight","display","alignItems","gap","expiryDate","right","vendor","price","onClick","some","item","_id","id"],"sources":["C:/Users/User/Downloads/reactlatest303/reactlatest3/frontend/src/Customer/Popularproducts/ProductCard.js"],"sourcesContent":["import React, { forwardRef, useState, useEffect } from 'react';\n\nconst ProductCard = forwardRef(({ product, onAddToCart, onToggleWishlist, isWishlisted, cartItems, navigateTo }, ref) => {\n  const [userLocation, setUserLocation] = useState(null);\n  const [distance, setDistance] = useState(null);\n  // Handle image source - check for uploaded files (with timestamps) vs static images\n  const getImageSrc = () => {\n    if (!product.image) {\n      return `https://via.placeholder.com/200x200?text=${product.name.replace(/\\s/g, '+')}`;\n    }\n    if (product.image.startsWith('http')) {\n      return product.image;\n    }\n    // Check if it's an uploaded file (contains timestamp like \"1234567890-filename.jpg\")\n    if (product.image.includes('-') && /^\\d+-\\w+\\./.test(product.image)) {\n      return `http://localhost:5000/uploads/${product.image}`;\n    }\n    // Otherwise, it's a static image in IMAGES folder\n    return `/IMAGES/${product.image}`;\n  };\n\n  // Format date helper\n  const formatDate = (dateString) => {\n    if (!dateString) return null;\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-IN', { \n      day: '2-digit',\n      month: 'short',\n      year: 'numeric' \n    });\n  };\n\n  return (\n    <div className=\"product-card\" ref={ref}>\n      <div style={{ position: 'relative' }}>\n        <img src={getImageSrc()} alt={product.name} className=\"product-img\" />\n        \n        {/* ✅ WARRANTY BADGE - Top Left */}\n        {product.warranty && (\n          <div style={{\n            position: 'absolute',\n            top: '8px',\n            left: '8px',\n            backgroundColor: '#4CAF50',\n            color: 'white',\n            padding: '4px 8px',\n            borderRadius: '4px',\n            fontSize: '10px',\n            fontWeight: 'bold',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '4px'\n          }}>\n            <i className=\"fas fa-shield-alt\" style={{ fontSize: '10px' }}></i>\n            {product.warranty}\n          </div>\n        )}\n\n        {/* ✅ EXPIRY DATE BADGE - Top Right */}\n        {product.expiryDate && (\n          <div style={{\n            position: 'absolute',\n            top: '8px',\n            right: '8px',\n            backgroundColor: '#ff9800',\n            color: 'white',\n            padding: '4px 8px',\n            borderRadius: '4px',\n            fontSize: '10px',\n            fontWeight: 'bold',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '4px'\n          }}>\n            <i className=\"fas fa-calendar-alt\" style={{ fontSize: '10px' }}></i>\n            Exp: {formatDate(product.expiryDate)}\n          </div>\n        )}\n      </div>\n\n      <div className=\"product-info\">\n        <h3 className=\"product-title\">{product.name}</h3>\n        <div className=\"product-vendor\">\n          <i className=\"fas fa-store\"></i> {product.vendor}\n        </div>\n        <div className=\"product-price\">₹{product.price}</div>\n        <div className=\"product-actions\">\n          <button className=\"like-btn\" onClick={() => onToggleWishlist(product)} style={{ color: isWishlisted ? 'var(--secondary)' : 'var(--gray)' }}>\n            <i className={isWishlisted ? \"fas fa-heart\" : \"far fa-heart\"}></i>\n          </button>\n          {cartItems && cartItems.some(item => (item._id || item.id) === (product._id || product.id)) ? (\n            <button className=\"btn go-to-cart\" onClick={() => navigateTo('cart')}>Go to Cart</button>\n          ) : (\n            <button className=\"btn add-to-cart\" onClick={() => onAddToCart(product)}>Add to Cart</button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n});\n\nexport default ProductCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}