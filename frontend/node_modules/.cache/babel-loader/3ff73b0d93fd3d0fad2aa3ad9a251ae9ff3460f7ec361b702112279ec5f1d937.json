{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductCard=_ref=>{let{product,onAddToCart,onToggleWishlist,isWishlisted,onViewProduct,cartItems,navigateTo}=_ref;// In a real app, you might handle image errors differently\nconst handleImageError=e=>{e.target.src=\"https://via.placeholder.com/200x200?text=\".concat(product.name.replace(/\\s/g,'+'));};const handleCardClick=e=>{// Prevent navigation if a button inside the card was clicked\nif(e.target.closest('button'))return;onViewProduct(product);};// Handle image source - check for uploaded files (with timestamps) vs static images\nconst getImageSrc=()=>{if(!product.image){return\"https://via.placeholder.com/200x200?text=\".concat(product.name.replace(/\\s/g,'+'));}if(product.image.startsWith('http')){return product.image;}// Check if it's an uploaded file (contains timestamp like \"1234567890-filename.jpg\")\nif(product.image.includes('-')&&/^\\d+-\\w+\\./.test(product.image)){return\"http://localhost:5000/uploads/\".concat(product.image);}// Otherwise, it's a static image in IMAGES folder\nreturn\"/IMAGES/\".concat(product.image);};// ✅ Format date helper\nconst formatDate=dateString=>{if(!dateString)return null;const date=new Date(dateString);return date.toLocaleDateString('en-IN',{day:'2-digit',month:'short',year:'numeric'});};return/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",draggable:\"true\",onClick:handleCardClick,style:{cursor:'pointer'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative'},children:[/*#__PURE__*/_jsx(\"img\",{src:getImageSrc(),alt:product.name,className:\"product-img\",onError:handleImageError}),product.warranty&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:'8px',left:'8px',backgroundColor:'#4CAF50',color:'white',padding:'4px 8px',borderRadius:'4px',fontSize:'10px',fontWeight:'bold',display:'flex',alignItems:'center',gap:'4px',zIndex:10},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-shield-alt\",style:{fontSize:'10px'}}),product.warranty]}),product.expiryDate&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:'8px',right:'8px',backgroundColor:'#ff9800',color:'white',padding:'4px 8px',borderRadius:'4px',fontSize:'10px',fontWeight:'bold',display:'flex',alignItems:'center',gap:'4px',zIndex:10},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-calendar-alt\",style:{fontSize:'10px'}}),\"Exp: \",formatDate(product.expiryDate)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"product-title\",children:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-vendor\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-store\"}),\" \",/*#__PURE__*/_jsx(\"span\",{children:product.vendor})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-distance\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-map-marker-alt\"}),\" \",/*#__PURE__*/_jsx(\"span\",{children:product.distance||'Calculating...'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-price\",children:[\"\\u20B9\",product.price]}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"like-btn\",onClick:()=>onToggleWishlist(product),style:{color:isWishlisted?'var(--secondary)':'var(--gray)'},children:/*#__PURE__*/_jsx(\"i\",{className:isWishlisted?\"fas fa-heart\":\"far fa-heart\"})}),cartItems&&cartItems.some(item=>(item._id||item.id)===(product._id||product.id))?/*#__PURE__*/_jsx(\"button\",{className:\"btn go-to-cart\",onClick:()=>navigateTo('cart'),children:\"Go to Cart\"}):/*#__PURE__*/_jsx(\"button\",{className:\"btn add-to-cart\",onClick:()=>onAddToCart(product),children:\"Add to Cart\"})]})]})]});};export default ProductCard;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","ProductCard","_ref","product","onAddToCart","onToggleWishlist","isWishlisted","onViewProduct","cartItems","navigateTo","handleImageError","e","target","src","concat","name","replace","handleCardClick","closest","getImageSrc","image","startsWith","includes","test","formatDate","dateString","date","Date","toLocaleDateString","day","month","year","className","draggable","onClick","style","cursor","children","position","alt","onError","warranty","top","left","backgroundColor","color","padding","borderRadius","fontSize","fontWeight","display","alignItems","gap","zIndex","expiryDate","right","vendor","distance","price","some","item","_id","id"],"sources":["C:/Users/User/Downloads/reactlatest303/reactlatest3/frontend/src/Customer/Categories/Products/FoodDine/ProductCard1.js"],"sourcesContent":["import React from 'react';\n\nconst ProductCard = ({ product, onAddToCart, onToggleWishlist, isWishlisted, onViewProduct, cartItems, navigateTo }) => {\n    // In a real app, you might handle image errors differently\n    const handleImageError = (e) => {\n        e.target.src = `https://via.placeholder.com/200x200?text=${product.name.replace(/\\s/g, '+')}`;\n    };\n\n    const handleCardClick = (e) => {\n        // Prevent navigation if a button inside the card was clicked\n        if (e.target.closest('button')) return;\n        onViewProduct(product);\n    };\n\n    // Handle image source - check for uploaded files (with timestamps) vs static images\n    const getImageSrc = () => {\n        if (!product.image) {\n            return `https://via.placeholder.com/200x200?text=${product.name.replace(/\\s/g, '+')}`;\n        }\n        if (product.image.startsWith('http')) {\n            return product.image;\n        }\n        // Check if it's an uploaded file (contains timestamp like \"1234567890-filename.jpg\")\n        if (product.image.includes('-') && /^\\d+-\\w+\\./.test(product.image)) {\n            return `http://localhost:5000/uploads/${product.image}`;\n        }\n        // Otherwise, it's a static image in IMAGES folder\n        return `/IMAGES/${product.image}`;\n    };\n\n    // ✅ Format date helper\n    const formatDate = (dateString) => {\n        if (!dateString) return null;\n        const date = new Date(dateString);\n        return date.toLocaleDateString('en-IN', { \n            day: '2-digit',\n            month: 'short',\n            year: 'numeric' \n        });\n    };\n\n    return (\n        <div className=\"product-card\" draggable=\"true\" onClick={handleCardClick} style={{cursor: 'pointer'}}>\n            <div style={{ position: 'relative' }}>\n                <img\n                    src={getImageSrc()}\n                    alt={product.name}\n                    className=\"product-img\"\n                    onError={handleImageError}\n                />\n                \n                {/* ✅ WARRANTY BADGE - Top Left */}\n                {product.warranty && (\n                    <div style={{\n                        position: 'absolute',\n                        top: '8px',\n                        left: '8px',\n                        backgroundColor: '#4CAF50',\n                        color: 'white',\n                        padding: '4px 8px',\n                        borderRadius: '4px',\n                        fontSize: '10px',\n                        fontWeight: 'bold',\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: '4px',\n                        zIndex: 10\n                    }}>\n                        <i className=\"fas fa-shield-alt\" style={{ fontSize: '10px' }}></i>\n                        {product.warranty}\n                    </div>\n                )}\n\n                {/* ✅ EXPIRY DATE BADGE - Top Right */}\n                {product.expiryDate && (\n                    <div style={{\n                        position: 'absolute',\n                        top: '8px',\n                        right: '8px',\n                        backgroundColor: '#ff9800',\n                        color: 'white',\n                        padding: '4px 8px',\n                        borderRadius: '4px',\n                        fontSize: '10px',\n                        fontWeight: 'bold',\n                        display: 'flex',\n                        alignItems: 'center',\n                        gap: '4px',\n                        zIndex: 10\n                    }}>\n                        <i className=\"fas fa-calendar-alt\" style={{ fontSize: '10px' }}></i>\n                        Exp: {formatDate(product.expiryDate)}\n                    </div>\n                )}\n            </div>\n            \n            <div className=\"product-info\">\n                <h3 className=\"product-title\">{product.name}</h3>\n                <div className=\"product-vendor\"><i className=\"fas fa-store\"></i> <span>{product.vendor}</span></div>\n                <div className=\"product-distance\"><i className=\"fas fa-map-marker-alt\"></i> <span>{product.distance || 'Calculating...'}</span></div>\n                <div className=\"product-price\">₹{product.price}</div>\n                <div className=\"product-actions\">\n                    <button className=\"like-btn\" onClick={() => onToggleWishlist(product)} style={{ color: isWishlisted ? 'var(--secondary)' : 'var(--gray)' }}>\n                        <i className={isWishlisted ? \"fas fa-heart\" : \"far fa-heart\"}></i>\n                    </button>\n                    {cartItems && cartItems.some(item => (item._id || item.id) === (product._id || product.id)) ? (\n                        <button className=\"btn go-to-cart\" onClick={() => navigateTo('cart')}>Go to Cart</button>\n                    ) : (\n                        <button className=\"btn add-to-cart\" onClick={() => onAddToCart(product)}>Add to Cart</button>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ProductCard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}