{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dharani\\\\Desktop\\\\Ecomreact-master\\\\frontend\\\\src\\\\Customer\\\\Categories\\\\VendorStore.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './VendorStore.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VendorStore = ({\n  vendorName,\n  onViewProduct,\n  onAddToCart,\n  onToggleWishlist,\n  wishlistItems,\n  cartItems,\n  navigateTo\n}) => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchVendorProducts = async () => {\n      if (!vendorName && !sellerId) {\n        setProducts([]);\n        setLoading(false);\n        return;\n      }\n      setLoading(true);\n      try {\n        let url;\n        if (sellerId) {\n          url = `http://localhost:5000/api/products?sellerId=${encodeURIComponent(sellerId)}`;\n        } else {\n          url = `http://localhost:5000/api/products?vendor=${encodeURIComponent(vendorName)}&status=approved`;\n        }\n        const res = await fetch(url);\n        if (!res.ok) throw new Error('Failed to fetch vendor products');\n        const data = await res.json();\n        setProducts(Array.isArray(data) ? data : []);\n        setError(null);\n      } catch (err) {\n        console.error('Error fetching vendor products:', err);\n        setError('Unable to load vendor products');\n        setProducts([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchVendorProducts();\n  }, [vendorName, sellerId]);\n  const getImageSrc = image => {\n    if (!image) return 'https://via.placeholder.com/200x150?text=No+Image';\n    if (image.startsWith('http')) return image;\n    if (image.includes('-') && /^\\d+-/.test(image)) return `http://localhost:5000/uploads/${image}`;\n    return `/IMAGES/${image}`;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"vendor-store-page container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"vendor-store-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: vendorName || 'Vendor Store'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Products by \", vendorName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"Loading products...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }, this), !loading && !error && products.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"no-products\",\n      children: \"No approved products available for this vendor.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"vendor-products-grid\",\n      children: products.map(p => {\n        var _p$price;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"vendor-product-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: getImageSrc(p.image),\n            alt: p.name,\n            onError: e => e.target.src = 'https://via.placeholder.com/200x150?text=No+Img'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"vendor-product-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: p.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"vendor-product-vendor\",\n              children: [\"by \", p.vendor]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"vendor-product-price\",\n              children: [\"\\u20B9\", (_p$price = p.price) === null || _p$price === void 0 ? void 0 : _p$price.toLocaleString()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"vendor-product-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => onViewProduct && onViewProduct(p),\n                className: \"btn\",\n                children: \"View\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => onAddToCart && onAddToCart(p),\n                className: \"btn secondary\",\n                children: \"Add to Cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => onToggleWishlist && onToggleWishlist(p),\n                className: `wishlist ${wishlistItems && wishlistItems.find(i => (i._id || i.id) === (p._id || p.id)) ? 'active' : ''}`,\n                children: \"\\u2665\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)]\n        }, p._id || p.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(VendorStore, \"3+N/VFIgZOBgubN9oS5aTzm2qqY=\");\n_c = VendorStore;\nexport default VendorStore;\nvar _c;\n$RefreshReg$(_c, \"VendorStore\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","VendorStore","vendorName","onViewProduct","onAddToCart","onToggleWishlist","wishlistItems","cartItems","navigateTo","_s","products","setProducts","loading","setLoading","error","setError","fetchVendorProducts","sellerId","url","encodeURIComponent","res","fetch","ok","Error","data","json","Array","isArray","err","console","getImageSrc","image","startsWith","includes","test","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","p","_p$price","src","alt","name","onError","e","target","vendor","price","toLocaleString","onClick","find","i","_id","id","_c","$RefreshReg$"],"sources":["C:/Users/dharani/Desktop/Ecomreact-master/frontend/src/Customer/Categories/VendorStore.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './VendorStore.css';\r\n\r\nconst VendorStore = ({ vendorName, onViewProduct, onAddToCart, onToggleWishlist, wishlistItems, cartItems, navigateTo }) => {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchVendorProducts = async () => {\r\n      if (!vendorName && !sellerId) {\r\n        setProducts([]);\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      setLoading(true);\r\n      try {\r\n        let url;\r\n        if (sellerId) {\r\n          url = `http://localhost:5000/api/products?sellerId=${encodeURIComponent(sellerId)}`;\r\n        } else {\r\n          url = `http://localhost:5000/api/products?vendor=${encodeURIComponent(vendorName)}&status=approved`;\r\n        }\r\n        const res = await fetch(url);\r\n        if (!res.ok) throw new Error('Failed to fetch vendor products');\r\n        const data = await res.json();\r\n        setProducts(Array.isArray(data) ? data : []);\r\n        setError(null);\r\n      } catch (err) {\r\n        console.error('Error fetching vendor products:', err);\r\n        setError('Unable to load vendor products');\r\n        setProducts([]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchVendorProducts();\r\n  }, [vendorName, sellerId]);\r\n\r\n  const getImageSrc = (image) => {\r\n    if (!image) return 'https://via.placeholder.com/200x150?text=No+Image';\r\n    if (image.startsWith('http')) return image;\r\n    if (image.includes('-') && /^\\d+-/.test(image)) return `http://localhost:5000/uploads/${image}`;\r\n    return `/IMAGES/${image}`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"vendor-store-page container\">\r\n      <div className=\"vendor-store-header\">\r\n        <h2>{vendorName || 'Vendor Store'}</h2>\r\n        <p>Products by {vendorName}</p>\r\n      </div>\r\n\r\n      {loading && <div className=\"loading\">Loading products...</div>}\r\n      {error && <div className=\"error\">{error}</div>}\r\n\r\n      {!loading && !error && products.length === 0 && (\r\n        <div className=\"no-products\">No approved products available for this vendor.</div>\r\n      )}\r\n\r\n      <div className=\"vendor-products-grid\">\r\n        {products.map(p => (\r\n          <div key={p._id || p.id} className=\"vendor-product-card\">\r\n            <img src={getImageSrc(p.image)} alt={p.name} onError={(e)=> e.target.src='https://via.placeholder.com/200x150?text=No+Img'} />\r\n            <div className=\"vendor-product-body\">\r\n              <h4>{p.name}</h4>\r\n              <p className=\"vendor-product-vendor\">by {p.vendor}</p>\r\n              <div className=\"vendor-product-price\">₹{p.price?.toLocaleString()}</div>\r\n              <div className=\"vendor-product-actions\">\r\n                <button onClick={() => onViewProduct && onViewProduct(p)} className=\"btn\">View</button>\r\n                <button onClick={() => onAddToCart && onAddToCart(p)} className=\"btn secondary\">Add to Cart</button>\r\n                <button onClick={() => onToggleWishlist && onToggleWishlist(p)} className={`wishlist ${wishlistItems && wishlistItems.find(i=> (i._id||i.id) === (p._id||p.id)) ? 'active' : ''}`}>♥</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VendorStore;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}