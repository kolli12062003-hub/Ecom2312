{"ast":null,"code":"import _objectSpread from\"C:/Users/User/Downloads/reactlatest303/reactlatest3/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useRef,useEffect}from'react';import'./App.css';// Customer-facing components\nimport CategoryList from'./Customer/Categories/ShopByCategory/CategoryList';import PopularProductList from'./Customer/Popularproducts/ProductList';import Services from'./Customer/Services/Services';import BusinessList from'./Customer/Bussiness/BusinessList';import WishlistPage from'./Customer/Header/WishlistPage';import CartPage from'./Customer/Header/CartPage';import Checkout from'./Customer/Header/Checkout';import ProfilePage from'./Customer/Header/ProfilePage';import LoginPage from'./Auth/LoginPage';import ResetPassword from'./Auth/ResetPassword';import Header from'./Customer/Header/Header';import Navbar from'./Customer/Navbar/Navbar';import HeroSlider from'./Customer/Header/HeroSlider';import Footer from'./Customer/Footer/Footer';// Generic Vendor List\nimport GenericVendorList from'./Customer/Categories/GenericVendorList';// Vendor Store\nimport VendorStore from'./Customer/Categories/VendorStore';// Category pages\nimport FoodAndDining from'./Customer/Categories/Products/FoodDine/FoodAndDining';import Medicines from'./Customer/Categories/Products/Medicine/Medicines';import Services1 from'./Customer/Categories/Products/Service/Services1';import Jewellery from'./Customer/Categories/Products/Jewllery/Jewellery';import Clothes from'./Customer/Categories/Products/Clothes/Clothes';import Beauty from'./Customer/Categories/Products/Beauty/Beauty';import Grocery from'./Customer/Categories/Products/Groceries/Grocery';import Fruits from'./Customer/Categories/Products/Fruits/Fruits';import Books from'./Customer/Categories/Products/Books/Books';import Petfood from'./Customer/Categories/Products/Petfood/Petfood';import Musical from'./Customer/Categories/Products/Musical/Musical';import Footwear from'./Customer/Categories/Products/Footwear/Footwear';import HomeFurniture from'./Customer/Categories/Products/Furniture/HomeFurniture';import HomeDecor from'./Customer/Categories/Products/Decor/HomeDecor';import Bags from'./Customer/Categories/Products/Bags/Bags';import KitchenProducts from'./Customer/Categories/Products/KitchenProducts/KitchenProducts';import Organic from'./Customer/Categories/Products/Organic/Organic';import Automotive from'./Customer/Categories/Products/Automotive/Automotive';import SportsAndFitness from'./Customer/Categories/Products/SportsFitness/SportsAndFitness';import Watches from'./Customer/Categories/Products/Watches/Watches';// Product detail pages\nimport FoodDineProductDetail from'./Customer/Categories/Products/FoodDine/Food&Dine_ProductDetail';import MedicineProductDetail from'./Customer/Categories/Products/Medicine/MedicineProductDetail';import ServiceProductDetail from'./Customer/Categories/Products/Service/ServiceProductDetail';import AutomotiveProductDetail from'./Customer/Categories/Products/Automotive/AutomotiveProductDetail';import JewelleryProductDetail from'./Customer/Categories/Products/Jewllery/JewelleryProductDetail';import ClothesProductDetail from'./Customer/Categories/Products/Clothes/ClothesProductDetail';import BeautyProductDetail from'./Customer/Categories/Products/Beauty/BeautyProductDetail';import FootwearProductDetail from'./Customer/Categories/Products/Footwear/FootwearProductDetail';import GroceryProductDetail from'./Customer/Categories/Products/Groceries/GroceryProductDetail';import FruitProductDetail from'./Customer/Categories/Products/Fruits/FruitProductDetail';import BookProductDetail from'./Customer/Categories/Products/Books/BookProductDetail';import PetfoodProductDetail from'./Customer/Categories/Products/Petfood/PetfoodProductDetail';import MusicalProductDetail from'./Customer/Categories/Products/Musical/MusicalProductDetail';import HomeFurnitureProductDetail from'./Customer/Categories/Products/Furniture/HomeFurnitureProductDetail';import BagProductDetail from'./Customer/Categories/Products/Bags/BagProductDetail';import KitchenProductDetail from'./Customer/Categories/Products/KitchenProducts/KitchenProductDetail';import OrganicProductDetail from'./Customer/Categories/Products/Organic/OrganicProductDetail';import SportsAndFitnessProductDetail from'./Customer/Categories/Products/SportsFitness/SportsAndFitnessProductDetail';import WatchesProductDetail from'./Customer/Categories/Products/Watches/WatchesProductDetail';import HomeDecorProductDetail from'./Customer/Categories/Products/Decor/HomeDecorProductDetail';// Admin components\nimport AdminDashboard from'./Admin/AdminDashboard';import AdminOffersManagement from'./Admin/Admin-offers';import AdminPaymentManagement from'./Admin/Admin-payment-management';import AdminProductManagement from'./Admin/Admin-product-management';import AdminProfileManagement from'./Admin/Admin-profile-management';import AdminUserManagement from'./Admin/Admin-user-management';import AdminSellerManagement from'./Admin/Admin-seller-management';import AdminEarnerManagement from'./Admin/Admin-earner-management';// Seller component\nimport SellerDashboard from'./Seller/SellerDashboard';// Earner component\nimport EarnerDashboard from'./Earner/EarnerDashboard';// Product arrays\nimport{allClothesProducts}from'./Customer/Categories/Products/Clothes/ClothesProductDetail';import{allBookProducts}from'./Customer/Categories/Products/Books/BookProductDetail';import{allBagProducts}from'./Customer/Categories/Products/Bags/BagProductDetail';import{allKitchenProducts}from'./Customer/Categories/Products/KitchenProducts/KitchenProductDetail';import{allMusicalProducts}from'./Customer/Categories/Products/Musical/MusicalProductDetail';import{allPetfoodProducts}from'./Customer/Categories/Products/Petfood/PetfoodProductDetail';import{allWatchesProducts}from'./Customer/Categories/Products/Watches/WatchesProductDetail';import{allFootwearProducts}from'./Customer/Categories/Products/Footwear/FootwearProductDetail';import{allHomeFurnitureProducts}from'./Customer/Categories/Products/Furniture/HomeFurnitureProductDetail';import{allMedicineProducts}from'./Customer/Categories/Products/Medicine/MedicineProductDetail';import{allAutomotiveProducts}from'./Customer/Categories/Products/Automotive/AutomotiveProductDetail';import{allServicesProducts}from'./Customer/Categories/Products/Service/ServiceProductDetail';import{allGroceryProducts}from'./Customer/Categories/Products/Groceries/GroceryProductDetail';import{allFruitProducts}from'./Customer/Categories/Products/Fruits/FruitProductDetail';// Category configuration for vendor selection\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CATEGORY_CONFIG={'food':{category:'Food & Dining',displayName:'Food & Dining',productsPage:'food-products'},'medicines':{category:'Medicines',displayName:'Medicines',productsPage:'medicines-products'},'automotive':{category:'Automotive',displayName:'Automotive',productsPage:'automotive-products'},'services':{category:'Services',displayName:'Services',productsPage:'services-products'},'jewellery':{category:'Jewellery',displayName:'Jewellery',productsPage:'jewellery-products'},'clothes':{category:'Clothes',displayName:'Clothes',productsPage:'clothes-products'},'beauty':{category:'Beauty Products',displayName:'Beauty Products',productsPage:'beauty-products'},'groceries':{category:'Groceries',displayName:'Groceries',productsPage:'groceries-products'},'fruits':{category:'Fruits',displayName:'Fruits',productsPage:'fruits-products'},'books':{category:'Books',displayName:'Books',productsPage:'books-products'},'petfood':{category:'Pet Food',displayName:'Pet Food',productsPage:'petfood-products'},'musical':{category:'Musical Instruments',displayName:'Musical Instruments',productsPage:'musical-products'},'footwear':{category:'Footwear',displayName:'Footwear',productsPage:'footwear-products'},'homefurniture':{category:'Home Furniture',displayName:'Home Furniture',productsPage:'homefurniture-products'},'bag':{category:'Bags',displayName:'Bags',productsPage:'bag-products'},'kitchenproduct':{category:'Kitchen Products',displayName:'Kitchen Products',productsPage:'kitchenproduct-products'},'organic':{category:'Organic Veggies&Fruits',displayName:'Organic Products',productsPage:'organic-products'},'sports-fitness':{category:'Sports & Fitness',displayName:'Sports & Fitness',productsPage:'sports-fitness-products'},'watches':{category:'Watches',displayName:'Watches',productsPage:'watches-products'},'homedecor':{category:'Home Decor',displayName:'Home Decor',productsPage:'homedecor-products'}};// Combine all products\nconst initialProducts=[...allClothesProducts,...allBookProducts,...allBagProducts,...allKitchenProducts,...allMusicalProducts,...allPetfoodProducts,...allWatchesProducts,...allFootwearProducts,...allHomeFurnitureProducts,...allMedicineProducts,...allAutomotiveProducts,...allServicesProducts,...allGroceryProducts,...allFruitProducts];const popularProducts=initialProducts.slice(0,8);const API_URL='http://localhost:5000';function App(){// State management\nconst[cartItems,setCartItems]=useState([]);const[wishlistItems,setWishlistItems]=useState([]);const[activePage,setActivePage]=useState('home');const[viewingProduct,setViewingProduct]=useState(null);const[currentUser,setCurrentUser]=useState({isAuthenticated:false,role:null,details:null});const[searchQuery,setSearchQuery]=useState('');const[allProducts,setAllProducts]=useState(initialProducts);const[selectedVendor,setSelectedVendor]=useState(null);const[selectedSellerId,setSelectedSellerId]=useState(null);const[allSellers,setAllSellers]=useState([]);const[allAdmins,setAllAdmins]=useState([]);const categorySectionRef=useRef(null);// Listen for fallback vendor-store navigation events (from components that don't receive `navigateTo` prop)\nuseEffect(()=>{const handler=e=>{const detail=e&&e.detail;if(!detail)return;if(typeof detail==='string'){setSelectedVendor(detail);setSelectedSellerId(null);}else if(typeof detail==='object'){setSelectedVendor(detail.vendor||null);setSelectedSellerId(detail.sellerId||null);}setActivePage('vendor-store');window.scrollTo(0,0);};window.addEventListener('openVendorStore',handler);return()=>window.removeEventListener('openVendorStore',handler);},[]);// Listen for visit seller dashboard event\nuseEffect(()=>{const handler=e=>{const sellerId=e&&e.detail&&e.detail.sellerId;if(sellerId){setActivePage('seller-dashboard');window.scrollTo(0,0);}};window.addEventListener('visitSellerDashboard',handler);return()=>window.removeEventListener('visitSellerDashboard',handler);},[]);// Helper function to save cart to server\nconst saveCartToServer=async(cart,userEmail,userRole)=>{try{await fetch(\"\".concat(API_URL,\"/api/cart/save\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:userEmail,role:userRole,cart})});}catch(error){console.error('Error saving cart to server:',error);}};// Helper function to save wishlist to server\nconst saveWishlistToServer=async(wishlist,userEmail,userRole)=>{try{await fetch(\"\".concat(API_URL,\"/api/wishlist/save\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email:userEmail,role:userRole,wishlist})});}catch(error){console.error('Error saving wishlist to server:',error);}};// Helper function to fetch cart from server\nconst fetchCartFromServer=async(userEmail,userRole)=>{try{const response=await fetch(\"\".concat(API_URL,\"/api/cart/\").concat(userEmail,\"/\").concat(userRole));const data=await response.json();return data.cart||[];}catch(error){console.error('Error fetching cart from server:',error);return[];}};// Helper function to fetch wishlist from server\nconst fetchWishlistFromServer=async(userEmail,userRole)=>{try{const response=await fetch(\"\".concat(API_URL,\"/api/wishlist/\").concat(userEmail,\"/\").concat(userRole));const data=await response.json();return data.wishlist||[];}catch(error){console.error('Error fetching wishlist from server:',error);return[];}};// RESTORE USER SESSION ON PAGE LOAD/REFRESH\nuseEffect(()=>{const restoreSession=async()=>{// Check URL for reset password token\nconst search=window.location.search;if(search.includes('token=')){setActivePage('reset-password');return;}// Try to restore user from localStorage\nconst storedUser=localStorage.getItem('currentUser');if(storedUser){try{const userData=JSON.parse(storedUser);console.log('ðŸ”„ Restoring user session:',userData.details.email);// Restore user state\nsetCurrentUser(userData);// Fetch cart and wishlist from SERVER\nconst userEmail=userData.details.email;const userRole=userData.role;const[serverCart,serverWishlist]=await Promise.all([fetchCartFromServer(userEmail,userRole),fetchWishlistFromServer(userEmail,userRole)]);setCartItems(serverCart);setWishlistItems(serverWishlist);console.log('âœ… Session restored successfully');console.log('   Cart items:',serverCart.length);console.log('   Wishlist items:',serverWishlist.length);// Navigate to appropriate page based on role\nconst lowerCaseRole=userRole.toLowerCase();if(lowerCaseRole==='seller'){setActivePage('seller-dashboard');}else if(lowerCaseRole==='admin'){setActivePage('admin-dashboard');}else if(lowerCaseRole==='earner'){setActivePage('earner-dashboard');}else{setActivePage('home');}}catch(error){console.error('âŒ Error restoring session:',error);// If restoration fails, clear everything\nlocalStorage.removeItem('currentUser');setCurrentUser({isAuthenticated:false,role:null,details:null});setCartItems([]);setWishlistItems([]);setActivePage('home');}}else{console.log('â„¹ï¸  No stored session found - user not logged in');setActivePage('home');}};restoreSession();},[]);// Authentication handlers\nconst handleLoginSuccess=async(role,userDetails)=>{const userData={isAuthenticated:true,role:role,details:userDetails};// Update state initially\nsetCurrentUser(userData);// Save user to localStorage (but will be cleared on refresh)\nlocalStorage.setItem('currentUser',JSON.stringify(userData));// Fetch cart and wishlist from SERVER\nconst userEmail=userDetails.email;const userRole=role;const serverCart=await fetchCartFromServer(userEmail,userRole);const serverWishlist=await fetchWishlistFromServer(userEmail,userRole);setCartItems(serverCart);setWishlistItems(serverWishlist);// Fetch the latest profile data from server and update currentUser.details\ntry{const profileResponse=await fetch(\"\".concat(API_URL,\"/api/profile?email=\").concat(userEmail,\"&role=\").concat(userRole));if(profileResponse.ok){const profileData=await profileResponse.json();const updatedDetails=_objectSpread(_objectSpread({},userDetails),{},{name:profileData.user.fullname,phone:profileData.user.phone,gender:profileData.user.gender,dateOfBirth:profileData.user.dateOfBirth,addresses:profileData.user.addresses});const updatedUserData=_objectSpread(_objectSpread({},userData),{},{details:updatedDetails});setCurrentUser(updatedUserData);localStorage.setItem('currentUser',JSON.stringify(updatedUserData));}}catch(error){console.error('Error fetching profile data on login:',error);}const lowerCaseRole=role.toLowerCase();if(lowerCaseRole==='customer'){navigateTo('home');}else if(lowerCaseRole==='seller'){navigateTo('seller-dashboard');}else if(lowerCaseRole==='admin'){navigateTo('admin-dashboard');}else if(lowerCaseRole==='earner'){navigateTo('earner-dashboard');}};// LOGOUT FUNCTION - SAVES TO SERVER BEFORE CLEARING\nconst handleLogout=async()=>{// SAVE current user's cart and wishlist to SERVER before logout\nif(currentUser.isAuthenticated&&currentUser.details){const userEmail=currentUser.details.email;const userRole=currentUser.role;await saveCartToServer(cartItems,userEmail,userRole);await saveWishlistToServer(wishlistItems,userEmail,userRole);}// Clear user state\nsetCurrentUser({isAuthenticated:false,role:null,details:null});// Clear displayed cart and wishlist (for privacy)\nsetCartItems([]);setWishlistItems([]);// Remove current user from localStorage\nlocalStorage.removeItem('currentUser');navigateTo('home');};const handleSellerRegister=newSeller=>{setAllSellers(prevSellers=>[...prevSellers,newSeller]);};const handleAdminRegister=newAdmin=>{setAllAdmins(prevAdmins=>[...prevAdmins,newAdmin]);console.log('Admin registered:',newAdmin);};// Cart handlers - Save to SERVER\nconst handleAddToCart=async productToAdd=>{const productKey=productToAdd._id||productToAdd.id;const itemInCart=cartItems.find(item=>(item._id||item.id)===productKey);let updatedCart;if(itemInCart){updatedCart=cartItems.map(item=>(item._id||item.id)===productKey?_objectSpread(_objectSpread({},item),{},{quantity:item.quantity+1}):item);}else{updatedCart=[...cartItems,_objectSpread(_objectSpread({},productToAdd),{},{quantity:1})];}setCartItems(updatedCart);// Save to SERVER\nif(currentUser.isAuthenticated&&currentUser.details){await saveCartToServer(updatedCart,currentUser.details.email,currentUser.role);}alert(\"\".concat(productToAdd.name,\" has been added to your cart!\"));};const handleUpdateQuantity=async(productId,newQuantity)=>{if(newQuantity<=0){handleRemoveFromCart(productId);}else{const updatedCart=cartItems.map(item=>(item._id||item.id)===productId?_objectSpread(_objectSpread({},item),{},{quantity:newQuantity}):item);setCartItems(updatedCart);// Save to SERVER\nif(currentUser.isAuthenticated&&currentUser.details){await saveCartToServer(updatedCart,currentUser.details.email,currentUser.role);}}};const handleRemoveFromCart=async productId=>{const updatedCart=cartItems.filter(item=>(item._id||item.id)!==productId);setCartItems(updatedCart);// Save to SERVER\nif(currentUser.isAuthenticated&&currentUser.details){await saveCartToServer(updatedCart,currentUser.details.email,currentUser.role);}};// Wishlist handlers - Save to SERVER\nconst handleToggleWishlist=async productToAdd=>{const productKey=productToAdd._id||productToAdd.id;const itemInWishlist=wishlistItems.find(item=>(item._id||item.id)===productKey);let updatedWishlist;if(itemInWishlist){updatedWishlist=wishlistItems.filter(item=>(item._id||item.id)!==productKey);alert(\"\".concat(productToAdd.name,\" removed from wishlist!\"));}else{updatedWishlist=[...wishlistItems,productToAdd];alert(\"\".concat(productToAdd.name,\" added to wishlist!\"));}setWishlistItems(updatedWishlist);// Save to SERVER\nif(currentUser.isAuthenticated&&currentUser.details){await saveWishlistToServer(updatedWishlist,currentUser.details.email,currentUser.role);}};// Navigation\nconst navigateTo=function(page){let product=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;// Handle vendor selection with data parameter\nif(typeof product==='object'&&product!==null&&product.vendor){setSelectedVendor(product.vendor);if(product.sellerId)setSelectedSellerId(product.sellerId);}else if(typeof product==='string'&&page==='vendor-store'){// Allow passing vendor name directly as a string\nsetSelectedVendor(product);setSelectedSellerId(null);}else if(!page.endsWith('-products')){// Clear vendor selection when navigating away from products pages\nsetSelectedVendor(null);setSelectedSellerId(null);}setActivePage(page);if(product&&page==='productDetail'){setViewingProduct(product);}window.scrollTo(0,0);};const handleViewProduct=product=>{setViewingProduct(product);navigateTo('productDetail');};// Search handler\nconst handleSearch=async query=>{const lowerCaseQuery=query.toLowerCase().trim();setSearchQuery(lowerCaseQuery);if(!lowerCaseQuery){setAllProducts(initialProducts);return;}const categoryMapping={'food & dining':'food','food':'food','medicines':'medicines','automotive':'automotive','services':'services','jewellery':'jewellery','clothes':'clothes','beauty':'beauty','footwear':'footwear','groceries':'groceries','fruits':'fruits','books':'books','Pet Food':'petfood','musical':'musical','homefurniture':'homefurniture','bags':'bag','kitchen':'kitchenproduct','sports':'sports-fitness','watches':'watches','homedecor':'homedecor','organic':'organic'};if(categoryMapping[lowerCaseQuery]){navigateTo(categoryMapping[lowerCaseQuery]);setSearchQuery('');return;}try{// Fetch all products from backend\nconst response=await fetch(\"\".concat(API_URL,\"/api/products\"));if(!response.ok){throw new Error('Failed to fetch products');}const backendProducts=await response.json();// Combine backend products with initial products\nconst allAvailableProducts=[...initialProducts,...backendProducts];// Filter products based on search query\nconst filteredProducts=allAvailableProducts.filter(product=>product.name.toLowerCase().includes(lowerCaseQuery)||product.vendor.toLowerCase().includes(lowerCaseQuery)||product.category.toLowerCase().includes(lowerCaseQuery));if(filteredProducts.length>0){// Find the category of the first matching product\nconst productCategory=filteredProducts[0].category.toLowerCase();// Map category to page name (assuming category names match page keys)\nconst pageMapping={'food & dining':'food','medicines':'medicines','automotive':'automotive','services':'services','jewellery':'jewellery','clothes':'clothes','beauty':'beauty','footwear':'footwear','groceries':'groceries','fruits':'fruits','books':'books','pet food':'petfood','musical instruments':'musical','home furniture':'homefurniture','bags':'bag','kitchen products':'kitchenproduct','sports & fitness':'sports-fitness','watches':'watches','home decor':'homedecor','organic veggies&fruits':'organic'};const targetPage=pageMapping[productCategory]||productCategory;navigateTo(targetPage);}else{setAllProducts([]);}}catch(error){console.error('Error fetching products for search:',error);const filteredProducts=initialProducts.filter(product=>product.name.toLowerCase().includes(lowerCaseQuery)||product.vendor.toLowerCase().includes(lowerCaseQuery)||product.category.toLowerCase().includes(lowerCaseQuery));if(filteredProducts.length>0){const productCategory=filteredProducts[0].category.toLowerCase();const pageMapping={'food & dining':'food','medicines':'medicines','automotive':'automotive','services':'services','jewellery':'jewellery','clothes':'clothes','beauty':'beauty','footwear':'footwear','groceries':'groceries','fruits':'fruits','books':'books','pet food':'petfood','musical instruments':'musical','home furniture':'homefurniture','bags':'bag','kitchen products':'kitchenproduct','sports & fitness':'sports-fitness','watches':'watches','home decor':'homedecor','organic veggies&fruits':'organic'};const targetPage=pageMapping[productCategory]||productCategory;navigateTo(targetPage);}else{// Show \"No products found\" message on home page\nsetAllProducts([]);navigateTo('home');}}};// Common props for category pages\nconst commonProps={cartItems,wishlistItems,onAddToCart:handleAddToCart,onToggleWishlist:handleToggleWishlist,allProducts,onViewProduct:handleViewProduct,navigateTo,searchQuery};// Render page content\nconst renderPage=()=>{// Reset Password page - No header/navbar\nif(activePage==='reset-password'){return/*#__PURE__*/_jsx(ResetPassword,{navigateTo:navigateTo});}// Admin pages\nif(currentUser.role&&currentUser.role.toLowerCase()==='admin'){const adminPages={'admin-dashboard':/*#__PURE__*/_jsx(AdminDashboard,{navigateTo:navigateTo,onLogout:handleLogout}),'admin-offers':/*#__PURE__*/_jsx(AdminOffersManagement,{}),'admin-orders':/*#__PURE__*/_jsx(AdminPaymentManagement,{}),'admin-catalog':/*#__PURE__*/_jsx(AdminProductManagement,{}),'admin-profiles':/*#__PURE__*/_jsx(AdminProfileManagement,{navigateTo:navigateTo}),'admin-users':/*#__PURE__*/_jsx(AdminUserManagement,{navigateTo:navigateTo}),'admin-sellers':/*#__PURE__*/_jsx(AdminSellerManagement,{navigateTo:navigateTo}),'admin-earner-management':/*#__PURE__*/_jsx(AdminEarnerManagement,{navigateTo:navigateTo})// â­ ADD THIS\n};if(adminPages[activePage]){return adminPages[activePage];}}// Seller dashboard\nif(currentUser.role&&currentUser.role.toLowerCase()==='seller'&&activePage==='seller-dashboard'){return/*#__PURE__*/_jsx(SellerDashboard,{seller:currentUser.details,setAllProducts:setAllProducts,onLogout:handleLogout});}// Earner dashboard\nif(currentUser.role&&currentUser.role.toLowerCase()==='earner'&&activePage==='earner-dashboard'){return/*#__PURE__*/_jsx(EarnerDashboard,{onLogout:handleLogout,user:currentUser.details});}// Customer pages\nconst categoryPages={'login':/*#__PURE__*/_jsx(LoginPage,{onLoginSuccess:handleLoginSuccess,onSellerRegister:handleSellerRegister,onAdminRegister:handleAdminRegister}),// VENDOR LIST PAGES (User selects vendor)\n'food':/*#__PURE__*/_jsx(GenericVendorList,{navigateTo:navigateTo,searchQuery:searchQuery,category:CATEGORY_CONFIG.food.category,categoryDisplayName:CATEGORY_CONFIG.food.displayName,targetPage:CATEGORY_CONFIG.food.productsPage}),'medicines':/*#__PURE__*/_jsx(GenericVendorList,{navigateTo:navigateTo,searchQuery:searchQuery,category:CATEGORY_CONFIG.medicines.category,categoryDisplayName:CATEGORY_CONFIG.medicines.displayName,targetPage:CATEGORY_CONFIG.medicines.productsPage}),'automotive':/*#__PURE__*/_jsx(GenericVendorList,{navigateTo:navigateTo,searchQuery:searchQuery,category:CATEGORY_CONFIG.automotive.category,categoryDisplayName:CATEGORY_CONFIG.automotive.displayName,targetPage:CATEGORY_CONFIG.automotive.productsPage}),'services':/*#__PURE__*/_jsx(GenericVendorList,{navigateTo:navigateTo,searchQuery:searchQuery,category:CATEGORY_CONFIG.services.category,categoryDisplayName:CATEGORY_CONFIG.services.displayName,targetPage:CATEGORY_CONFIG.services.productsPage}),'jewellery':/*#__PURE__*/_jsx(GenericVendorList,{navigateTo:navigateTo,searchQuery:searchQuery,category:CATEGORY_CONFIG.jewellery.category,categoryDisplayName:CATEGORY_CONFIG.jewellery.displayName,targetPage:CATEGORY_CONFIG.jewellery.productsPage}),'clothes':/*#__PURE__*/_jsx(GenericVendorList,{navigateTo:navigateTo,searchQuery:searchQuery,category:CATEGORY_CONFIG.clothes.category,categoryDisplayName:CATEGORY_CONFIG.clothes.displayName,targetPage:CATEGORY_CONFIG.clothes.productsPage}),'beauty':/*#__PURE__*/_jsx(GenericVendorList,{navigateTo:navigateTo,searchQuery:searchQuery,category:CATEGORY_CONFIG.beauty.category,categoryDisplayName:CATEGORY_CONFIG.beauty.displayName,targetPage:CATEGORY_CONFIG.beauty.productsPage}),'groceries':/*#__PURE__*/_jsx(GenericVendorList,{navigateTo:navigateTo,searchQuery:searchQuery,category:CATEGORY_CONFIG.groceries.category,categoryDisplayName:CATEGORY_CONFIG.groceries.displayName,targetPage:CATEGORY_CONFIG.groceries.productsPage}),'fruits':/*#__PURE__*/_jsx(GenericVendorList,{navigateTo:navigateTo,searchQuery:searchQuery,category:CATEGORY_CONFIG.fruits.category,categoryDisplayName:CATEGORY_CONFIG.fruits.displayName,targetPage:CATEGORY_CONFIG.fruits.productsPage}),'books':/*#__PURE__*/_jsx(GenericVendorList,{navigateTo:navigateTo,searchQuery:searchQuery,category:CATEGORY_CONFIG.books.category,categoryDisplayName:CATEGORY_CONFIG.books.displayName,targetPage:CATEGORY_CONFIG.books.productsPage}),'petfood':/*#__PURE__*/_jsx(GenericVendorList,{navigateTo:navigateTo,searchQuery:searchQuery,category:CATEGORY_CONFIG.petfood.category,categoryDisplayName:CATEGORY_CONFIG.petfood.displayName,targetPage:CATEGORY_CONFIG.petfood.productsPage}),'musical':/*#__PURE__*/_jsx(GenericVendorList,{navigateTo:navigateTo,searchQuery:searchQuery,category:CATEGORY_CONFIG.musical.category,categoryDisplayName:CATEGORY_CONFIG.musical.displayName,targetPage:CATEGORY_CONFIG.musical.productsPage}),'footwear':/*#__PURE__*/_jsx(GenericVendorList,{navigateTo:navigateTo,searchQuery:searchQuery,category:CATEGORY_CONFIG.footwear.category,categoryDisplayName:CATEGORY_CONFIG.footwear.displayName,targetPage:CATEGORY_CONFIG.footwear.productsPage}),'homefurniture':/*#__PURE__*/_jsx(GenericVendorList,{navigateTo:navigateTo,searchQuery:searchQuery,category:CATEGORY_CONFIG.homefurniture.category,categoryDisplayName:CATEGORY_CONFIG.homefurniture.displayName,targetPage:CATEGORY_CONFIG.homefurniture.productsPage}),'bag':/*#__PURE__*/_jsx(GenericVendorList,{navigateTo:navigateTo,searchQuery:searchQuery,category:CATEGORY_CONFIG.bag.category,categoryDisplayName:CATEGORY_CONFIG.bag.displayName,targetPage:CATEGORY_CONFIG.bag.productsPage}),'kitchenproduct':/*#__PURE__*/_jsx(GenericVendorList,{navigateTo:navigateTo,searchQuery:searchQuery,category:CATEGORY_CONFIG.kitchenproduct.category,categoryDisplayName:CATEGORY_CONFIG.kitchenproduct.displayName,targetPage:CATEGORY_CONFIG.kitchenproduct.productsPage}),'organic':/*#__PURE__*/_jsx(GenericVendorList,{navigateTo:navigateTo,searchQuery:searchQuery,category:CATEGORY_CONFIG.organic.category,categoryDisplayName:CATEGORY_CONFIG.organic.displayName,targetPage:CATEGORY_CONFIG.organic.productsPage}),'sports-fitness':/*#__PURE__*/_jsx(GenericVendorList,{navigateTo:navigateTo,searchQuery:searchQuery,category:CATEGORY_CONFIG['sports-fitness'].category,categoryDisplayName:CATEGORY_CONFIG['sports-fitness'].displayName,targetPage:CATEGORY_CONFIG['sports-fitness'].productsPage}),'watches':/*#__PURE__*/_jsx(GenericVendorList,{navigateTo:navigateTo,searchQuery:searchQuery,category:CATEGORY_CONFIG.watches.category,categoryDisplayName:CATEGORY_CONFIG.watches.displayName,targetPage:CATEGORY_CONFIG.watches.productsPage}),'homedecor':/*#__PURE__*/_jsx(GenericVendorList,{navigateTo:navigateTo,searchQuery:searchQuery,category:CATEGORY_CONFIG.homedecor.category,categoryDisplayName:CATEGORY_CONFIG.homedecor.displayName,targetPage:CATEGORY_CONFIG.homedecor.productsPage}),// PRODUCTS PAGES (Shows vendor's products)\n'food-products':/*#__PURE__*/_jsx(FoodAndDining,_objectSpread(_objectSpread({},commonProps),{},{selectedVendor:selectedVendor})),'medicines-products':/*#__PURE__*/_jsx(Medicines,_objectSpread(_objectSpread({},commonProps),{},{selectedVendor:selectedVendor})),'automotive-products':/*#__PURE__*/_jsx(Automotive,_objectSpread(_objectSpread({},commonProps),{},{selectedVendor:selectedVendor})),'services-products':/*#__PURE__*/_jsx(Services1,_objectSpread(_objectSpread({},commonProps),{},{selectedVendor:selectedVendor})),'jewellery-products':/*#__PURE__*/_jsx(Jewellery,_objectSpread(_objectSpread({},commonProps),{},{selectedVendor:selectedVendor})),'clothes-products':/*#__PURE__*/_jsx(Clothes,_objectSpread(_objectSpread({},commonProps),{},{selectedVendor:selectedVendor})),'beauty-products':/*#__PURE__*/_jsx(Beauty,_objectSpread(_objectSpread({},commonProps),{},{selectedVendor:selectedVendor})),'groceries-products':/*#__PURE__*/_jsx(Grocery,_objectSpread(_objectSpread({},commonProps),{},{selectedVendor:selectedVendor})),'fruits-products':/*#__PURE__*/_jsx(Fruits,_objectSpread(_objectSpread({},commonProps),{},{selectedVendor:selectedVendor})),'books-products':/*#__PURE__*/_jsx(Books,_objectSpread(_objectSpread({},commonProps),{},{selectedVendor:selectedVendor})),'petfood-products':/*#__PURE__*/_jsx(Petfood,_objectSpread(_objectSpread({},commonProps),{},{selectedVendor:selectedVendor})),'musical-products':/*#__PURE__*/_jsx(Musical,_objectSpread(_objectSpread({},commonProps),{},{selectedVendor:selectedVendor})),'footwear-products':/*#__PURE__*/_jsx(Footwear,_objectSpread(_objectSpread({},commonProps),{},{selectedVendor:selectedVendor})),'homefurniture-products':/*#__PURE__*/_jsx(HomeFurniture,_objectSpread(_objectSpread({},commonProps),{},{selectedVendor:selectedVendor})),'bag-products':/*#__PURE__*/_jsx(Bags,_objectSpread(_objectSpread({},commonProps),{},{selectedVendor:selectedVendor})),'kitchenproduct-products':/*#__PURE__*/_jsx(KitchenProducts,_objectSpread(_objectSpread({},commonProps),{},{selectedVendor:selectedVendor})),'organic-products':/*#__PURE__*/_jsx(Organic,_objectSpread(_objectSpread({},commonProps),{},{selectedVendor:selectedVendor})),'sports-fitness-products':/*#__PURE__*/_jsx(SportsAndFitness,_objectSpread(_objectSpread({},commonProps),{},{selectedVendor:selectedVendor})),'watches-products':/*#__PURE__*/_jsx(Watches,_objectSpread(_objectSpread({},commonProps),{},{selectedVendor:selectedVendor})),'homedecor-products':/*#__PURE__*/_jsx(HomeDecor,_objectSpread(_objectSpread({},commonProps),{},{selectedVendor:selectedVendor})),// OTHER PAGES\n'cart':/*#__PURE__*/_jsx(CartPage,{cartItems:cartItems,onUpdateQuantity:handleUpdateQuantity,onRemoveFromCart:handleRemoveFromCart,navigateTo:navigateTo,onToggleWishlist:handleToggleWishlist,wishlistItems:wishlistItems,currentUser:currentUser}),'checkout':/*#__PURE__*/_jsx(Checkout,{cartItems:cartItems,navigateTo:navigateTo,currentUser:currentUser}),'wishlist':/*#__PURE__*/_jsx(WishlistPage,{wishlistItems:wishlistItems,cartItems:cartItems,onAddToCart:handleAddToCart,onToggleWishlist:handleToggleWishlist,navigateTo:navigateTo}),'profile':/*#__PURE__*/_jsx(ProfilePage,{currentUser:currentUser,navigateTo:navigateTo,onProfileUpdate:updatedDetails=>{setCurrentUser(prev=>_objectSpread(_objectSpread({},prev),{},{details:_objectSpread(_objectSpread({},prev.details),updatedDetails)}));}})};// Product detail pages\n// Vendor store page (show products for a selected vendor)\nif(activePage==='vendor-store'){return/*#__PURE__*/_jsx(VendorStore,{vendorName:selectedVendor,sellerId:selectedSellerId,navigateTo:navigateTo,onAddToCart:handleAddToCart,onToggleWishlist:handleToggleWishlist,cartItems:cartItems,wishlistItems:wishlistItems,onViewProduct:handleViewProduct});}if(activePage==='productDetail'&&viewingProduct){const detailPages={'medicines':MedicineProductDetail,'automotive':AutomotiveProductDetail,'services':ServiceProductDetail,'jewellery':JewelleryProductDetail,'clothes':ClothesProductDetail,'footwear':FootwearProductDetail,'women\\'s footwear':FootwearProductDetail,'men\\'s footwear':FootwearProductDetail,'kids\\' footwear':FootwearProductDetail,'groceries':GroceryProductDetail,'grocery':GroceryProductDetail,'fruits':FruitProductDetail,'books':BookProductDetail,'pet food':PetfoodProductDetail,'beauty products':BeautyProductDetail,'musical instruments':MusicalProductDetail,'home furniture':HomeFurnitureProductDetail,'bags':BagProductDetail,'kitchen products':KitchenProductDetail,'organic veggies&fruits':OrganicProductDetail,'sports & fitness':SportsAndFitnessProductDetail,'watches':WatchesProductDetail,'home decor':HomeDecorProductDetail,'food & dining':FoodDineProductDetail};const DetailComponent=detailPages[viewingProduct.category.toLowerCase()]||(()=>/*#__PURE__*/_jsx(\"div\",{children:\"Product Detail Not Found\"}));return/*#__PURE__*/_jsx(DetailComponent,{product:viewingProduct,cartItems:cartItems,wishlistItems:wishlistItems,onAddToCart:handleAddToCart,onToggleWishlist:handleToggleWishlist,allProducts:allProducts,navigateTo:navigateTo,onViewProduct:handleViewProduct});}// Check if it's a category page\nif(categoryPages[activePage]){return categoryPages[activePage];}// Default home page\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(HeroSlider,{navigateTo:navigateTo}),/*#__PURE__*/_jsx(\"div\",{ref:categorySectionRef,children:/*#__PURE__*/_jsx(CategoryList,{navigateTo:navigateTo})}),searchQuery?/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Search Results for \\\"\",searchQuery,\"\\\"\"]}),allProducts.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"product-grid\",children:allProducts.map(product=>/*#__PURE__*/_jsxs(\"div\",{className:\"product-card\",onClick:()=>handleViewProduct(product),children:[/*#__PURE__*/_jsx(\"img\",{src:product.image?product.image.startsWith('http')?product.image:\"/IMAGES/\".concat(product.image):'https://via.placeholder.com/200x150?text=No+Image',alt:product.name,onError:e=>e.target.src='https://via.placeholder.com/200x150?text=No+Img'}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:product.name}),/*#__PURE__*/_jsx(\"p\",{children:product.vendor}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-price\",children:[\"\\u20B9\",product.price]})]})]},product.id||product._id))}):/*#__PURE__*/_jsx(\"div\",{className:\"no-results\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"No products found for \\\"\",searchQuery,\"\\\". Try a different search term.\"]})})]}):/*#__PURE__*/_jsx(PopularProductList,{popularProducts:popularProducts,onAddToCart:handleAddToCart,wishlistItems:wishlistItems,onViewProduct:handleViewProduct,onToggleWishlist:handleToggleWishlist,cartItems:cartItems,navigateTo:navigateTo}),/*#__PURE__*/_jsx(Services,{}),/*#__PURE__*/_jsx(BusinessList,{})]});};const showCustomerHeader=activePage!=='seller-dashboard'&&activePage!=='earner-dashboard'&&!activePage.startsWith('admin-')&&activePage!=='reset-password'&&(!currentUser.role||currentUser.role.toLowerCase()!=='admin');return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[showCustomerHeader&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{cartItems:cartItems,wishlistItems:wishlistItems,onSearch:handleSearch,navigateTo:navigateTo,onLogout:handleLogout,currentUser:currentUser}),/*#__PURE__*/_jsx(Navbar,{navigateTo:navigateTo})]}),/*#__PURE__*/_jsx(\"main\",{children:renderPage()}),showCustomerHeader&&/*#__PURE__*/_jsx(Footer,{navigateTo:navigateTo})]});}export default App;//tosharefile","map":{"version":3,"names":["React","useState","useRef","useEffect","CategoryList","PopularProductList","Services","BusinessList","WishlistPage","CartPage","Checkout","ProfilePage","LoginPage","ResetPassword","Header","Navbar","HeroSlider","Footer","GenericVendorList","VendorStore","FoodAndDining","Medicines","Services1","Jewellery","Clothes","Beauty","Grocery","Fruits","Books","Petfood","Musical","Footwear","HomeFurniture","HomeDecor","Bags","KitchenProducts","Organic","Automotive","SportsAndFitness","Watches","FoodDineProductDetail","MedicineProductDetail","ServiceProductDetail","AutomotiveProductDetail","JewelleryProductDetail","ClothesProductDetail","BeautyProductDetail","FootwearProductDetail","GroceryProductDetail","FruitProductDetail","BookProductDetail","PetfoodProductDetail","MusicalProductDetail","HomeFurnitureProductDetail","BagProductDetail","KitchenProductDetail","OrganicProductDetail","SportsAndFitnessProductDetail","WatchesProductDetail","HomeDecorProductDetail","AdminDashboard","AdminOffersManagement","AdminPaymentManagement","AdminProductManagement","AdminProfileManagement","AdminUserManagement","AdminSellerManagement","AdminEarnerManagement","SellerDashboard","EarnerDashboard","allClothesProducts","allBookProducts","allBagProducts","allKitchenProducts","allMusicalProducts","allPetfoodProducts","allWatchesProducts","allFootwearProducts","allHomeFurnitureProducts","allMedicineProducts","allAutomotiveProducts","allServicesProducts","allGroceryProducts","allFruitProducts","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CATEGORY_CONFIG","category","displayName","productsPage","initialProducts","popularProducts","slice","API_URL","App","cartItems","setCartItems","wishlistItems","setWishlistItems","activePage","setActivePage","viewingProduct","setViewingProduct","currentUser","setCurrentUser","isAuthenticated","role","details","searchQuery","setSearchQuery","allProducts","setAllProducts","selectedVendor","setSelectedVendor","selectedSellerId","setSelectedSellerId","allSellers","setAllSellers","allAdmins","setAllAdmins","categorySectionRef","handler","e","detail","vendor","sellerId","window","scrollTo","addEventListener","removeEventListener","saveCartToServer","cart","userEmail","userRole","fetch","concat","method","headers","body","JSON","stringify","email","error","console","saveWishlistToServer","wishlist","fetchCartFromServer","response","data","json","fetchWishlistFromServer","restoreSession","search","location","includes","storedUser","localStorage","getItem","userData","parse","log","serverCart","serverWishlist","Promise","all","length","lowerCaseRole","toLowerCase","removeItem","handleLoginSuccess","userDetails","setItem","profileResponse","ok","profileData","updatedDetails","_objectSpread","name","user","fullname","phone","gender","dateOfBirth","addresses","updatedUserData","navigateTo","handleLogout","handleSellerRegister","newSeller","prevSellers","handleAdminRegister","newAdmin","prevAdmins","handleAddToCart","productToAdd","productKey","_id","id","itemInCart","find","item","updatedCart","map","quantity","alert","handleUpdateQuantity","productId","newQuantity","handleRemoveFromCart","filter","handleToggleWishlist","itemInWishlist","updatedWishlist","page","product","arguments","undefined","endsWith","handleViewProduct","handleSearch","query","lowerCaseQuery","trim","categoryMapping","Error","backendProducts","allAvailableProducts","filteredProducts","productCategory","pageMapping","targetPage","commonProps","onAddToCart","onToggleWishlist","onViewProduct","renderPage","adminPages","onLogout","seller","categoryPages","onLoginSuccess","onSellerRegister","onAdminRegister","food","categoryDisplayName","medicines","automotive","services","jewellery","clothes","beauty","groceries","fruits","books","petfood","musical","footwear","homefurniture","bag","kitchenproduct","organic","watches","homedecor","onUpdateQuantity","onRemoveFromCart","onProfileUpdate","prev","vendorName","detailPages","DetailComponent","children","ref","className","onClick","src","image","startsWith","alt","onError","target","price","showCustomerHeader","onSearch"],"sources":["C:/Users/User/Downloads/reactlatest303/reactlatest3/frontend/src/App.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport './App.css';\n\n// Customer-facing components\nimport CategoryList from './Customer/Categories/ShopByCategory/CategoryList';\nimport PopularProductList from './Customer/Popularproducts/ProductList';\nimport Services from './Customer/Services/Services';\nimport BusinessList from './Customer/Bussiness/BusinessList';\nimport WishlistPage from './Customer/Header/WishlistPage';\nimport CartPage from './Customer/Header/CartPage';\nimport Checkout from './Customer/Header/Checkout';\nimport ProfilePage from './Customer/Header/ProfilePage';\nimport LoginPage from './Auth/LoginPage';\nimport ResetPassword from './Auth/ResetPassword';\nimport Header from './Customer/Header/Header';\nimport Navbar from './Customer/Navbar/Navbar';\nimport HeroSlider from './Customer/Header/HeroSlider';\nimport Footer from './Customer/Footer/Footer';\n\n// Generic Vendor List\nimport GenericVendorList from './Customer/Categories/GenericVendorList';\n\n// Vendor Store\nimport VendorStore from './Customer/Categories/VendorStore';\n\n// Category pages\nimport FoodAndDining from './Customer/Categories/Products/FoodDine/FoodAndDining';\nimport Medicines from './Customer/Categories/Products/Medicine/Medicines';\nimport Services1 from './Customer/Categories/Products/Service/Services1';\nimport Jewellery from './Customer/Categories/Products/Jewllery/Jewellery';\nimport Clothes from './Customer/Categories/Products/Clothes/Clothes';\nimport Beauty from './Customer/Categories/Products/Beauty/Beauty';\nimport Grocery from './Customer/Categories/Products/Groceries/Grocery';\nimport Fruits from './Customer/Categories/Products/Fruits/Fruits';\nimport Books from './Customer/Categories/Products/Books/Books';\nimport Petfood from './Customer/Categories/Products/Petfood/Petfood';\nimport Musical from './Customer/Categories/Products/Musical/Musical';\nimport Footwear from './Customer/Categories/Products/Footwear/Footwear';\nimport HomeFurniture from './Customer/Categories/Products/Furniture/HomeFurniture';\nimport HomeDecor from './Customer/Categories/Products/Decor/HomeDecor';\nimport Bags from './Customer/Categories/Products/Bags/Bags';\nimport KitchenProducts from './Customer/Categories/Products/KitchenProducts/KitchenProducts';\nimport Organic from './Customer/Categories/Products/Organic/Organic';\nimport Automotive from './Customer/Categories/Products/Automotive/Automotive';\nimport SportsAndFitness from './Customer/Categories/Products/SportsFitness/SportsAndFitness';\nimport Watches from './Customer/Categories/Products/Watches/Watches';\n\n// Product detail pages\nimport FoodDineProductDetail from './Customer/Categories/Products/FoodDine/Food&Dine_ProductDetail';\nimport MedicineProductDetail from './Customer/Categories/Products/Medicine/MedicineProductDetail';\nimport ServiceProductDetail from './Customer/Categories/Products/Service/ServiceProductDetail';\nimport AutomotiveProductDetail from './Customer/Categories/Products/Automotive/AutomotiveProductDetail';\nimport JewelleryProductDetail from './Customer/Categories/Products/Jewllery/JewelleryProductDetail';\nimport ClothesProductDetail from './Customer/Categories/Products/Clothes/ClothesProductDetail';\nimport BeautyProductDetail from './Customer/Categories/Products/Beauty/BeautyProductDetail';\nimport FootwearProductDetail from './Customer/Categories/Products/Footwear/FootwearProductDetail';\nimport GroceryProductDetail from './Customer/Categories/Products/Groceries/GroceryProductDetail';\nimport FruitProductDetail from './Customer/Categories/Products/Fruits/FruitProductDetail';\nimport BookProductDetail from './Customer/Categories/Products/Books/BookProductDetail';\nimport PetfoodProductDetail from './Customer/Categories/Products/Petfood/PetfoodProductDetail';\nimport MusicalProductDetail from './Customer/Categories/Products/Musical/MusicalProductDetail';\nimport HomeFurnitureProductDetail from './Customer/Categories/Products/Furniture/HomeFurnitureProductDetail';\nimport BagProductDetail from './Customer/Categories/Products/Bags/BagProductDetail';\nimport KitchenProductDetail from './Customer/Categories/Products/KitchenProducts/KitchenProductDetail';\nimport OrganicProductDetail from './Customer/Categories/Products/Organic/OrganicProductDetail';\nimport SportsAndFitnessProductDetail from './Customer/Categories/Products/SportsFitness/SportsAndFitnessProductDetail';\nimport WatchesProductDetail from './Customer/Categories/Products/Watches/WatchesProductDetail';\nimport HomeDecorProductDetail from './Customer/Categories/Products/Decor/HomeDecorProductDetail';\n\n// Admin components\nimport AdminDashboard from './Admin/AdminDashboard';\nimport AdminOffersManagement from './Admin/Admin-offers';\nimport AdminPaymentManagement from './Admin/Admin-payment-management';\nimport AdminProductManagement from './Admin/Admin-product-management';\nimport AdminProfileManagement from './Admin/Admin-profile-management';\nimport AdminUserManagement from './Admin/Admin-user-management';\nimport AdminSellerManagement from './Admin/Admin-seller-management';\nimport AdminEarnerManagement from './Admin/Admin-earner-management';\n\n\n// Seller component\nimport SellerDashboard from './Seller/SellerDashboard';\n\n// Earner component\nimport EarnerDashboard from './Earner/EarnerDashboard';\n\n// Product arrays\nimport { allClothesProducts } from './Customer/Categories/Products/Clothes/ClothesProductDetail';\nimport { allBookProducts } from './Customer/Categories/Products/Books/BookProductDetail';\nimport { allBagProducts } from './Customer/Categories/Products/Bags/BagProductDetail';\nimport { allKitchenProducts } from './Customer/Categories/Products/KitchenProducts/KitchenProductDetail';\nimport { allMusicalProducts } from './Customer/Categories/Products/Musical/MusicalProductDetail';\nimport { allPetfoodProducts } from './Customer/Categories/Products/Petfood/PetfoodProductDetail';\nimport { allWatchesProducts } from './Customer/Categories/Products/Watches/WatchesProductDetail';\nimport { allFootwearProducts } from './Customer/Categories/Products/Footwear/FootwearProductDetail';\nimport { allHomeFurnitureProducts } from './Customer/Categories/Products/Furniture/HomeFurnitureProductDetail';\nimport { allMedicineProducts } from './Customer/Categories/Products/Medicine/MedicineProductDetail';\nimport { allAutomotiveProducts } from './Customer/Categories/Products/Automotive/AutomotiveProductDetail';\nimport { allServicesProducts } from './Customer/Categories/Products/Service/ServiceProductDetail';\nimport { allGroceryProducts } from './Customer/Categories/Products/Groceries/GroceryProductDetail';\nimport { allFruitProducts } from './Customer/Categories/Products/Fruits/FruitProductDetail';\n\n// Category configuration for vendor selection\nconst CATEGORY_CONFIG = {\n  'food': {\n    category: 'Food & Dining',\n    displayName: 'Food & Dining',\n    productsPage: 'food-products'\n  },\n  'medicines': {\n    category: 'Medicines',\n    displayName: 'Medicines',\n    productsPage: 'medicines-products'\n  },\n  'automotive': {\n    category: 'Automotive',\n    displayName: 'Automotive',\n    productsPage: 'automotive-products'\n  },\n  'services': {\n    category: 'Services',\n    displayName: 'Services',\n    productsPage: 'services-products'\n  },\n  'jewellery': {\n    category: 'Jewellery',\n    displayName: 'Jewellery',\n    productsPage: 'jewellery-products'\n  },\n  'clothes': {\n    category: 'Clothes',\n    displayName: 'Clothes',\n    productsPage: 'clothes-products'\n  },\n  'beauty': {\n    category: 'Beauty Products',\n    displayName: 'Beauty Products',\n    productsPage: 'beauty-products'\n  },\n  'groceries': {\n    category: 'Groceries',\n    displayName: 'Groceries',\n    productsPage: 'groceries-products'\n  },\n  'fruits': {\n    category: 'Fruits',\n    displayName: 'Fruits',\n    productsPage: 'fruits-products'\n  },\n  'books': {\n    category: 'Books',\n    displayName: 'Books',\n    productsPage: 'books-products'\n  },\n  'petfood': {\n    category: 'Pet Food',\n    displayName: 'Pet Food',\n    productsPage: 'petfood-products'\n  },\n  'musical': {\n    category: 'Musical Instruments',\n    displayName: 'Musical Instruments',\n    productsPage: 'musical-products'\n  },\n  'footwear': {\n    category: 'Footwear',\n    displayName: 'Footwear',\n    productsPage: 'footwear-products'\n  },\n  'homefurniture': {\n    category: 'Home Furniture',\n    displayName: 'Home Furniture',\n    productsPage: 'homefurniture-products'\n  },\n  'bag': {\n    category: 'Bags',\n    displayName: 'Bags',\n    productsPage: 'bag-products'\n  },\n  'kitchenproduct': {\n    category: 'Kitchen Products',\n    displayName: 'Kitchen Products',\n    productsPage: 'kitchenproduct-products'\n  },\n  'organic': {\n    category: 'Organic Veggies&Fruits',\n    displayName: 'Organic Products',\n    productsPage: 'organic-products'\n  },\n  'sports-fitness': {\n    category: 'Sports & Fitness',\n    displayName: 'Sports & Fitness',\n    productsPage: 'sports-fitness-products'\n  },\n  'watches': {\n    category: 'Watches',\n    displayName: 'Watches',\n    productsPage: 'watches-products'\n  },\n  'homedecor': {\n    category: 'Home Decor',\n    displayName: 'Home Decor',\n    productsPage: 'homedecor-products'\n  }\n};\n\n// Combine all products\nconst initialProducts = [\n  ...allClothesProducts,\n  ...allBookProducts,\n  ...allBagProducts,\n  ...allKitchenProducts,\n  ...allMusicalProducts,\n  ...allPetfoodProducts,\n  ...allWatchesProducts,\n  ...allFootwearProducts,\n  ...allHomeFurnitureProducts,\n  ...allMedicineProducts,\n  ...allAutomotiveProducts,\n  ...allServicesProducts,\n  ...allGroceryProducts,\n  ...allFruitProducts\n];\n\nconst popularProducts = initialProducts.slice(0, 8);\n\nconst API_URL = 'http://localhost:5000';\n\nfunction App() {\n  // State management\n  const [cartItems, setCartItems] = useState([]);\n  const [wishlistItems, setWishlistItems] = useState([]);\n  const [activePage, setActivePage] = useState('home');\n  const [viewingProduct, setViewingProduct] = useState(null);\n  const [currentUser, setCurrentUser] = useState({ \n    isAuthenticated: false, \n    role: null, \n    details: null \n  });\n  const [searchQuery, setSearchQuery] = useState('');\n  const [allProducts, setAllProducts] = useState(initialProducts);\n    const [selectedVendor, setSelectedVendor] = useState(null);\n    const [selectedSellerId, setSelectedSellerId] = useState(null);\n    const [allSellers, setAllSellers] = useState([]);\n    const [allAdmins, setAllAdmins] = useState([]);\n\n  const categorySectionRef = useRef(null);\n\n  // Listen for fallback vendor-store navigation events (from components that don't receive `navigateTo` prop)\n  useEffect(() => {\n    const handler = (e) => {\n      const detail = e && e.detail;\n      if (!detail) return;\n      if (typeof detail === 'string') {\n        setSelectedVendor(detail);\n        setSelectedSellerId(null);\n      } else if (typeof detail === 'object') {\n        setSelectedVendor(detail.vendor || null);\n        setSelectedSellerId(detail.sellerId || null);\n      }\n      setActivePage('vendor-store');\n      window.scrollTo(0, 0);\n    };\n    window.addEventListener('openVendorStore', handler);\n    return () => window.removeEventListener('openVendorStore', handler);\n  }, []);\n\n  // Listen for visit seller dashboard event\n  useEffect(() => {\n    const handler = (e) => {\n      const sellerId = e && e.detail && e.detail.sellerId;\n      if (sellerId) {\n        setActivePage('seller-dashboard');\n        window.scrollTo(0, 0);\n      }\n    };\n    window.addEventListener('visitSellerDashboard', handler);\n    return () => window.removeEventListener('visitSellerDashboard', handler);\n  }, []);\n\n  // Helper function to save cart to server\n  const saveCartToServer = async (cart, userEmail, userRole) => {\n    try {\n      await fetch(`${API_URL}/api/cart/save`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ email: userEmail, role: userRole, cart })\n      });\n    } catch (error) {\n      console.error('Error saving cart to server:', error);\n    }\n  };\n\n  // Helper function to save wishlist to server\n  const saveWishlistToServer = async (wishlist, userEmail, userRole) => {\n    try {\n      await fetch(`${API_URL}/api/wishlist/save`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ email: userEmail, role: userRole, wishlist })\n      });\n    } catch (error) {\n      console.error('Error saving wishlist to server:', error);\n    }\n  };\n\n  // Helper function to fetch cart from server\n  const fetchCartFromServer = async (userEmail, userRole) => {\n    try {\n      const response = await fetch(`${API_URL}/api/cart/${userEmail}/${userRole}`);\n      const data = await response.json();\n      return data.cart || [];\n    } catch (error) {\n      console.error('Error fetching cart from server:', error);\n      return [];\n    }\n  };\n\n  // Helper function to fetch wishlist from server\n  const fetchWishlistFromServer = async (userEmail, userRole) => {\n    try {\n      const response = await fetch(`${API_URL}/api/wishlist/${userEmail}/${userRole}`);\n      const data = await response.json();\n      return data.wishlist || [];\n    } catch (error) {\n      console.error('Error fetching wishlist from server:', error);\n      return [];\n    }\n  };\n\n  // RESTORE USER SESSION ON PAGE LOAD/REFRESH\n  useEffect(() => {\n    const restoreSession = async () => {\n      // Check URL for reset password token\n      const search = window.location.search;\n      if (search.includes('token=')) {\n        setActivePage('reset-password');\n        return;\n      }\n\n      // Try to restore user from localStorage\n      const storedUser = localStorage.getItem('currentUser');\n      \n      if (storedUser) {\n        try {\n          const userData = JSON.parse(storedUser);\n          console.log('ðŸ”„ Restoring user session:', userData.details.email);\n          \n          // Restore user state\n          setCurrentUser(userData);\n          \n          // Fetch cart and wishlist from SERVER\n          const userEmail = userData.details.email;\n          const userRole = userData.role;\n          \n          const [serverCart, serverWishlist] = await Promise.all([\n            fetchCartFromServer(userEmail, userRole),\n            fetchWishlistFromServer(userEmail, userRole)\n          ]);\n          \n          setCartItems(serverCart);\n          setWishlistItems(serverWishlist);\n          \n          console.log('âœ… Session restored successfully');\n          console.log('   Cart items:', serverCart.length);\n          console.log('   Wishlist items:', serverWishlist.length);\n          \n          // Navigate to appropriate page based on role\n          const lowerCaseRole = userRole.toLowerCase();\n          if (lowerCaseRole === 'seller') {\n            setActivePage('seller-dashboard');\n          } else if (lowerCaseRole === 'admin') {\n            setActivePage('admin-dashboard');\n          } else if (lowerCaseRole === 'earner') {\n            setActivePage('earner-dashboard');\n          } else {\n            setActivePage('home');\n          }\n          \n        } catch (error) {\n          console.error('âŒ Error restoring session:', error);\n          // If restoration fails, clear everything\n          localStorage.removeItem('currentUser');\n          setCurrentUser({ isAuthenticated: false, role: null, details: null });\n          setCartItems([]);\n          setWishlistItems([]);\n          setActivePage('home');\n        }\n      } else {\n        console.log('â„¹ï¸  No stored session found - user not logged in');\n        setActivePage('home');\n      }\n    };\n    \n    restoreSession();\n  }, []);\n\n  // Authentication handlers\n  const handleLoginSuccess = async (role, userDetails) => {\n    const userData = { isAuthenticated: true, role: role, details: userDetails };\n\n    // Update state initially\n    setCurrentUser(userData);\n\n    // Save user to localStorage (but will be cleared on refresh)\n    localStorage.setItem('currentUser', JSON.stringify(userData));\n\n    // Fetch cart and wishlist from SERVER\n    const userEmail = userDetails.email;\n    const userRole = role;\n\n    const serverCart = await fetchCartFromServer(userEmail, userRole);\n    const serverWishlist = await fetchWishlistFromServer(userEmail, userRole);\n\n    setCartItems(serverCart);\n    setWishlistItems(serverWishlist);\n\n    // Fetch the latest profile data from server and update currentUser.details\n    try {\n      const profileResponse = await fetch(`${API_URL}/api/profile?email=${userEmail}&role=${userRole}`);\n      if (profileResponse.ok) {\n        const profileData = await profileResponse.json();\n        const updatedDetails = {\n          ...userDetails,\n          name: profileData.user.fullname,\n          phone: profileData.user.phone,\n          gender: profileData.user.gender,\n          dateOfBirth: profileData.user.dateOfBirth,\n          addresses: profileData.user.addresses\n        };\n        const updatedUserData = { ...userData, details: updatedDetails };\n        setCurrentUser(updatedUserData);\n        localStorage.setItem('currentUser', JSON.stringify(updatedUserData));\n      }\n    } catch (error) {\n      console.error('Error fetching profile data on login:', error);\n    }\n\n    const lowerCaseRole = role.toLowerCase();\n    if (lowerCaseRole === 'customer') {\n      navigateTo('home');\n    } else if (lowerCaseRole === 'seller') {\n      navigateTo('seller-dashboard');\n    } else if (lowerCaseRole === 'admin') {\n      navigateTo('admin-dashboard');\n    } else if (lowerCaseRole === 'earner') {\n      navigateTo('earner-dashboard');\n    }\n  };\n\n  // LOGOUT FUNCTION - SAVES TO SERVER BEFORE CLEARING\n  const handleLogout = async () => {\n    // SAVE current user's cart and wishlist to SERVER before logout\n    if (currentUser.isAuthenticated && currentUser.details) {\n      const userEmail = currentUser.details.email;\n      const userRole = currentUser.role;\n      await saveCartToServer(cartItems, userEmail, userRole);\n      await saveWishlistToServer(wishlistItems, userEmail, userRole);\n    }\n    \n    // Clear user state\n    setCurrentUser({ isAuthenticated: false, role: null, details: null });\n    \n    // Clear displayed cart and wishlist (for privacy)\n    setCartItems([]);\n    setWishlistItems([]);\n    \n    // Remove current user from localStorage\n    localStorage.removeItem('currentUser');\n    \n    navigateTo('home');\n  };\n\n  const handleSellerRegister = (newSeller) => {\n    setAllSellers(prevSellers => [...prevSellers, newSeller]);\n  };\n\n  const handleAdminRegister = (newAdmin) => {\n    setAllAdmins(prevAdmins => [...prevAdmins, newAdmin]);\n    console.log('Admin registered:', newAdmin);\n  };\n\n  // Cart handlers - Save to SERVER\n  const handleAddToCart = async (productToAdd) => {\n    const productKey = productToAdd._id || productToAdd.id;\n    const itemInCart = cartItems.find(item => (item._id || item.id) === productKey);\n    \n    let updatedCart;\n    if (itemInCart) {\n      updatedCart = cartItems.map(item =>\n        (item._id || item.id) === productKey ? { ...item, quantity: item.quantity + 1 } : item\n      );\n    } else {\n      updatedCart = [...cartItems, { ...productToAdd, quantity: 1 }];\n    }\n    \n    setCartItems(updatedCart);\n    \n    // Save to SERVER\n    if (currentUser.isAuthenticated && currentUser.details) {\n      await saveCartToServer(updatedCart, currentUser.details.email, currentUser.role);\n    }\n    \n    alert(`${productToAdd.name} has been added to your cart!`);\n  };\n\n  const handleUpdateQuantity = async (productId, newQuantity) => {\n    if (newQuantity <= 0) {\n      handleRemoveFromCart(productId);\n    } else {\n      const updatedCart = cartItems.map(item => \n        ((item._id || item.id) === productId ? { ...item, quantity: newQuantity } : item)\n      );\n      setCartItems(updatedCart);\n      \n      // Save to SERVER\n      if (currentUser.isAuthenticated && currentUser.details) {\n        await saveCartToServer(updatedCart, currentUser.details.email, currentUser.role);\n      }\n    }\n  };\n\n  const handleRemoveFromCart = async (productId) => {\n    const updatedCart = cartItems.filter(item => (item._id || item.id) !== productId);\n    setCartItems(updatedCart);\n    \n    // Save to SERVER\n    if (currentUser.isAuthenticated && currentUser.details) {\n      await saveCartToServer(updatedCart, currentUser.details.email, currentUser.role);\n    }\n  };\n\n  // Wishlist handlers - Save to SERVER\n  const handleToggleWishlist = async (productToAdd) => {\n    const productKey = productToAdd._id || productToAdd.id;\n    const itemInWishlist = wishlistItems.find(item => (item._id || item.id) === productKey);\n    \n    let updatedWishlist;\n    if (itemInWishlist) {\n      updatedWishlist = wishlistItems.filter(item => (item._id || item.id) !== productKey);\n      alert(`${productToAdd.name} removed from wishlist!`);\n    } else {\n      updatedWishlist = [...wishlistItems, productToAdd];\n      alert(`${productToAdd.name} added to wishlist!`);\n    }\n    \n    setWishlistItems(updatedWishlist);\n    \n    // Save to SERVER\n    if (currentUser.isAuthenticated && currentUser.details) {\n      await saveWishlistToServer(updatedWishlist, currentUser.details.email, currentUser.role);\n    }\n  };\n\n  // Navigation\n  const navigateTo = (page, product = null) => {\n    // Handle vendor selection with data parameter\n    if (typeof product === 'object' && product !== null && product.vendor) {\n      setSelectedVendor(product.vendor);\n      if (product.sellerId) setSelectedSellerId(product.sellerId);\n    } else if (typeof product === 'string' && page === 'vendor-store') {\n      // Allow passing vendor name directly as a string\n      setSelectedVendor(product);\n      setSelectedSellerId(null);\n    } else if (!page.endsWith('-products')) {\n      // Clear vendor selection when navigating away from products pages\n      setSelectedVendor(null);\n      setSelectedSellerId(null);\n    }\n\n    setActivePage(page);\n    if (product && page === 'productDetail') {\n      setViewingProduct(product);\n    }\n    window.scrollTo(0, 0);\n  };\n\n  const handleViewProduct = (product) => {\n    setViewingProduct(product);\n    navigateTo('productDetail');\n  };\n\n  // Search handler\n  const handleSearch = async (query) => {\n    const lowerCaseQuery = query.toLowerCase().trim();\n    setSearchQuery(lowerCaseQuery);\n\n    if (!lowerCaseQuery) {\n      setAllProducts(initialProducts);\n      return;\n    }\n\n    const categoryMapping = {\n      'food & dining': 'food',\n      'food': 'food',\n      'medicines': 'medicines',\n      'automotive': 'automotive',\n      'services': 'services',\n      'jewellery': 'jewellery',\n      'clothes': 'clothes',\n      'beauty': 'beauty',\n      'footwear': 'footwear',\n      'groceries': 'groceries',\n      'fruits': 'fruits',\n      'books': 'books',\n      'Pet Food': 'petfood',\n      'musical': 'musical',\n      'homefurniture': 'homefurniture',\n      'bags': 'bag',\n      'kitchen': 'kitchenproduct',\n      'sports': 'sports-fitness',\n      'watches': 'watches',\n      'homedecor': 'homedecor',\n      'organic': 'organic'\n    };\n\n    if (categoryMapping[lowerCaseQuery]) {\n      navigateTo(categoryMapping[lowerCaseQuery]);\n      setSearchQuery('');\n      return;\n    }\n\n    try {\n      // Fetch all products from backend\n      const response = await fetch(`${API_URL}/api/products`);\n      if (!response.ok) {\n        throw new Error('Failed to fetch products');\n      }\n      const backendProducts = await response.json();\n\n      // Combine backend products with initial products\n      const allAvailableProducts = [...initialProducts, ...backendProducts];\n\n      // Filter products based on search query\n      const filteredProducts = allAvailableProducts.filter(product =>\n        product.name.toLowerCase().includes(lowerCaseQuery) ||\n        product.vendor.toLowerCase().includes(lowerCaseQuery) ||\n        product.category.toLowerCase().includes(lowerCaseQuery)\n      );\n\n      if (filteredProducts.length > 0) {\n        // Find the category of the first matching product\n        const productCategory = filteredProducts[0].category.toLowerCase();\n        // Map category to page name (assuming category names match page keys)\n        const pageMapping = {\n          'food & dining': 'food',\n          'medicines': 'medicines',\n          'automotive': 'automotive',\n          'services': 'services',\n          'jewellery': 'jewellery',\n          'clothes': 'clothes',\n          'beauty': 'beauty',\n          'footwear': 'footwear',\n          'groceries': 'groceries',\n          'fruits': 'fruits',\n          'books': 'books',\n          'pet food': 'petfood',\n          'musical instruments': 'musical',\n          'home furniture': 'homefurniture',\n          'bags': 'bag',\n          'kitchen products': 'kitchenproduct',\n          'sports & fitness': 'sports-fitness',\n          'watches': 'watches',\n          'home decor': 'homedecor',\n          'organic veggies&fruits': 'organic'\n        };\n        const targetPage = pageMapping[productCategory] || productCategory;\n        navigateTo(targetPage);\n      } else {\n        setAllProducts([]);\n      }\n    } catch (error) {\n      console.error('Error fetching products for search:', error);\n      const filteredProducts = initialProducts.filter(product =>\n        product.name.toLowerCase().includes(lowerCaseQuery) ||\n        product.vendor.toLowerCase().includes(lowerCaseQuery) ||\n        product.category.toLowerCase().includes(lowerCaseQuery)\n      );\n      if (filteredProducts.length > 0) {\n        const productCategory = filteredProducts[0].category.toLowerCase();\n        const pageMapping = {\n          'food & dining': 'food',\n          'medicines': 'medicines',\n          'automotive': 'automotive',\n          'services': 'services',\n          'jewellery': 'jewellery',\n          'clothes': 'clothes',\n          'beauty': 'beauty',\n          'footwear': 'footwear',\n          'groceries': 'groceries',\n          'fruits': 'fruits',\n          'books': 'books',\n          'pet food': 'petfood',\n          'musical instruments': 'musical',\n          'home furniture': 'homefurniture',\n          'bags': 'bag',\n          'kitchen products': 'kitchenproduct',\n          'sports & fitness': 'sports-fitness',\n          'watches': 'watches',\n          'home decor': 'homedecor',\n          'organic veggies&fruits': 'organic'\n        };\n        const targetPage = pageMapping[productCategory] || productCategory;\n        navigateTo(targetPage);\n      } else {\n        // Show \"No products found\" message on home page\n        setAllProducts([]);\n        navigateTo('home');\n      }\n    }\n  };\n\n  // Common props for category pages\n  const commonProps = {\n    cartItems,\n    wishlistItems,\n    onAddToCart: handleAddToCart,\n    onToggleWishlist: handleToggleWishlist,\n    allProducts,\n    onViewProduct: handleViewProduct,\n    navigateTo,\n    searchQuery\n  };\n\n  // Render page content\n  const renderPage = () => {\n    // Reset Password page - No header/navbar\n    if (activePage === 'reset-password') {\n      return <ResetPassword navigateTo={navigateTo} />;\n    }\n\n    // Admin pages\n    if (currentUser.role && currentUser.role.toLowerCase() === 'admin') {\n      const adminPages = {\n        'admin-dashboard': <AdminDashboard navigateTo={navigateTo} onLogout={handleLogout} />,\n        'admin-offers': <AdminOffersManagement />,\n        'admin-orders': <AdminPaymentManagement />,\n        'admin-catalog': <AdminProductManagement />,\n        'admin-profiles': <AdminProfileManagement navigateTo={navigateTo} />,\n        'admin-users': <AdminUserManagement navigateTo={navigateTo} />,\n        'admin-sellers': <AdminSellerManagement navigateTo={navigateTo} />,\n        'admin-earner-management': <AdminEarnerManagement navigateTo={navigateTo} />  // â­ ADD THIS\n      };\n\n      if (adminPages[activePage]) {\n        return adminPages[activePage];\n      }\n    }\n\n    // Seller dashboard\n    if (currentUser.role && currentUser.role.toLowerCase() === 'seller' && activePage === 'seller-dashboard') {\n      return (\n        <SellerDashboard\n          seller={currentUser.details}\n          setAllProducts={setAllProducts}\n          onLogout={handleLogout}\n        />\n      );\n    }\n\n    // Earner dashboard\n    if (currentUser.role && currentUser.role.toLowerCase() === 'earner' && activePage === 'earner-dashboard') {\n      return (\n        <EarnerDashboard onLogout={handleLogout} user={currentUser.details} />\n      );\n    }\n\n    // Customer pages\n    const categoryPages = {\n      'login': <LoginPage \n        onLoginSuccess={handleLoginSuccess} \n        onSellerRegister={handleSellerRegister}\n        onAdminRegister={handleAdminRegister}\n      />,\n      \n      // VENDOR LIST PAGES (User selects vendor)\n      'food': <GenericVendorList \n        navigateTo={navigateTo} \n        searchQuery={searchQuery}\n        category={CATEGORY_CONFIG.food.category}\n        categoryDisplayName={CATEGORY_CONFIG.food.displayName}\n        targetPage={CATEGORY_CONFIG.food.productsPage}\n      />,\n      'medicines': <GenericVendorList \n        navigateTo={navigateTo} \n        searchQuery={searchQuery}\n        category={CATEGORY_CONFIG.medicines.category}\n        categoryDisplayName={CATEGORY_CONFIG.medicines.displayName}\n        targetPage={CATEGORY_CONFIG.medicines.productsPage}\n      />,\n      'automotive': <GenericVendorList \n        navigateTo={navigateTo} \n        searchQuery={searchQuery}\n        category={CATEGORY_CONFIG.automotive.category}\n        categoryDisplayName={CATEGORY_CONFIG.automotive.displayName}\n        targetPage={CATEGORY_CONFIG.automotive.productsPage}\n      />,\n      'services': <GenericVendorList \n        navigateTo={navigateTo} \n        searchQuery={searchQuery}\n        category={CATEGORY_CONFIG.services.category}\n        categoryDisplayName={CATEGORY_CONFIG.services.displayName}\n        targetPage={CATEGORY_CONFIG.services.productsPage}\n      />,\n      'jewellery': <GenericVendorList \n        navigateTo={navigateTo} \n        searchQuery={searchQuery}\n        category={CATEGORY_CONFIG.jewellery.category}\n        categoryDisplayName={CATEGORY_CONFIG.jewellery.displayName}\n        targetPage={CATEGORY_CONFIG.jewellery.productsPage}\n      />,\n      'clothes': <GenericVendorList \n        navigateTo={navigateTo} \n        searchQuery={searchQuery}\n        category={CATEGORY_CONFIG.clothes.category}\n        categoryDisplayName={CATEGORY_CONFIG.clothes.displayName}\n        targetPage={CATEGORY_CONFIG.clothes.productsPage}\n      />,\n      'beauty': <GenericVendorList \n        navigateTo={navigateTo} \n        searchQuery={searchQuery}\n        category={CATEGORY_CONFIG.beauty.category}\n        categoryDisplayName={CATEGORY_CONFIG.beauty.displayName}\n        targetPage={CATEGORY_CONFIG.beauty.productsPage}\n      />,\n      'groceries': <GenericVendorList \n        navigateTo={navigateTo} \n        searchQuery={searchQuery}\n        category={CATEGORY_CONFIG.groceries.category}\n        categoryDisplayName={CATEGORY_CONFIG.groceries.displayName}\n        targetPage={CATEGORY_CONFIG.groceries.productsPage}\n      />,\n      'fruits': <GenericVendorList \n        navigateTo={navigateTo} \n        searchQuery={searchQuery}\n        category={CATEGORY_CONFIG.fruits.category}\n        categoryDisplayName={CATEGORY_CONFIG.fruits.displayName}\n        targetPage={CATEGORY_CONFIG.fruits.productsPage}\n      />,\n      'books': <GenericVendorList \n        navigateTo={navigateTo} \n        searchQuery={searchQuery}\n        category={CATEGORY_CONFIG.books.category}\n        categoryDisplayName={CATEGORY_CONFIG.books.displayName}\n        targetPage={CATEGORY_CONFIG.books.productsPage}\n      />,\n      'petfood': <GenericVendorList \n        navigateTo={navigateTo} \n        searchQuery={searchQuery}\n        category={CATEGORY_CONFIG.petfood.category}\n        categoryDisplayName={CATEGORY_CONFIG.petfood.displayName}\n        targetPage={CATEGORY_CONFIG.petfood.productsPage}\n      />,\n      'musical': <GenericVendorList \n        navigateTo={navigateTo} \n        searchQuery={searchQuery}\n        category={CATEGORY_CONFIG.musical.category}\n        categoryDisplayName={CATEGORY_CONFIG.musical.displayName}\n        targetPage={CATEGORY_CONFIG.musical.productsPage}\n      />,\n      'footwear': <GenericVendorList \n        navigateTo={navigateTo} \n        searchQuery={searchQuery}\n        category={CATEGORY_CONFIG.footwear.category}\n        categoryDisplayName={CATEGORY_CONFIG.footwear.displayName}\n        targetPage={CATEGORY_CONFIG.footwear.productsPage}\n      />,\n      'homefurniture': <GenericVendorList \n        navigateTo={navigateTo} \n        searchQuery={searchQuery}\n        category={CATEGORY_CONFIG.homefurniture.category}\n        categoryDisplayName={CATEGORY_CONFIG.homefurniture.displayName}\n        targetPage={CATEGORY_CONFIG.homefurniture.productsPage}\n      />,\n      'bag': <GenericVendorList \n        navigateTo={navigateTo} \n        searchQuery={searchQuery}\n        category={CATEGORY_CONFIG.bag.category}\n        categoryDisplayName={CATEGORY_CONFIG.bag.displayName}\n        targetPage={CATEGORY_CONFIG.bag.productsPage}\n      />,\n      'kitchenproduct': <GenericVendorList \n        navigateTo={navigateTo} \n        searchQuery={searchQuery}\n        category={CATEGORY_CONFIG.kitchenproduct.category}\n        categoryDisplayName={CATEGORY_CONFIG.kitchenproduct.displayName}\n        targetPage={CATEGORY_CONFIG.kitchenproduct.productsPage}\n      />,\n      'organic': <GenericVendorList \n        navigateTo={navigateTo} \n        searchQuery={searchQuery}\n        category={CATEGORY_CONFIG.organic.category}\n        categoryDisplayName={CATEGORY_CONFIG.organic.displayName}\n        targetPage={CATEGORY_CONFIG.organic.productsPage}\n      />,\n      'sports-fitness': <GenericVendorList \n        navigateTo={navigateTo} \n        searchQuery={searchQuery}\n        category={CATEGORY_CONFIG['sports-fitness'].category}\n        categoryDisplayName={CATEGORY_CONFIG['sports-fitness'].displayName}\n        targetPage={CATEGORY_CONFIG['sports-fitness'].productsPage}\n      />,\n      'watches': <GenericVendorList \n        navigateTo={navigateTo} \n        searchQuery={searchQuery}\n        category={CATEGORY_CONFIG.watches.category}\n        categoryDisplayName={CATEGORY_CONFIG.watches.displayName}\n        targetPage={CATEGORY_CONFIG.watches.productsPage}\n      />,\n      'homedecor': <GenericVendorList \n        navigateTo={navigateTo} \n        searchQuery={searchQuery}\n        category={CATEGORY_CONFIG.homedecor.category}\n        categoryDisplayName={CATEGORY_CONFIG.homedecor.displayName}\n        targetPage={CATEGORY_CONFIG.homedecor.productsPage}\n      />,\n      \n      // PRODUCTS PAGES (Shows vendor's products)\n      'food-products': <FoodAndDining {...commonProps} selectedVendor={selectedVendor} />,\n      'medicines-products': <Medicines {...commonProps} selectedVendor={selectedVendor} />,\n      'automotive-products': <Automotive {...commonProps} selectedVendor={selectedVendor} />,\n      'services-products': <Services1 {...commonProps} selectedVendor={selectedVendor} />,\n      'jewellery-products': <Jewellery {...commonProps} selectedVendor={selectedVendor} />,\n      'clothes-products': <Clothes {...commonProps} selectedVendor={selectedVendor} />,\n      'beauty-products': <Beauty {...commonProps} selectedVendor={selectedVendor} />,\n      'groceries-products': <Grocery {...commonProps} selectedVendor={selectedVendor} />,\n      'fruits-products': <Fruits {...commonProps} selectedVendor={selectedVendor} />,\n      'books-products': <Books {...commonProps} selectedVendor={selectedVendor} />,\n      'petfood-products': <Petfood {...commonProps} selectedVendor={selectedVendor} />,\n      'musical-products': <Musical {...commonProps} selectedVendor={selectedVendor} />,\n      'footwear-products': <Footwear {...commonProps} selectedVendor={selectedVendor} />,\n      'homefurniture-products': <HomeFurniture {...commonProps} selectedVendor={selectedVendor} />,\n      'bag-products': <Bags {...commonProps} selectedVendor={selectedVendor} />,\n      'kitchenproduct-products': <KitchenProducts {...commonProps} selectedVendor={selectedVendor} />,\n      'organic-products': <Organic {...commonProps} selectedVendor={selectedVendor} />,\n      'sports-fitness-products': <SportsAndFitness {...commonProps} selectedVendor={selectedVendor} />,\n      'watches-products': <Watches {...commonProps} selectedVendor={selectedVendor} />,\n      'homedecor-products': <HomeDecor {...commonProps} selectedVendor={selectedVendor} />,\n      \n      // OTHER PAGES\n      'cart': <CartPage\n        cartItems={cartItems}\n        onUpdateQuantity={handleUpdateQuantity}\n        onRemoveFromCart={handleRemoveFromCart}\n        navigateTo={navigateTo}\n        onToggleWishlist={handleToggleWishlist}\n        wishlistItems={wishlistItems}\n        currentUser={currentUser}\n      />,\n      'checkout': <Checkout\n        cartItems={cartItems}\n        navigateTo={navigateTo}\n        currentUser={currentUser}\n      />,\n      'wishlist': <WishlistPage\n        wishlistItems={wishlistItems}\n        cartItems={cartItems}\n        onAddToCart={handleAddToCart}\n        onToggleWishlist={handleToggleWishlist}\n        navigateTo={navigateTo}\n      />,\n      'profile': <ProfilePage\n        currentUser={currentUser}\n        navigateTo={navigateTo}\n        onProfileUpdate={(updatedDetails) => {\n          setCurrentUser(prev => ({\n            ...prev,\n            details: { ...prev.details, ...updatedDetails }\n          }));\n        }}\n      />\n    };\n\n    // Product detail pages\n    // Vendor store page (show products for a selected vendor)\n    if (activePage === 'vendor-store') {\n      return (\n        <VendorStore\n          vendorName={selectedVendor}\n          sellerId={selectedSellerId}\n          navigateTo={navigateTo}\n          onAddToCart={handleAddToCart}\n          onToggleWishlist={handleToggleWishlist}\n          cartItems={cartItems}\n          wishlistItems={wishlistItems}\n          onViewProduct={handleViewProduct}\n        />\n      );\n    }\n\n    if (activePage === 'productDetail' && viewingProduct) {\n      const detailPages = {\n        'medicines': MedicineProductDetail,\n        'automotive': AutomotiveProductDetail,\n        'services': ServiceProductDetail,\n        'jewellery': JewelleryProductDetail,\n        'clothes': ClothesProductDetail,\n        'footwear': FootwearProductDetail,\n        'women\\'s footwear': FootwearProductDetail,\n        'men\\'s footwear': FootwearProductDetail,\n        'kids\\' footwear': FootwearProductDetail,\n        'groceries': GroceryProductDetail,\n        'grocery': GroceryProductDetail,\n        'fruits': FruitProductDetail,\n        'books': BookProductDetail,\n        'pet food': PetfoodProductDetail,\n        'beauty products': BeautyProductDetail,\n        'musical instruments': MusicalProductDetail,\n        'home furniture': HomeFurnitureProductDetail,\n        'bags': BagProductDetail,\n        'kitchen products': KitchenProductDetail,\n        'organic veggies&fruits': OrganicProductDetail,\n        'sports & fitness': SportsAndFitnessProductDetail,\n        'watches': WatchesProductDetail,\n        'home decor': HomeDecorProductDetail,\n        'food & dining': FoodDineProductDetail\n        \n\n      };\n\n      const DetailComponent = detailPages[viewingProduct.category.toLowerCase()] || (() => <div>Product Detail Not Found</div>);\n      \n      return (\n        <DetailComponent\n          product={viewingProduct}\n          cartItems={cartItems}\n          wishlistItems={wishlistItems}\n          onAddToCart={handleAddToCart}\n          onToggleWishlist={handleToggleWishlist}\n          allProducts={allProducts}\n          navigateTo={navigateTo}\n          onViewProduct={handleViewProduct}\n        />\n      );\n    }\n\n    // Check if it's a category page\n    if (categoryPages[activePage]) {\n      return categoryPages[activePage];\n    }\n\n    // Default home page\n    return (\n      <>\n        <HeroSlider navigateTo={navigateTo} />\n        <div ref={categorySectionRef}>\n          <CategoryList navigateTo={navigateTo} />\n        </div>\n        {searchQuery ? (\n          <div className=\"container\">\n            <h2>Search Results for \"{searchQuery}\"</h2>\n            {allProducts.length > 0 ? (\n              <div className=\"product-grid\">\n                {allProducts.map(product => (\n                  <div key={product.id || product._id} className=\"product-card\" onClick={() => handleViewProduct(product)}>\n                    <img\n                      src={product.image ? (product.image.startsWith('http') ? product.image : `/IMAGES/${product.image}`) : 'https://via.placeholder.com/200x150?text=No+Image'}\n                      alt={product.name}\n                      onError={(e) => e.target.src = 'https://via.placeholder.com/200x150?text=No+Img'}\n                    />\n                    <div className=\"product-info\">\n                      <h4>{product.name}</h4>\n                      <p>{product.vendor}</p>\n                      <div className=\"product-price\">â‚¹{product.price}</div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <div className=\"no-results\">\n                <p>No products found for \"{searchQuery}\". Try a different search term.</p>\n              </div>\n            )}\n          </div>\n        ) : (\n          <PopularProductList\n            popularProducts={popularProducts}\n            onAddToCart={handleAddToCart}\n            wishlistItems={wishlistItems}\n            onViewProduct={handleViewProduct}\n            onToggleWishlist={handleToggleWishlist}\n            cartItems={cartItems}\n            navigateTo={navigateTo}\n          />\n        )}\n        <Services />\n        <BusinessList />\n      </>\n    );\n  };\n\n  const showCustomerHeader =\n    activePage !== 'seller-dashboard' &&\n    activePage !== 'earner-dashboard' &&\n    !activePage.startsWith('admin-') &&\n    activePage !== 'reset-password' &&\n    (!currentUser.role || currentUser.role.toLowerCase() !== 'admin');\n\n  return (\n    <div className=\"App\">\n      {showCustomerHeader && (\n        <>\n          <Header\n            cartItems={cartItems}\n            wishlistItems={wishlistItems}\n            onSearch={handleSearch}\n            navigateTo={navigateTo}\n            onLogout={handleLogout}\n            currentUser={currentUser}\n          />\n          <Navbar navigateTo={navigateTo} />\n        </>\n      )}\n      <main>{renderPage()}</main>\n      {showCustomerHeader && (\n        <Footer navigateTo={navigateTo} />\n      )}\n    </div>\n  );\n}\n\nexport default App;\n\n\n//tosharefile"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}