/*! For license information please see main.1d21e98f.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,a)=>{e.exports=a(202)},153:(e,t,a)=>{var r=a(43),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,a){var r,n={},c=null,d=null;for(r in void 0!==a&&(c=""+a),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===n[r]&&(n[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:d,props:n,_owner:o.current}}t.Fragment=n,t.jsx=c,t.jsxs=c},202:(e,t)=>{var a=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,f={};function x(e,t,a){this.props=e,this.context=t,this.refs=f,this.updater=a||m}function j(){}function v(e,t,a){this.props=e,this.context=t,this.refs=f,this.updater=a||m}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},j.prototype=x.prototype;var y=v.prototype=new j;y.constructor=v,g(y,x.prototype),y.isPureReactComponent=!0;var b=Array.isArray,N=Object.prototype.hasOwnProperty,w={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var s,n={},i=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)N.call(t,s)&&!k.hasOwnProperty(s)&&(n[s]=t[s]);var l=arguments.length-2;if(1===l)n.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];n.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===n[s]&&(n[s]=l[s]);return{$$typeof:a,type:e,key:i,ref:o,props:n,_owner:w.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var P=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function M(e,t,s,n,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case a:case r:l=!0}}if(l)return i=i(l=e),e=""===n?"."+T(l,0):n,b(i)?(s="",null!=e&&(s=e.replace(P,"$&/")+"/"),M(i,t,s,"",function(e){return e})):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,s+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(P,"$&/")+"/")+e)),t.push(i)),1;if(l=0,n=""===n?".":n+":",b(e))for(var c=0;c<e.length;c++){var d=n+T(o=e[c],c);l+=M(o,t,s,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=M(o=o.value,t,s,d=n+T(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,a){if(null==e)return e;var r=[],s=0;return M(e,r,"","",function(e){return t.call(a,e,s++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var E={current:null},F={transition:null},D={ReactCurrentDispatcher:E,ReactCurrentBatchConfig:F,ReactCurrentOwner:w};function B(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,a){A(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=s,t.Profiler=i,t.PureComponent=v,t.StrictMode=n,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=B,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=g({},e.props),n=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=w.current),void 0!==t.key&&(n=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)N.call(t,c)&&!k.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:a,type:e.type,key:n,ref:i,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=F.transition;F.transition={};try{e()}finally{F.transition=t}},t.unstable_act=B,t.useCallback=function(e,t){return E.current.useCallback(e,t)},t.useContext=function(e){return E.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return E.current.useDeferredValue(e)},t.useEffect=function(e,t){return E.current.useEffect(e,t)},t.useId=function(){return E.current.useId()},t.useImperativeHandle=function(e,t,a){return E.current.useImperativeHandle(e,t,a)},t.useInsertionEffect=function(e,t){return E.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return E.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return E.current.useMemo(e,t)},t.useReducer=function(e,t,a){return E.current.useReducer(e,t,a)},t.useRef=function(e){return E.current.useRef(e)},t.useState=function(e){return E.current.useState(e)},t.useSyncExternalStore=function(e,t,a){return E.current.useSyncExternalStore(e,t,a)},t.useTransition=function(){return E.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function a(e,t){var a=e.length;e.push(t);e:for(;0<a;){var r=a-1>>>1,s=e[r];if(!(0<n(s,t)))break e;e[r]=t,e[a]=s,a=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],a=e.pop();if(a!==t){e[0]=a;e:for(var r=0,s=e.length,i=s>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>n(l,a))c<s&&0>n(d,l)?(e[r]=d,e[c]=a,r=c):(e[r]=l,e[o]=a,r=o);else{if(!(c<s&&0>n(d,a)))break e;e[r]=d,e[c]=a,r=c}}}return t}function n(e,t){var a=e.sortIndex-t.sortIndex;return 0!==a?a:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,p=null,h=3,m=!1,g=!1,f=!1,x="function"===typeof setTimeout?setTimeout:null,j="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=r(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,a(c,t)}t=r(d)}}function b(e){if(f=!1,y(e),!g)if(null!==r(c))g=!0,F(N);else{var t=r(d);null!==t&&D(b,t.startTime-e)}}function N(e,a){g=!1,f&&(f=!1,j(C),C=-1),m=!0;var n=h;try{for(y(a),p=r(c);null!==p&&(!(p.expirationTime>a)||e&&!M());){var i=p.callback;if("function"===typeof i){p.callback=null,h=p.priorityLevel;var o=i(p.expirationTime<=a);a=t.unstable_now(),"function"===typeof o?p.callback=o:p===r(c)&&s(c),y(a)}else s(c);p=r(c)}if(null!==p)var l=!0;else{var u=r(d);null!==u&&D(b,u.startTime-a),l=!1}return l}finally{p=null,h=n,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,k=!1,S=null,C=-1,P=5,T=-1;function M(){return!(t.unstable_now()-T<P)}function A(){if(null!==S){var e=t.unstable_now();T=e;var a=!0;try{a=S(!0,e)}finally{a?w():(k=!1,S=null)}}else k=!1}if("function"===typeof v)w=function(){v(A)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,E=I.port2;I.port1.onmessage=A,w=function(){E.postMessage(null)}}else w=function(){x(A,0)};function F(e){S=e,k||(k=!0,w())}function D(e,a){C=x(function(){e(t.unstable_now())},a)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,F(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var a=h;h=t;try{return e()}finally{h=a}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var a=h;h=e;try{return t()}finally{h=a}},t.unstable_scheduleCallback=function(e,s,n){var i=t.unstable_now();switch("object"===typeof n&&null!==n?n="number"===typeof(n=n.delay)&&0<n?i+n:i:n=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:n,expirationTime:o=n+o,sortIndex:-1},n>i?(e.sortIndex=n,a(d,e),null===r(c)&&e===r(d)&&(f?(j(C),C=-1):f=!0,D(b,n-i))):(e.sortIndex=o,a(c,e),g||m||(g=!0,F(N))),e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(e){var t=h;return function(){var a=h;h=t;try{return e.apply(this,arguments)}finally{h=a}}}},391:(e,t,a)=>{var r=a(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,a)=>{e.exports=a(153)},730:(e,t,a)=>{var r=a(43),s=a(853);function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function g(e,t,a,r,s,n,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=a,this.propertyName=e,this.type=t,this.sanitizeURL=n,this.removeEmptyString=i}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){f[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];f[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){f[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){f[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){f[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){f[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){f[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){f[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){f[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function j(e){return e[1].toUpperCase()}function v(e,t,a,r){var s=f.hasOwnProperty(t)?f[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,a,r){if(null===t||"undefined"===typeof t||function(e,t,a,r){if(null!==a&&0===a.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==a?!a.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,a,r))return!0;if(r)return!1;if(null!==a)switch(a.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,a,s,r)&&(a=null),r||null===s?function(e){return!!u.call(m,e)||!u.call(h,e)&&(p.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===a?e.removeAttribute(t):e.setAttribute(t,""+a)):s.mustUseProperty?e[s.propertyName]=null===a?3!==s.type&&"":a:(t=s.attributeName,r=s.attributeNamespace,null===a?e.removeAttribute(t):(a=3===(s=s.type)||4===s&&!0===a?"":""+a,r?e.setAttributeNS(r,t,a):e.setAttribute(t,a))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x,j);f[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x,j);f[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x,j);f[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){f[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),f.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){f[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),P=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var F=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var R,L=Object.assign;function W(e){if(void 0===R)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var z=!1;function _(e,t){if(!e||z)return"";z=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),n=r.stack.split("\n"),i=s.length-1,o=n.length-1;1<=i&&0<=o&&s[i]!==n[o];)o--;for(;1<=i&&0<=o;i--,o--)if(s[i]!==n[o]){if(1!==i||1!==o)do{if(i--,0>--o||s[i]!==n[o]){var l="\n"+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{z=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?W(e):""}function G(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=_(e.type,!1);case 11:return e=_(e.type.render,!1);case 1:return e=_(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case N:return"Portal";case S:return"Profiler";case k:return"StrictMode";case M:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return V(e(t))}catch(a){}}return null}function O(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function U(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=U(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof a&&"function"===typeof a.get&&"function"===typeof a.set){var s=a.get,n=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,n.call(this,e)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),r="";return e&&(r=U(e)?e.checked?"true":"false":e.value),(e=r)!==a&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var a=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=a?a:e._wrapperState.initialChecked})}function Y(e,t){var a=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;a=H(null!=t.value?t.value:a),e._wrapperState={initialChecked:r,initialValue:a,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function X(e,t){$(e,t);var a=H(t.value),r=t.type;if(null!=a)"number"===r?(0===a&&""===e.value||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,a):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,a){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,a||t===e.value||(e.value=t),e.defaultValue=t}""!==(a=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==a&&(e.name=a)}function ee(e,t,a){"number"===t&&Q(e.ownerDocument)===e||(null==a?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var te=Array.isArray;function ae(e,t,a,r){if(e=e.options,t){t={};for(var s=0;s<a.length;s++)t["$"+a[s]]=!0;for(a=0;a<e.length;a++)s=t.hasOwnProperty("$"+e[a].value),e[a].selected!==s&&(e[a].selected=s),s&&r&&(e[a].defaultSelected=!0)}else{for(a=""+H(a),t=null,s=0;s<e.length;s++){if(e[s].value===a)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(n(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var a=t.value;if(null==a){if(a=t.children,t=t.defaultValue,null!=a){if(null!=t)throw Error(n(92));if(te(a)){if(1<a.length)throw Error(n(93));a=a[0]}t=a}null==t&&(t=""),a=t}e._wrapperState={initialValue:H(a)}}function ne(e,t){var a=H(t.value),r=H(t.defaultValue);null!=a&&((a=""+a)!==e.value&&(e.value=a),null==t.defaultValue&&e.defaultValue!==a&&(e.defaultValue=a)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,a,r){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function pe(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&3===a.nodeType)return void(a.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function ge(e,t,a){return null==t||"boolean"===typeof t||""===t?"":a||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function fe(e,t){for(var a in e=e.style,t)if(t.hasOwnProperty(a)){var r=0===a.indexOf("--"),s=ge(a,t[a],r);"float"===a&&(a="cssFloat"),r?e.setProperty(a,s):e[a]=s}}Object.keys(he).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]})});var xe=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function je(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(n(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(n(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(n(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,we=null,ke=null;function Se(e){if(e=js(e)){if("function"!==typeof Ne)throw Error(n(280));var t=e.stateNode;t&&(t=ys(t),Ne(e.stateNode,e.type,t))}}function Ce(e){we?ke?ke.push(e):ke=[e]:we=e}function Pe(){if(we){var e=we,t=ke;if(ke=we=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function Me(){}var Ae=!1;function Ie(e,t,a){if(Ae)return e(t,a);Ae=!0;try{return Te(e,t,a)}finally{Ae=!1,(null!==we||null!==ke)&&(Me(),Pe())}}function Ee(e,t){var a=e.stateNode;if(null===a)return null;var r=ys(a);if(null===r)return null;a=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(a&&"function"!==typeof a)throw Error(n(231,t,typeof a));return a}var Fe=!1;if(d)try{var De={};Object.defineProperty(De,"passive",{get:function(){Fe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(de){Fe=!1}function Be(e,t,a,r,s,n,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(a,c)}catch(d){this.onError(d)}}var Re=!1,Le=null,We=!1,ze=null,_e={onError:function(e){Re=!0,Le=e}};function Ge(e,t,a,r,s,n,i,o,l){Re=!1,Le=null,Be.apply(_e,arguments)}function Ve(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(a=t.return),e=t.return}while(e)}return 3===t.tag?a:null}function Oe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(n(188))}function Ue(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(n(188));return t!==e?null:e}for(var a=e,r=t;;){var s=a.return;if(null===s)break;var i=s.alternate;if(null===i){if(null!==(r=s.return)){a=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===a)return He(s),e;if(i===r)return He(s),t;i=i.sibling}throw Error(n(188))}if(a.return!==r.return)a=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===a){o=!0,a=s,r=i;break}if(l===r){o=!0,r=s,a=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===a){o=!0,a=i,r=s;break}if(l===r){o=!0,r=i,a=s;break}l=l.sibling}if(!o)throw Error(n(189))}}if(a.alternate!==r)throw Error(n(190))}if(3!==a.tag)throw Error(n(188));return a.stateNode.current===a?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var qe=s.unstable_scheduleCallback,Qe=s.unstable_cancelCallback,Je=s.unstable_shouldYield,Ye=s.unstable_requestPaint,$e=s.unstable_now,Xe=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,at=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,nt=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var a=e.pendingLanes;if(0===a)return 0;var r=0,s=e.suspendedLanes,n=e.pingedLanes,i=268435455&a;if(0!==i){var o=i&~s;0!==o?r=ut(o):0!==(n&=i)&&(r=ut(n))}else 0!==(i=a&~s)?r=ut(i):0!==n&&(r=ut(n));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(n=t&-t)||16===s&&0!==(4194240&n)))return t;if(0!==(4&r)&&(r|=16&a),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(a=31-it(t)),r|=e[a],t&=~s;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function ft(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function xt(e,t,a){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=a}function jt(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var r=31-it(a),s=1<<r;s&t|e[r]&t&&(e[r]|=t),a&=~s}}var vt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,Nt,wt,kt,St,Ct=!1,Pt=[],Tt=null,Mt=null,At=null,It=new Map,Et=new Map,Ft=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(t.pointerId)}}function Rt(e,t,a,r,s,n){return null===e||e.nativeEvent!==n?(e={blockedOn:t,domEventName:a,eventSystemFlags:r,nativeEvent:n,targetContainers:[s]},null!==t&&(null!==(t=js(t))&&Nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Lt(e){var t=xs(e.target);if(null!==t){var a=Ve(t);if(null!==a)if(13===(t=a.tag)){if(null!==(t=Oe(a)))return e.blockedOn=t,void St(e.priority,function(){wt(a)})}else if(3===t&&a.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===a.tag?a.stateNode.containerInfo:null)}e.blockedOn=null}function Wt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var a=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==a)return null!==(t=js(a))&&Nt(t),e.blockedOn=a,!1;var r=new(a=e.nativeEvent).constructor(a.type,a);ye=r,a.target.dispatchEvent(r),ye=null,t.shift()}return!0}function zt(e,t,a){Wt(e)&&a.delete(t)}function _t(){Ct=!1,null!==Tt&&Wt(Tt)&&(Tt=null),null!==Mt&&Wt(Mt)&&(Mt=null),null!==At&&Wt(At)&&(At=null),It.forEach(zt),Et.forEach(zt)}function Gt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,_t)))}function Vt(e){function t(t){return Gt(t,e)}if(0<Pt.length){Gt(Pt[0],e);for(var a=1;a<Pt.length;a++){var r=Pt[a];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Gt(Tt,e),null!==Mt&&Gt(Mt,e),null!==At&&Gt(At,e),It.forEach(t),Et.forEach(t),a=0;a<Ft.length;a++)(r=Ft[a]).blockedOn===e&&(r.blockedOn=null);for(;0<Ft.length&&null===(a=Ft[0]).blockedOn;)Lt(a),null===a.blockedOn&&Ft.shift()}var Ot=y.ReactCurrentBatchConfig,Ht=!0;function Ut(e,t,a,r){var s=vt,n=Ot.transition;Ot.transition=null;try{vt=1,qt(e,t,a,r)}finally{vt=s,Ot.transition=n}}function Kt(e,t,a,r){var s=vt,n=Ot.transition;Ot.transition=null;try{vt=4,qt(e,t,a,r)}finally{vt=s,Ot.transition=n}}function qt(e,t,a,r){if(Ht){var s=Jt(e,t,a,r);if(null===s)Or(e,t,r,Qt,a),Bt(e,r);else if(function(e,t,a,r,s){switch(t){case"focusin":return Tt=Rt(Tt,e,t,a,r,s),!0;case"dragenter":return Mt=Rt(Mt,e,t,a,r,s),!0;case"mouseover":return At=Rt(At,e,t,a,r,s),!0;case"pointerover":var n=s.pointerId;return It.set(n,Rt(It.get(n)||null,e,t,a,r,s)),!0;case"gotpointercapture":return n=s.pointerId,Et.set(n,Rt(Et.get(n)||null,e,t,a,r,s)),!0}return!1}(s,e,t,a,r))r.stopPropagation();else if(Bt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==s;){var n=js(s);if(null!==n&&bt(n),null===(n=Jt(e,t,a,r))&&Or(e,t,r,Qt,a),n===s)break;s=n}null!==s&&r.stopPropagation()}else Or(e,t,r,null,a)}}var Qt=null;function Jt(e,t,a,r){if(Qt=null,null!==(e=xs(e=be(r))))if(null===(t=Ve(e)))e=null;else if(13===(a=t.tag)){if(null!==(e=Oe(t)))return e;e=null}else if(3===a){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case at:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Xt=null,Zt=null;function ea(){if(Zt)return Zt;var e,t,a=Xt,r=a.length,s="value"in $t?$t.value:$t.textContent,n=s.length;for(e=0;e<r&&a[e]===s[e];e++);var i=r-e;for(t=1;t<=i&&a[r-t]===s[n-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function ta(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function aa(){return!0}function ra(){return!1}function sa(e){function t(t,a,r,s,n){for(var i in this._reactName=t,this._targetInst=r,this.type=a,this.nativeEvent=s,this.target=n,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?aa:ra,this.isPropagationStopped=ra,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=aa)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=aa)},persist:function(){},isPersistent:aa}),t}var na,ia,oa,la={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=sa(la),da=L({},la,{view:0,detail:0}),ua=sa(da),pa=L({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oa&&(oa&&"mousemove"===e.type?(na=e.screenX-oa.screenX,ia=e.screenY-oa.screenY):ia=na=0,oa=e),na)},movementY:function(e){return"movementY"in e?e.movementY:ia}}),ha=sa(pa),ma=sa(L({},pa,{dataTransfer:0})),ga=sa(L({},da,{relatedTarget:0})),fa=sa(L({},la,{animationName:0,elapsedTime:0,pseudoElement:0})),xa=L({},la,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ja=sa(xa),va=sa(L({},la,{data:0})),ya={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ba={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Na={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wa(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Na[e])&&!!t[e]}function ka(){return wa}var Sa=L({},da,{key:function(e){if(e.key){var t=ya[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ta(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ba[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(e){return"keypress"===e.type?ta(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ta(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Ca=sa(Sa),Pa=sa(L({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ta=sa(L({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka})),Ma=sa(L({},la,{propertyName:0,elapsedTime:0,pseudoElement:0})),Aa=L({},pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ia=sa(Aa),Ea=[9,13,27,32],Fa=d&&"CompositionEvent"in window,Da=null;d&&"documentMode"in document&&(Da=document.documentMode);var Ba=d&&"TextEvent"in window&&!Da,Ra=d&&(!Fa||Da&&8<Da&&11>=Da),La=String.fromCharCode(32),Wa=!1;function za(e,t){switch(e){case"keyup":return-1!==Ea.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _a(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ga=!1;var Va={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Va[e.type]:"textarea"===t}function Ha(e,t,a,r){Ce(r),0<(t=Ur(t,"onChange")).length&&(a=new ca("onChange","change",null,a,r),e.push({event:a,listeners:t}))}var Ua=null,Ka=null;function qa(e){Lr(e,0)}function Qa(e){if(q(vs(e)))return e}function Ja(e,t){if("change"===e)return t}var Ya=!1;if(d){var $a;if(d){var Xa="oninput"in document;if(!Xa){var Za=document.createElement("div");Za.setAttribute("oninput","return;"),Xa="function"===typeof Za.oninput}$a=Xa}else $a=!1;Ya=$a&&(!document.documentMode||9<document.documentMode)}function er(){Ua&&(Ua.detachEvent("onpropertychange",tr),Ka=Ua=null)}function tr(e){if("value"===e.propertyName&&Qa(Ka)){var t=[];Ha(t,Ka,e,be(e)),Ie(qa,t)}}function ar(e,t,a){"focusin"===e?(er(),Ka=a,(Ua=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qa(Ka)}function sr(e,t){if("click"===e)return Qa(t)}function nr(e,t){if("input"===e||"change"===e)return Qa(t)}var ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var s=a[r];if(!u.call(t,s)||!ir(e[s],t[s]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var a,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ur(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var a="string"===typeof t.contentWindow.location.href}catch(r){a=!1}if(!a)break;t=Q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=ur(),a=e.focusedElem,r=e.selectionRange;if(t!==a&&a&&a.ownerDocument&&dr(a.ownerDocument.documentElement,a)){if(null!==r&&pr(a))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in a)a.selectionStart=t,a.selectionEnd=Math.min(e,a.value.length);else if((e=(t=a.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=a.textContent.length,n=Math.min(r.start,s);r=void 0===r.end?n:Math.min(r.end,s),!e.extend&&n>r&&(s=r,r=n,n=s),s=cr(a,n);var i=cr(a,r);s&&i&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),n>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=a;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<t.length;a++)(e=t[a]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=d&&"documentMode"in document&&11>=document.documentMode,gr=null,fr=null,xr=null,jr=!1;function vr(e,t,a){var r=a.window===a?a.document:9===a.nodeType?a:a.ownerDocument;jr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},xr&&or(xr,r)||(xr=r,0<(r=Ur(fr,"onSelect")).length&&(t=new ca("onSelect","select",null,t,a),e.push({event:t,listeners:r}),t.target=gr)))}function yr(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var br={animationend:yr("Animation","AnimationEnd"),animationiteration:yr("Animation","AnimationIteration"),animationstart:yr("Animation","AnimationStart"),transitionend:yr("Transition","TransitionEnd")},Nr={},wr={};function kr(e){if(Nr[e])return Nr[e];if(!br[e])return e;var t,a=br[e];for(t in a)if(a.hasOwnProperty(t)&&t in wr)return Nr[e]=a[t];return e}d&&(wr=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var Sr=kr("animationend"),Cr=kr("animationiteration"),Pr=kr("animationstart"),Tr=kr("transitionend"),Mr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Mr.set(e,t),l(t,[e])}for(var Er=0;Er<Ar.length;Er++){var Fr=Ar[Er];Ir(Fr.toLowerCase(),"on"+(Fr[0].toUpperCase()+Fr.slice(1)))}Ir(Sr,"onAnimationEnd"),Ir(Cr,"onAnimationIteration"),Ir(Pr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Br=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Rr(e,t,a){var r=e.type||"unknown-event";e.currentTarget=a,function(e,t,a,r,s,i,o,l,c){if(Ge.apply(this,arguments),Re){if(!Re)throw Error(n(198));var d=Le;Re=!1,Le=null,We||(We=!0,ze=d)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var a=0;a<e.length;a++){var r=e[a],s=r.event;r=r.listeners;e:{var n=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==n&&s.isPropagationStopped())break e;Rr(s,o,c),n=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==n&&s.isPropagationStopped())break e;Rr(s,o,c),n=l}}}if(We)throw e=ze,We=!1,ze=null,e}function Wr(e,t){var a=t[ms];void 0===a&&(a=t[ms]=new Set);var r=e+"__bubble";a.has(r)||(Vr(t,e,2,!1),a.add(r))}function zr(e,t,a){var r=0;t&&(r|=4),Vr(a,e,r,t)}var _r="_reactListening"+Math.random().toString(36).slice(2);function Gr(e){if(!e[_r]){e[_r]=!0,i.forEach(function(t){"selectionchange"!==t&&(Br.has(t)||zr(t,!1,e),zr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[_r]||(t[_r]=!0,zr("selectionchange",!1,t))}}function Vr(e,t,a,r){switch(Yt(t)){case 1:var s=Ut;break;case 4:s=Kt;break;default:s=qt}a=s.bind(null,t,a,e),s=void 0,!Fe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,a,{capture:!0,passive:s}):e.addEventListener(t,a,!0):void 0!==s?e.addEventListener(t,a,{passive:s}):e.addEventListener(t,a,!1)}function Or(e,t,a,r,s){var n=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;i=i.return}for(;null!==o;){if(null===(i=xs(o)))return;if(5===(l=i.tag)||6===l){r=n=i;continue e}o=o.parentNode}}r=r.return}Ie(function(){var r=n,s=be(a),i=[];e:{var o=Mr.get(e);if(void 0!==o){var l=ca,c=e;switch(e){case"keypress":if(0===ta(a))break e;case"keydown":case"keyup":l=Ca;break;case"focusin":c="focus",l=ga;break;case"focusout":c="blur",l=ga;break;case"beforeblur":case"afterblur":l=ga;break;case"click":if(2===a.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=ha;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=ma;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ta;break;case Sr:case Cr:case Pr:l=fa;break;case Tr:l=Ma;break;case"scroll":l=ua;break;case"wheel":l=Ia;break;case"copy":case"cut":case"paste":l=ja;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Pa}var d=0!==(4&t),u=!d&&"scroll"===e,p=d?null!==o?o+"Capture":null:o;d=[];for(var h,m=r;null!==m;){var g=(h=m).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==p&&(null!=(g=Ee(m,p))&&d.push(Hr(m,g,h)))),u)break;m=m.return}0<d.length&&(o=new l(o,c,null,a,s),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||a===ye||!(c=a.relatedTarget||a.fromElement)||!xs(c)&&!c[hs])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=a.relatedTarget||a.toElement)?xs(c):null)&&(c!==(u=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=ha,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=Pa,g="onPointerLeave",p="onPointerEnter",m="pointer"),u=null==l?o:vs(l),h=null==c?o:vs(c),(o=new d(g,m+"leave",l,a,s)).target=u,o.relatedTarget=h,g=null,xs(s)===r&&((d=new d(p,m+"enter",c,a,s)).target=h,d.relatedTarget=u,g=d),u=g,l&&c)e:{for(p=c,m=0,h=d=l;h;h=Kr(h))m++;for(h=0,g=p;g;g=Kr(g))h++;for(;0<m-h;)d=Kr(d),m--;for(;0<h-m;)p=Kr(p),h--;for(;m--;){if(d===p||null!==p&&d===p.alternate)break e;d=Kr(d),p=Kr(p)}d=null}else d=null;null!==l&&qr(i,o,l,d,!1),null!==c&&null!==u&&qr(i,u,c,d,!0)}if("select"===(l=(o=r?vs(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var f=Ja;else if(Oa(o))if(Ya)f=nr;else{f=rr;var x=ar}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(f=sr);switch(f&&(f=f(e,r))?Ha(i,f,a,s):(x&&x(e,o,r),"focusout"===e&&(x=o._wrapperState)&&x.controlled&&"number"===o.type&&ee(o,"number",o.value)),x=r?vs(r):window,e){case"focusin":(Oa(x)||"true"===x.contentEditable)&&(gr=x,fr=r,xr=null);break;case"focusout":xr=fr=gr=null;break;case"mousedown":jr=!0;break;case"contextmenu":case"mouseup":case"dragend":jr=!1,vr(i,a,s);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":vr(i,a,s)}var j;if(Fa)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Ga?za(e,a)&&(v="onCompositionEnd"):"keydown"===e&&229===a.keyCode&&(v="onCompositionStart");v&&(Ra&&"ko"!==a.locale&&(Ga||"onCompositionStart"!==v?"onCompositionEnd"===v&&Ga&&(j=ea()):(Xt="value"in($t=s)?$t.value:$t.textContent,Ga=!0)),0<(x=Ur(r,v)).length&&(v=new va(v,e,null,a,s),i.push({event:v,listeners:x}),j?v.data=j:null!==(j=_a(a))&&(v.data=j))),(j=Ba?function(e,t){switch(e){case"compositionend":return _a(t);case"keypress":return 32!==t.which?null:(Wa=!0,La);case"textInput":return(e=t.data)===La&&Wa?null:e;default:return null}}(e,a):function(e,t){if(Ga)return"compositionend"===e||!Fa&&za(e,t)?(e=ea(),Zt=Xt=$t=null,Ga=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ra&&"ko"!==t.locale?null:t.data}}(e,a))&&(0<(r=Ur(r,"onBeforeInput")).length&&(s=new va("onBeforeInput","beforeinput",null,a,s),i.push({event:s,listeners:r}),s.data=j))}Lr(i,t)})}function Hr(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Ur(e,t){for(var a=t+"Capture",r=[];null!==e;){var s=e,n=s.stateNode;5===s.tag&&null!==n&&(s=n,null!=(n=Ee(e,a))&&r.unshift(Hr(e,n,s)),null!=(n=Ee(e,t))&&r.push(Hr(e,n,s))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,a,r,s){for(var n=t._reactName,i=[];null!==a&&a!==r;){var o=a,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Ee(a,n))&&i.unshift(Hr(a,l,o)):s||null!=(l=Ee(a,n))&&i.push(Hr(a,l,o))),a=a.return}0!==i.length&&e.push({event:t,listeners:i})}var Qr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Jr,"")}function $r(e,t,a){if(t=Yr(t),Yr(e)!==t&&a)throw Error(n(425))}function Xr(){}var Zr=null,es=null;function ts(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var as="function"===typeof setTimeout?setTimeout:void 0,rs="function"===typeof clearTimeout?clearTimeout:void 0,ss="function"===typeof Promise?Promise:void 0,ns="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ss?function(e){return ss.resolve(null).then(e).catch(is)}:as;function is(e){setTimeout(function(){throw e})}function os(e,t){var a=t,r=0;do{var s=a.nextSibling;if(e.removeChild(a),s&&8===s.nodeType)if("/$"===(a=s.data)){if(0===r)return e.removeChild(s),void Vt(t);r--}else"$"!==a&&"$?"!==a&&"$!"!==a||r++;a=s}while(a);Vt(t)}function ls(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cs(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var a=e.data;if("$"===a||"$!"===a||"$?"===a){if(0===t)return e;t--}else"/$"===a&&t++}e=e.previousSibling}return null}var ds=Math.random().toString(36).slice(2),us="__reactFiber$"+ds,ps="__reactProps$"+ds,hs="__reactContainer$"+ds,ms="__reactEvents$"+ds,gs="__reactListeners$"+ds,fs="__reactHandles$"+ds;function xs(e){var t=e[us];if(t)return t;for(var a=e.parentNode;a;){if(t=a[hs]||a[us]){if(a=t.alternate,null!==t.child||null!==a&&null!==a.child)for(e=cs(e);null!==e;){if(a=e[us])return a;e=cs(e)}return t}a=(e=a).parentNode}return null}function js(e){return!(e=e[us]||e[hs])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function vs(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(n(33))}function ys(e){return e[ps]||null}var bs=[],Ns=-1;function ws(e){return{current:e}}function ks(e){0>Ns||(e.current=bs[Ns],bs[Ns]=null,Ns--)}function Ss(e,t){Ns++,bs[Ns]=e.current,e.current=t}var Cs={},Ps=ws(Cs),Ts=ws(!1),Ms=Cs;function As(e,t){var a=e.type.contextTypes;if(!a)return Cs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,n={};for(s in a)n[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function Is(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Es(){ks(Ts),ks(Ps)}function Fs(e,t,a){if(Ps.current!==Cs)throw Error(n(168));Ss(Ps,t),Ss(Ts,a)}function Ds(e,t,a){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return a;for(var s in r=r.getChildContext())if(!(s in t))throw Error(n(108,O(e)||"Unknown",s));return L({},a,r)}function Bs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cs,Ms=Ps.current,Ss(Ps,e),Ss(Ts,Ts.current),!0}function Rs(e,t,a){var r=e.stateNode;if(!r)throw Error(n(169));a?(e=Ds(e,t,Ms),r.__reactInternalMemoizedMergedChildContext=e,ks(Ts),ks(Ps),Ss(Ps,e)):ks(Ts),Ss(Ts,a)}var Ls=null,Ws=!1,zs=!1;function _s(e){null===Ls?Ls=[e]:Ls.push(e)}function Gs(){if(!zs&&null!==Ls){zs=!0;var e=0,t=vt;try{var a=Ls;for(vt=1;e<a.length;e++){var r=a[e];do{r=r(!0)}while(null!==r)}Ls=null,Ws=!1}catch(s){throw null!==Ls&&(Ls=Ls.slice(e+1)),qe(Ze,Gs),s}finally{vt=t,zs=!1}}return null}var Vs=[],Os=0,Hs=null,Us=0,Ks=[],qs=0,Qs=null,Js=1,Ys="";function $s(e,t){Vs[Os++]=Us,Vs[Os++]=Hs,Hs=e,Us=t}function Xs(e,t,a){Ks[qs++]=Js,Ks[qs++]=Ys,Ks[qs++]=Qs,Qs=e;var r=Js;e=Ys;var s=32-it(r)-1;r&=~(1<<s),a+=1;var n=32-it(t)+s;if(30<n){var i=s-s%5;n=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Js=1<<32-it(t)+s|a<<s|r,Ys=n+e}else Js=1<<n|a<<s|r,Ys=e}function Zs(e){null!==e.return&&($s(e,1),Xs(e,1,0))}function en(e){for(;e===Hs;)Hs=Vs[--Os],Vs[Os]=null,Us=Vs[--Os],Vs[Os]=null;for(;e===Qs;)Qs=Ks[--qs],Ks[qs]=null,Ys=Ks[--qs],Ks[qs]=null,Js=Ks[--qs],Ks[qs]=null}var tn=null,an=null,rn=!1,sn=null;function nn(e,t){var a=Ic(5,null,null,0);a.elementType="DELETED",a.stateNode=t,a.return=e,null===(t=e.deletions)?(e.deletions=[a],e.flags|=16):t.push(a)}function on(e,t){switch(e.tag){case 5:var a=e.type;return null!==(t=1!==t.nodeType||a.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,tn=e,an=ls(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,tn=e,an=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(a=null!==Qs?{id:Js,overflow:Ys}:null,e.memoizedState={dehydrated:t,treeContext:a,retryLane:1073741824},(a=Ic(18,null,null,0)).stateNode=t,a.return=e,e.child=a,tn=e,an=null,!0);default:return!1}}function ln(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cn(e){if(rn){var t=an;if(t){var a=t;if(!on(e,t)){if(ln(e))throw Error(n(418));t=ls(a.nextSibling);var r=tn;t&&on(e,t)?nn(r,a):(e.flags=-4097&e.flags|2,rn=!1,tn=e)}}else{if(ln(e))throw Error(n(418));e.flags=-4097&e.flags|2,rn=!1,tn=e}}}function dn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;tn=e}function un(e){if(e!==tn)return!1;if(!rn)return dn(e),rn=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ts(e.type,e.memoizedProps)),t&&(t=an)){if(ln(e))throw pn(),Error(n(418));for(;t;)nn(e,t),t=ls(t.nextSibling)}if(dn(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var a=e.data;if("/$"===a){if(0===t){an=ls(e.nextSibling);break e}t--}else"$"!==a&&"$!"!==a&&"$?"!==a||t++}e=e.nextSibling}an=null}}else an=tn?ls(e.stateNode.nextSibling):null;return!0}function pn(){for(var e=an;e;)e=ls(e.nextSibling)}function hn(){an=tn=null,rn=!1}function mn(e){null===sn?sn=[e]:sn.push(e)}var gn=y.ReactCurrentBatchConfig;function fn(e,t,a){if(null!==(e=a.ref)&&"function"!==typeof e&&"object"!==typeof e){if(a._owner){if(a=a._owner){if(1!==a.tag)throw Error(n(309));var r=a.stateNode}if(!r)throw Error(n(147,e));var s=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=s.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(n(284));if(!a._owner)throw Error(n(290,e))}return e}function xn(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jn(e){return(0,e._init)(e._payload)}function vn(e){function t(t,a){if(e){var r=t.deletions;null===r?(t.deletions=[a],t.flags|=16):r.push(a)}}function a(a,r){if(!e)return null;for(;null!==r;)t(a,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Fc(e,t)).index=0,e.sibling=null,e}function i(t,a,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<a?(t.flags|=2,a):r:(t.flags|=2,a):(t.flags|=1048576,a)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,a,r){return null===t||6!==t.tag?((t=Lc(a,e.mode,r)).return=e,t):((t=s(t,a)).return=e,t)}function c(e,t,a,r){var n=a.type;return n===w?u(e,t,a.props.children,r,a.key):null!==t&&(t.elementType===n||"object"===typeof n&&null!==n&&n.$$typeof===E&&jn(n)===t.type)?((r=s(t,a.props)).ref=fn(e,t,a),r.return=e,r):((r=Dc(a.type,a.key,a.props,null,e.mode,r)).ref=fn(e,t,a),r.return=e,r)}function d(e,t,a,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==a.containerInfo||t.stateNode.implementation!==a.implementation?((t=Wc(a,e.mode,r)).return=e,t):((t=s(t,a.children||[])).return=e,t)}function u(e,t,a,r,n){return null===t||7!==t.tag?((t=Bc(a,e.mode,r,n)).return=e,t):((t=s(t,a)).return=e,t)}function p(e,t,a){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,a)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(a=Dc(t.type,t.key,t.props,null,e.mode,a)).ref=fn(e,null,t),a.return=e,a;case N:return(t=Wc(t,e.mode,a)).return=e,t;case E:return p(e,(0,t._init)(t._payload),a)}if(te(t)||B(t))return(t=Bc(t,e.mode,a,null)).return=e,t;xn(e,t)}return null}function h(e,t,a,r){var s=null!==t?t.key:null;if("string"===typeof a&&""!==a||"number"===typeof a)return null!==s?null:l(e,t,""+a,r);if("object"===typeof a&&null!==a){switch(a.$$typeof){case b:return a.key===s?c(e,t,a,r):null;case N:return a.key===s?d(e,t,a,r):null;case E:return h(e,t,(s=a._init)(a._payload),r)}if(te(a)||B(a))return null!==s?null:u(e,t,a,r,null);xn(e,a)}return null}function m(e,t,a,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(a)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?a:r.key)||null,r,s);case N:return d(t,e=e.get(null===r.key?a:r.key)||null,r,s);case E:return m(e,t,a,(0,r._init)(r._payload),s)}if(te(r)||B(r))return u(t,e=e.get(a)||null,r,s,null);xn(t,r)}return null}function g(s,n,o,l){for(var c=null,d=null,u=n,g=n=0,f=null;null!==u&&g<o.length;g++){u.index>g?(f=u,u=null):f=u.sibling;var x=h(s,u,o[g],l);if(null===x){null===u&&(u=f);break}e&&u&&null===x.alternate&&t(s,u),n=i(x,n,g),null===d?c=x:d.sibling=x,d=x,u=f}if(g===o.length)return a(s,u),rn&&$s(s,g),c;if(null===u){for(;g<o.length;g++)null!==(u=p(s,o[g],l))&&(n=i(u,n,g),null===d?c=u:d.sibling=u,d=u);return rn&&$s(s,g),c}for(u=r(s,u);g<o.length;g++)null!==(f=m(u,s,g,o[g],l))&&(e&&null!==f.alternate&&u.delete(null===f.key?g:f.key),n=i(f,n,g),null===d?c=f:d.sibling=f,d=f);return e&&u.forEach(function(e){return t(s,e)}),rn&&$s(s,g),c}function f(s,o,l,c){var d=B(l);if("function"!==typeof d)throw Error(n(150));if(null==(l=d.call(l)))throw Error(n(151));for(var u=d=null,g=o,f=o=0,x=null,j=l.next();null!==g&&!j.done;f++,j=l.next()){g.index>f?(x=g,g=null):x=g.sibling;var v=h(s,g,j.value,c);if(null===v){null===g&&(g=x);break}e&&g&&null===v.alternate&&t(s,g),o=i(v,o,f),null===u?d=v:u.sibling=v,u=v,g=x}if(j.done)return a(s,g),rn&&$s(s,f),d;if(null===g){for(;!j.done;f++,j=l.next())null!==(j=p(s,j.value,c))&&(o=i(j,o,f),null===u?d=j:u.sibling=j,u=j);return rn&&$s(s,f),d}for(g=r(s,g);!j.done;f++,j=l.next())null!==(j=m(g,s,f,j.value,c))&&(e&&null!==j.alternate&&g.delete(null===j.key?f:j.key),o=i(j,o,f),null===u?d=j:u.sibling=j,u=j);return e&&g.forEach(function(e){return t(s,e)}),rn&&$s(s,f),d}return function e(r,n,i,l){if("object"===typeof i&&null!==i&&i.type===w&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case b:e:{for(var c=i.key,d=n;null!==d;){if(d.key===c){if((c=i.type)===w){if(7===d.tag){a(r,d.sibling),(n=s(d,i.props.children)).return=r,r=n;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===E&&jn(c)===d.type){a(r,d.sibling),(n=s(d,i.props)).ref=fn(r,d,i),n.return=r,r=n;break e}a(r,d);break}t(r,d),d=d.sibling}i.type===w?((n=Bc(i.props.children,r.mode,l,i.key)).return=r,r=n):((l=Dc(i.type,i.key,i.props,null,r.mode,l)).ref=fn(r,n,i),l.return=r,r=l)}return o(r);case N:e:{for(d=i.key;null!==n;){if(n.key===d){if(4===n.tag&&n.stateNode.containerInfo===i.containerInfo&&n.stateNode.implementation===i.implementation){a(r,n.sibling),(n=s(n,i.children||[])).return=r,r=n;break e}a(r,n);break}t(r,n),n=n.sibling}(n=Wc(i,r.mode,l)).return=r,r=n}return o(r);case E:return e(r,n,(d=i._init)(i._payload),l)}if(te(i))return g(r,n,i,l);if(B(i))return f(r,n,i,l);xn(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==n&&6===n.tag?(a(r,n.sibling),(n=s(n,i)).return=r,r=n):(a(r,n),(n=Lc(i,r.mode,l)).return=r,r=n),o(r)):a(r,n)}}var yn=vn(!0),bn=vn(!1),Nn=ws(null),wn=null,kn=null,Sn=null;function Cn(){Sn=kn=wn=null}function Pn(e){var t=Nn.current;ks(Nn),e._currentValue=t}function Tn(e,t,a){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===a)break;e=e.return}}function Mn(e,t){wn=e,Sn=kn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vo=!0),e.firstContext=null)}function An(e){var t=e._currentValue;if(Sn!==e)if(e={context:e,memoizedValue:t,next:null},null===kn){if(null===wn)throw Error(n(308));kn=e,wn.dependencies={lanes:0,firstContext:e}}else kn=kn.next=e;return t}var In=null;function En(e){null===In?In=[e]:In.push(e)}function Fn(e,t,a,r){var s=t.interleaved;return null===s?(a.next=a,En(t)):(a.next=s.next,s.next=a),t.interleaved=a,Dn(e,r)}function Dn(e,t){e.lanes|=t;var a=e.alternate;for(null!==a&&(a.lanes|=t),a=e,e=e.return;null!==e;)e.childLanes|=t,null!==(a=e.alternate)&&(a.childLanes|=t),a=e,e=e.return;return 3===a.tag?a.stateNode:null}var Bn=!1;function Rn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ln(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zn(e,t,a){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Tl)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Dn(e,a)}return null===(s=r.interleaved)?(t.next=t,En(r)):(t.next=s.next,s.next=t),r.interleaved=t,Dn(e,a)}function _n(e,t,a){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&a))){var r=t.lanes;a|=r&=e.pendingLanes,t.lanes=a,jt(e,a)}}function Gn(e,t){var a=e.updateQueue,r=e.alternate;if(null!==r&&a===(r=r.updateQueue)){var s=null,n=null;if(null!==(a=a.firstBaseUpdate)){do{var i={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};null===n?s=n=i:n=n.next=i,a=a.next}while(null!==a);null===n?s=n=t:n=n.next=t}else s=n=t;return a={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:n,shared:r.shared,effects:r.effects},void(e.updateQueue=a)}null===(e=a.lastBaseUpdate)?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}function Vn(e,t,a,r){var s=e.updateQueue;Bn=!1;var n=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?n=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==n){var u=s.baseState;for(i=0,d=c=l=null,o=n;;){var p=o.lane,h=o.eventTime;if((r&p)===p){null!==d&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,g=o;switch(p=t,h=a,g.tag){case 1:if("function"===typeof(m=g.payload)){u=m.call(h,u,p);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=g.payload)?m.call(h,u,p):m)||void 0===p)break e;u=L({},u,p);break e;case 2:Bn=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(p=s.effects)?s.effects=[o]:p.push(o))}else h={eventTime:h,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=h,l=u):d=d.next=h,i|=p;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(p=o).next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}if(null===d&&(l=u),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null!==(t=s.shared.interleaved)){s=t;do{i|=s.lane,s=s.next}while(s!==t)}else null===n&&(s.shared.lanes=0);Rl|=i,e.lanes=i,e.memoizedState=u}}function On(e,t,a){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=a,"function"!==typeof s)throw Error(n(191,s));s.call(r)}}}var Hn={},Un=ws(Hn),Kn=ws(Hn),qn=ws(Hn);function Qn(e){if(e===Hn)throw Error(n(174));return e}function Jn(e,t){switch(Ss(qn,t),Ss(Kn,e),Ss(Un,Hn),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ks(Un),Ss(Un,t)}function Yn(){ks(Un),ks(Kn),ks(qn)}function $n(e){Qn(qn.current);var t=Qn(Un.current),a=le(t,e.type);t!==a&&(Ss(Kn,e),Ss(Un,a))}function Xn(e){Kn.current===e&&(ks(Un),ks(Kn))}var Zn=ws(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var a=t.memoizedState;if(null!==a&&(null===(a=a.dehydrated)||"$?"===a.data||"$!"===a.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ai(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ri=y.ReactCurrentDispatcher,si=y.ReactCurrentBatchConfig,ni=0,ii=null,oi=null,li=null,ci=!1,di=!1,ui=0,pi=0;function hi(){throw Error(n(321))}function mi(e,t){if(null===t)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!ir(e[a],t[a]))return!1;return!0}function gi(e,t,a,r,s,i){if(ni=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=null===e||null===e.memoizedState?Xi:Zi,e=a(r,s),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(n(301));i+=1,li=oi=null,t.updateQueue=null,ri.current=eo,e=a(r,s)}while(di)}if(ri.current=$i,t=null!==oi&&null!==oi.next,ni=0,li=oi=ii=null,ci=!1,t)throw Error(n(300));return e}function fi(){var e=0!==ui;return ui=0,e}function xi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function ji(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(n(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function vi(e,t){return"function"===typeof t?t(e):t}function yi(e){var t=ji(),a=t.queue;if(null===a)throw Error(n(311));a.lastRenderedReducer=e;var r=oi,s=r.baseQueue,i=a.pending;if(null!==i){if(null!==s){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,a.pending=null}if(null!==s){i=s.next,r=r.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((ni&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=p,o=r):c=c.next=p,ii.lanes|=u,Rl|=u}d=d.next}while(null!==d&&d!==i);null===c?o=r:c.next=l,ir(r,t.memoizedState)||(vo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,a.lastRenderedState=r}if(null!==(e=a.interleaved)){s=e;do{i=s.lane,ii.lanes|=i,Rl|=i,s=s.next}while(s!==e)}else null===s&&(a.lanes=0);return[t.memoizedState,a.dispatch]}function bi(e){var t=ji(),a=t.queue;if(null===a)throw Error(n(311));a.lastRenderedReducer=e;var r=a.dispatch,s=a.pending,i=t.memoizedState;if(null!==s){a.pending=null;var o=s=s.next;do{i=e(i,o.action),o=o.next}while(o!==s);ir(i,t.memoizedState)||(vo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),a.lastRenderedState=i}return[i,r]}function Ni(){}function wi(e,t){var a=ii,r=ji(),s=t(),i=!ir(r.memoizedState,s);if(i&&(r.memoizedState=s,vo=!0),r=r.queue,Bi(Ci.bind(null,a,r,e),[e]),r.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(a.flags|=2048,Ai(9,Si.bind(null,a,r,s,t),void 0,null),null===Ml)throw Error(n(349));0!==(30&ni)||ki(a,t,s)}return s}function ki(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(a=t.stores)?t.stores=[e]:a.push(e)}function Si(e,t,a,r){t.value=a,t.getSnapshot=r,Pi(t)&&Ti(e)}function Ci(e,t,a){return a(function(){Pi(t)&&Ti(e)})}function Pi(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!ir(e,a)}catch(r){return!0}}function Ti(e){var t=Dn(e,1);null!==t&&ac(t,e,1,-1)}function Mi(e){var t=xi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:e},t.queue=e,e=e.dispatch=qi.bind(null,ii,e),[t.memoizedState,e]}function Ai(e,t,a,r){return e={tag:e,create:t,destroy:a,deps:r,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(a=t.lastEffect)?t.lastEffect=e.next=e:(r=a.next,a.next=e,e.next=r,t.lastEffect=e),e}function Ii(){return ji().memoizedState}function Ei(e,t,a,r){var s=xi();ii.flags|=e,s.memoizedState=Ai(1|t,a,void 0,void 0===r?null:r)}function Fi(e,t,a,r){var s=ji();r=void 0===r?null:r;var n=void 0;if(null!==oi){var i=oi.memoizedState;if(n=i.destroy,null!==r&&mi(r,i.deps))return void(s.memoizedState=Ai(t,a,n,r))}ii.flags|=e,s.memoizedState=Ai(1|t,a,n,r)}function Di(e,t){return Ei(8390656,8,e,t)}function Bi(e,t){return Fi(2048,8,e,t)}function Ri(e,t){return Fi(4,2,e,t)}function Li(e,t){return Fi(4,4,e,t)}function Wi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zi(e,t,a){return a=null!==a&&void 0!==a?a.concat([e]):null,Fi(4,4,Wi.bind(null,t,e),a)}function _i(){}function Gi(e,t){var a=ji();t=void 0===t?null:t;var r=a.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(a.memoizedState=[e,t],e)}function Vi(e,t){var a=ji();t=void 0===t?null:t;var r=a.memoizedState;return null!==r&&null!==t&&mi(t,r[1])?r[0]:(e=e(),a.memoizedState=[e,t],e)}function Oi(e,t,a){return 0===(21&ni)?(e.baseState&&(e.baseState=!1,vo=!0),e.memoizedState=a):(ir(a,t)||(a=gt(),ii.lanes|=a,Rl|=a,e.baseState=!0),t)}function Hi(e,t){var a=vt;vt=0!==a&&4>a?a:4,e(!0);var r=si.transition;si.transition={};try{e(!1),t()}finally{vt=a,si.transition=r}}function Ui(){return ji().memoizedState}function Ki(e,t,a){var r=tc(e);if(a={lane:r,action:a,hasEagerState:!1,eagerState:null,next:null},Qi(e))Ji(t,a);else if(null!==(a=Fn(e,t,a,r))){ac(a,e,r,ec()),Yi(a,t,r)}}function qi(e,t,a){var r=tc(e),s={lane:r,action:a,hasEagerState:!1,eagerState:null,next:null};if(Qi(e))Ji(t,s);else{var n=e.alternate;if(0===e.lanes&&(null===n||0===n.lanes)&&null!==(n=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=n(i,a);if(s.hasEagerState=!0,s.eagerState=o,ir(o,i)){var l=t.interleaved;return null===l?(s.next=s,En(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(a=Fn(e,t,s,r))&&(ac(a,e,r,s=ec()),Yi(a,t,r))}}function Qi(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Ji(e,t){di=ci=!0;var a=e.pending;null===a?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Yi(e,t,a){if(0!==(4194240&a)){var r=t.lanes;a|=r&=e.pendingLanes,t.lanes=a,jt(e,a)}}var $i={readContext:An,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},Xi={readContext:An,useCallback:function(e,t){return xi().memoizedState=[e,void 0===t?null:t],e},useContext:An,useEffect:Di,useImperativeHandle:function(e,t,a){return a=null!==a&&void 0!==a?a.concat([e]):null,Ei(4194308,4,Wi.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ei(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ei(4,2,e,t)},useMemo:function(e,t){var a=xi();return t=void 0===t?null:t,e=e(),a.memoizedState=[e,t],e},useReducer:function(e,t,a){var r=xi();return t=void 0!==a?a(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ki.bind(null,ii,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xi().memoizedState=e},useState:Mi,useDebugValue:_i,useDeferredValue:function(e){return xi().memoizedState=e},useTransition:function(){var e=Mi(!1),t=e[0];return e=Hi.bind(null,e[1]),xi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,a){var r=ii,s=xi();if(rn){if(void 0===a)throw Error(n(407));a=a()}else{if(a=t(),null===Ml)throw Error(n(349));0!==(30&ni)||ki(r,t,a)}s.memoizedState=a;var i={value:a,getSnapshot:t};return s.queue=i,Di(Ci.bind(null,r,i,e),[e]),r.flags|=2048,Ai(9,Si.bind(null,r,i,a,t),void 0,null),a},useId:function(){var e=xi(),t=Ml.identifierPrefix;if(rn){var a=Ys;t=":"+t+"R"+(a=(Js&~(1<<32-it(Js)-1)).toString(32)+a),0<(a=ui++)&&(t+="H"+a.toString(32)),t+=":"}else t=":"+t+"r"+(a=pi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zi={readContext:An,useCallback:Gi,useContext:An,useEffect:Bi,useImperativeHandle:zi,useInsertionEffect:Ri,useLayoutEffect:Li,useMemo:Vi,useReducer:yi,useRef:Ii,useState:function(){return yi(vi)},useDebugValue:_i,useDeferredValue:function(e){return Oi(ji(),oi.memoizedState,e)},useTransition:function(){return[yi(vi)[0],ji().memoizedState]},useMutableSource:Ni,useSyncExternalStore:wi,useId:Ui,unstable_isNewReconciler:!1},eo={readContext:An,useCallback:Gi,useContext:An,useEffect:Bi,useImperativeHandle:zi,useInsertionEffect:Ri,useLayoutEffect:Li,useMemo:Vi,useReducer:bi,useRef:Ii,useState:function(){return bi(vi)},useDebugValue:_i,useDeferredValue:function(e){var t=ji();return null===oi?t.memoizedState=e:Oi(t,oi.memoizedState,e)},useTransition:function(){return[bi(vi)[0],ji().memoizedState]},useMutableSource:Ni,useSyncExternalStore:wi,useId:Ui,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var a in t=L({},t),e=e.defaultProps)void 0===t[a]&&(t[a]=e[a]);return t}return t}function ao(e,t,a,r){a=null===(a=a(r,t=e.memoizedState))||void 0===a?t:L({},t,a),e.memoizedState=a,0===e.lanes&&(e.updateQueue.baseState=a)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,a){e=e._reactInternals;var r=ec(),s=tc(e),n=Wn(r,s);n.payload=t,void 0!==a&&null!==a&&(n.callback=a),null!==(t=zn(e,n,s))&&(ac(t,e,s,r),_n(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var r=ec(),s=tc(e),n=Wn(r,s);n.tag=1,n.payload=t,void 0!==a&&null!==a&&(n.callback=a),null!==(t=zn(e,n,s))&&(ac(t,e,s,r),_n(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ec(),r=tc(e),s=Wn(a,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=zn(e,s,r))&&(ac(t,e,r,a),_n(t,e,r))}};function so(e,t,a,r,s,n,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,n,i):!t.prototype||!t.prototype.isPureReactComponent||(!or(a,r)||!or(s,n))}function no(e,t,a){var r=!1,s=Cs,n=t.contextType;return"object"===typeof n&&null!==n?n=An(n):(s=Is(t)?Ms:Ps.current,n=(r=null!==(r=t.contextTypes)&&void 0!==r)?As(e,s):Cs),t=new t(a,n),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=n),t}function io(e,t,a,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(a,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(a,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,a,r){var s=e.stateNode;s.props=a,s.state=e.memoizedState,s.refs={},Rn(e);var n=t.contextType;"object"===typeof n&&null!==n?s.context=An(n):(n=Is(t)?Ms:Ps.current,s.context=As(e,n)),s.state=e.memoizedState,"function"===typeof(n=t.getDerivedStateFromProps)&&(ao(e,t,n,a),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&ro.enqueueReplaceState(s,s.state,null),Vn(e,a,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var a="",r=t;do{a+=G(r),r=r.return}while(r);var s=a}catch(n){s="\nError generating stack: "+n.message+"\n"+n.stack}return{value:e,source:t,stack:s,digest:null}}function co(e,t,a){return{value:e,source:null,stack:null!=a?a:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(a){setTimeout(function(){throw a})}}var po="function"===typeof WeakMap?WeakMap:Map;function ho(e,t,a){(a=Wn(-1,a)).tag=3,a.payload={element:null};var r=t.value;return a.callback=function(){Hl||(Hl=!0,Ul=r),uo(0,t)},a}function mo(e,t,a){(a=Wn(-1,a)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;a.payload=function(){return r(s)},a.callback=function(){uo(0,t)}}var n=e.stateNode;return null!==n&&"function"===typeof n.componentDidCatch&&(a.callback=function(){uo(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),a}function go(e,t,a){var r=e.pingCache;if(null===r){r=e.pingCache=new po;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(a)||(s.add(a),e=Sc.bind(null,e,t,a),t.then(e,e))}function fo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xo(e,t,a,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,1===a.tag&&(null===a.alternate?a.tag=17:((t=Wn(-1,1)).tag=2,zn(a,t,1))),a.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var jo=y.ReactCurrentOwner,vo=!1;function yo(e,t,a,r){t.child=null===e?bn(t,null,a,r):yn(t,e.child,a,r)}function bo(e,t,a,r,s){a=a.render;var n=t.ref;return Mn(t,s),r=gi(e,t,a,r,n,s),a=fi(),null===e||vo?(rn&&a&&Zs(t),t.flags|=1,yo(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ho(e,t,s))}function No(e,t,a,r,s){if(null===e){var n=a.type;return"function"!==typeof n||Ec(n)||void 0!==n.defaultProps||null!==a.compare||void 0!==a.defaultProps?((e=Dc(a.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=n,wo(e,t,n,r,s))}if(n=e.child,0===(e.lanes&s)){var i=n.memoizedProps;if((a=null!==(a=a.compare)?a:or)(i,r)&&e.ref===t.ref)return Ho(e,t,s)}return t.flags|=1,(e=Fc(n,r)).ref=t.ref,e.return=t,t.child=e}function wo(e,t,a,r,s){if(null!==e){var n=e.memoizedProps;if(or(n,r)&&e.ref===t.ref){if(vo=!1,t.pendingProps=r=n,0===(e.lanes&s))return t.lanes=e.lanes,Ho(e,t,s);0!==(131072&e.flags)&&(vo=!0)}}return Co(e,t,a,r,s)}function ko(e,t,a){var r=t.pendingProps,s=r.children,n=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ss(Fl,El),El|=a;else{if(0===(1073741824&a))return e=null!==n?n.baseLanes|a:a,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ss(Fl,El),El|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==n?n.baseLanes:a,Ss(Fl,El),El|=r}else null!==n?(r=n.baseLanes|a,t.memoizedState=null):r=a,Ss(Fl,El),El|=r;return yo(e,t,s,a),t.child}function So(e,t){var a=t.ref;(null===e&&null!==a||null!==e&&e.ref!==a)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,a,r,s){var n=Is(a)?Ms:Ps.current;return n=As(t,n),Mn(t,s),a=gi(e,t,a,r,n,s),r=fi(),null===e||vo?(rn&&r&&Zs(t),t.flags|=1,yo(e,t,a,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ho(e,t,s))}function Po(e,t,a,r,s){if(Is(a)){var n=!0;Bs(t)}else n=!1;if(Mn(t,s),null===t.stateNode)Oo(e,t),no(t,a,r),oo(t,a,r,s),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=a.contextType;"object"===typeof c&&null!==c?c=An(c):c=As(t,c=Is(a)?Ms:Ps.current);var d=a.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==r||l!==c)&&io(t,i,r,c),Bn=!1;var p=t.memoizedState;i.state=p,Vn(t,r,i,s),l=t.memoizedState,o!==r||p!==l||Ts.current||Bn?("function"===typeof d&&(ao(t,a,d,r),l=t.memoizedState),(o=Bn||so(t,a,o,r,p,l,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Ln(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,u=t.pendingProps,p=i.context,"object"===typeof(l=a.contextType)&&null!==l?l=An(l):l=As(t,l=Is(a)?Ms:Ps.current);var h=a.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||p!==l)&&io(t,i,r,l),Bn=!1,p=t.memoizedState,i.state=p,Vn(t,r,i,s);var m=t.memoizedState;o!==u||p!==m||Ts.current||Bn?("function"===typeof h&&(ao(t,a,h,r),m=t.memoizedState),(c=Bn||so(t,a,c,r,p,m,l)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,m,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,m,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),i.props=r,i.state=m,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return To(e,t,a,r,n,s)}function To(e,t,a,r,s,n){So(e,t);var i=0!==(128&t.flags);if(!r&&!i)return s&&Rs(t,a,!1),Ho(e,t,n);r=t.stateNode,jo.current=t;var o=i&&"function"!==typeof a.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=yn(t,e.child,null,n),t.child=yn(t,null,o,n)):yo(e,t,o,n),t.memoizedState=r.state,s&&Rs(t,a,!0),t.child}function Mo(e){var t=e.stateNode;t.pendingContext?Fs(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fs(0,t.context,!1),Jn(e,t.containerInfo)}function Ao(e,t,a,r,s){return hn(),mn(s),t.flags|=256,yo(e,t,a,r),t.child}var Io,Eo,Fo,Do,Bo={dehydrated:null,treeContext:null,retryLane:0};function Ro(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lo(e,t,a){var r,s=t.pendingProps,i=Zn.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Ss(Zn,1&i),null===e)return cn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Rc(l,s,0,null),e=Bc(e,s,a,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ro(a),t.memoizedState=Bo,e):Wo(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,a,r,s,i,o){if(a)return 256&t.flags?(t.flags&=-257,zo(e,t,o,r=co(Error(n(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Rc({mode:"visible",children:r.children},s,0,null),(i=Bc(i,s,o,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&yn(t,e.child,null,o),t.child.memoizedState=Ro(o),t.memoizedState=Bo,i);if(0===(1&t.mode))return zo(e,t,o,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,zo(e,t,o,r=co(i=Error(n(419)),r,void 0))}if(l=0!==(o&e.childLanes),vo||l){if(null!==(r=Ml)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|o))?0:s)&&s!==i.retryLane&&(i.retryLane=s,Dn(e,s),ac(r,e,s,-1))}return gc(),zo(e,t,o,r=co(Error(n(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Pc.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,an=ls(s.nextSibling),tn=t,rn=!0,sn=null,null!==e&&(Ks[qs++]=Js,Ks[qs++]=Ys,Ks[qs++]=Qs,Js=e.id,Ys=e.overflow,Qs=t),t=Wo(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,i,a);if(o){o=s.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==i?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Fc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?o=Fc(r,o):(o=Bc(o,l,a,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=null===(l=e.child.memoizedState)?Ro(a):{baseLanes:l.baseLanes|a,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~a,t.memoizedState=Bo,s}return e=(o=e.child).sibling,s=Fc(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=a),s.return=t,s.sibling=null,null!==e&&(null===(a=t.deletions)?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=s,t.memoizedState=null,s}function Wo(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zo(e,t,a,r){return null!==r&&mn(r),yn(t,e.child,null,a),(e=Wo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function _o(e,t,a){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Tn(e.return,t,a)}function Go(e,t,a,r,s){var n=e.memoizedState;null===n?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:s}:(n.isBackwards=t,n.rendering=null,n.renderingStartTime=0,n.last=r,n.tail=a,n.tailMode=s)}function Vo(e,t,a){var r=t.pendingProps,s=r.revealOrder,n=r.tail;if(yo(e,t,r.children,a),0!==(2&(r=Zn.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&_o(e,a,t);else if(19===e.tag)_o(e,a,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ss(Zn,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(a=t.child,s=null;null!==a;)null!==(e=a.alternate)&&null===ei(e)&&(s=a),a=a.sibling;null===(a=s)?(s=t.child,t.child=null):(s=a.sibling,a.sibling=null),Go(t,!1,s,a,n);break;case"backwards":for(a=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ei(e)){t.child=s;break}e=s.sibling,s.sibling=a,a=s,s=e}Go(t,!0,a,null,n);break;case"together":Go(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Oo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,a){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(a&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(n(153));if(null!==t.child){for(a=Fc(e=t.child,e.pendingProps),t.child=a,a.return=t;null!==e.sibling;)e=e.sibling,(a=a.sibling=Fc(e,e.pendingProps)).return=t;a.sibling=null}return t.child}function Uo(e,t){if(!rn)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;null!==t;)null!==t.alternate&&(a=t),t=t.sibling;null===a?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var r=null;null!==a;)null!==a.alternate&&(r=a),a=a.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ko(e){var t=null!==e.alternate&&e.alternate.child===e.child,a=0,r=0;if(t)for(var s=e.child;null!==s;)a|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)a|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=a,t}function qo(e,t,a){var r=t.pendingProps;switch(en(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ko(t),null;case 1:case 17:return Is(t.type)&&Es(),Ko(t),null;case 3:return r=t.stateNode,Yn(),ks(Ts),ks(Ps),ai(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(un(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==sn&&(ic(sn),sn=null))),Eo(e,t),Ko(t),null;case 5:Xn(t);var s=Qn(qn.current);if(a=t.type,null!==e&&null!=t.stateNode)Fo(e,t,a,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(n(166));return Ko(t),null}if(e=Qn(Un.current),un(t)){r=t.stateNode,a=t.type;var i=t.memoizedProps;switch(r[us]=t,r[ps]=i,e=0!==(1&t.mode),a){case"dialog":Wr("cancel",r),Wr("close",r);break;case"iframe":case"object":case"embed":Wr("load",r);break;case"video":case"audio":for(s=0;s<Dr.length;s++)Wr(Dr[s],r);break;case"source":Wr("error",r);break;case"img":case"image":case"link":Wr("error",r),Wr("load",r);break;case"details":Wr("toggle",r);break;case"input":Y(r,i),Wr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Wr("invalid",r);break;case"textarea":se(r,i),Wr("invalid",r)}for(var l in je(a,i),s=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&$r(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&$r(r.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Wr("scroll",r)}switch(a){case"input":K(r),Z(r,i,!0);break;case"textarea":K(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Xr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(a)),"http://www.w3.org/1999/xhtml"===e?"script"===a?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(a,{is:r.is}):(e=l.createElement(a),"select"===a&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,a),e[us]=t,e[ps]=r,Io(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(a,r),a){case"dialog":Wr("cancel",e),Wr("close",e),s=r;break;case"iframe":case"object":case"embed":Wr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Dr.length;s++)Wr(Dr[s],e);s=r;break;case"source":Wr("error",e),s=r;break;case"img":case"image":case"link":Wr("error",e),Wr("load",e),s=r;break;case"details":Wr("toggle",e),s=r;break;case"input":Y(e,r),s=J(e,r),Wr("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=L({},r,{value:void 0}),Wr("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Wr("invalid",e)}for(i in je(a,s),c=s)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?fe(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==a||""!==d)&&pe(e,d):"number"===typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Wr("scroll",e):null!=d&&v(e,i,d,l))}switch(a){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ae(e,!!r.multiple,i,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Xr)}switch(a){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ko(t),null;case 6:if(e&&null!=t.stateNode)Do(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(n(166));if(a=Qn(qn.current),Qn(Un.current),un(t)){if(r=t.stateNode,a=t.memoizedProps,r[us]=t,(i=r.nodeValue!==a)&&null!==(e=tn))switch(e.tag){case 3:$r(r.nodeValue,a,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,a,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===a.nodeType?a:a.ownerDocument).createTextNode(r))[us]=t,t.stateNode=r}return Ko(t),null;case 13:if(ks(Zn),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rn&&null!==an&&0!==(1&t.mode)&&0===(128&t.flags))pn(),hn(),t.flags|=98560,i=!1;else if(i=un(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(n(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(n(317));i[us]=t}else hn(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ko(t),i=!1}else null!==sn&&(ic(sn),sn=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=a,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zn.current)?0===Dl&&(Dl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ko(t),null);case 4:return Yn(),Eo(e,t),null===e&&Gr(t.stateNode.containerInfo),Ko(t),null;case 10:return Pn(t.type._context),Ko(t),null;case 19:if(ks(Zn),null===(i=t.memoizedState))return Ko(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)Uo(i,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,Uo(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=a,a=t.child;null!==a;)e=r,(i=a).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return Ss(Zn,1&Zn.current|2),t.child}e=e.sibling}null!==i.tail&&$e()>Vl&&(t.flags|=128,r=!0,Uo(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ei(l))){if(t.flags|=128,r=!0,null!==(a=e.updateQueue)&&(t.updateQueue=a,t.flags|=4),Uo(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!rn)return Ko(t),null}else 2*$e()-i.renderingStartTime>Vl&&1073741824!==a&&(t.flags|=128,r=!0,Uo(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(a=i.last)?a.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=$e(),t.sibling=null,a=Zn.current,Ss(Zn,r?1&a|2:1&a),t):(Ko(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&El)&&(Ko(t),6&t.subtreeFlags&&(t.flags|=8192)):Ko(t),null;case 24:case 25:return null}throw Error(n(156,t.tag))}function Qo(e,t){switch(en(t),t.tag){case 1:return Is(t.type)&&Es(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yn(),ks(Ts),ks(Ps),ai(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xn(t),null;case 13:if(ks(Zn),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(n(340));hn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ks(Zn),null;case 4:return Yn(),null;case 10:return Pn(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Io=function(e,t){for(var a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Eo=function(){},Fo=function(e,t,a,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Qn(Un.current);var n,i=null;switch(a){case"input":s=J(e,s),r=J(e,r),i=[];break;case"select":s=L({},s,{value:void 0}),r=L({},r,{value:void 0}),i=[];break;case"textarea":s=re(e,s),r=re(e,r),i=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(d in je(a,r),a=null,s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&null!=s[d])if("style"===d){var l=s[d];for(n in l)l.hasOwnProperty(n)&&(a||(a={}),a[n]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=s?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(n in l)!l.hasOwnProperty(n)||c&&c.hasOwnProperty(n)||(a||(a={}),a[n]="");for(n in c)c.hasOwnProperty(n)&&l[n]!==c[n]&&(a||(a={}),a[n]=c[n])}else a||(i||(i=[]),i.push(d,a)),a=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Wr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}a&&(i=i||[]).push("style",a);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Do=function(e,t,a,r){a!==r&&(t.flags|=4)};var Jo=!1,Yo=!1,$o="function"===typeof WeakSet?WeakSet:Set,Xo=null;function Zo(e,t){var a=e.ref;if(null!==a)if("function"===typeof a)try{a(null)}catch(r){kc(e,t,r)}else a.current=null}function el(e,t,a){try{a()}catch(r){kc(e,t,r)}}var tl=!1;function al(e,t,a){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var n=s.destroy;s.destroy=void 0,void 0!==n&&el(t,a,n)}s=s.next}while(s!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var a=t=t.next;do{if((a.tag&e)===e){var r=a.create;a.destroy=r()}a=a.next}while(a!==t)}}function sl(e){var t=e.ref;if(null!==t){var a=e.stateNode;e.tag,e=a,"function"===typeof t?t(e):t.current=e}}function nl(e){var t=e.alternate;null!==t&&(e.alternate=null,nl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[us],delete t[ps],delete t[ms],delete t[gs],delete t[fs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,a){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===a.nodeType?a.parentNode.insertBefore(e,t):a.insertBefore(e,t):(8===a.nodeType?(t=a.parentNode).insertBefore(e,a):(t=a).appendChild(e),null!==(a=a._reactRootContainer)&&void 0!==a||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,a),e=e.sibling;null!==e;)ll(e,t,a),e=e.sibling}function cl(e,t,a){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,a),e=e.sibling;null!==e;)cl(e,t,a),e=e.sibling}var dl=null,ul=!1;function pl(e,t,a){for(a=a.child;null!==a;)hl(e,t,a),a=a.sibling}function hl(e,t,a){if(nt&&"function"===typeof nt.onCommitFiberUnmount)try{nt.onCommitFiberUnmount(st,a)}catch(o){}switch(a.tag){case 5:Yo||Zo(a,t);case 6:var r=dl,s=ul;dl=null,pl(e,t,a),ul=s,null!==(dl=r)&&(ul?(e=dl,a=a.stateNode,8===e.nodeType?e.parentNode.removeChild(a):e.removeChild(a)):dl.removeChild(a.stateNode));break;case 18:null!==dl&&(ul?(e=dl,a=a.stateNode,8===e.nodeType?os(e.parentNode,a):1===e.nodeType&&os(e,a),Vt(e)):os(dl,a.stateNode));break;case 4:r=dl,s=ul,dl=a.stateNode.containerInfo,ul=!0,pl(e,t,a),dl=r,ul=s;break;case 0:case 11:case 14:case 15:if(!Yo&&(null!==(r=a.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var n=s,i=n.destroy;n=n.tag,void 0!==i&&(0!==(2&n)||0!==(4&n))&&el(a,t,i),s=s.next}while(s!==r)}pl(e,t,a);break;case 1:if(!Yo&&(Zo(a,t),"function"===typeof(r=a.stateNode).componentWillUnmount))try{r.props=a.memoizedProps,r.state=a.memoizedState,r.componentWillUnmount()}catch(o){kc(a,t,o)}pl(e,t,a);break;case 21:pl(e,t,a);break;case 22:1&a.mode?(Yo=(r=Yo)||null!==a.memoizedState,pl(e,t,a),Yo=r):pl(e,t,a);break;default:pl(e,t,a)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var a=e.stateNode;null===a&&(a=e.stateNode=new $o),t.forEach(function(t){var r=Tc.bind(null,e,t);a.has(t)||(a.add(t),t.then(r,r))})}}function gl(e,t){var a=t.deletions;if(null!==a)for(var r=0;r<a.length;r++){var s=a[r];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(n(160));hl(i,o,s),dl=null,ul=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(d){kc(s,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}function fl(e,t){var a=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),xl(e),4&r){try{al(3,e,e.return),rl(3,e)}catch(f){kc(e,e.return,f)}try{al(5,e,e.return)}catch(f){kc(e,e.return,f)}}break;case 1:gl(t,e),xl(e),512&r&&null!==a&&Zo(a,a.return);break;case 5:if(gl(t,e),xl(e),512&r&&null!==a&&Zo(a,a.return),32&e.flags){var s=e.stateNode;try{pe(s,"")}catch(f){kc(e,e.return,f)}}if(4&r&&null!=(s=e.stateNode)){var i=e.memoizedProps,o=null!==a?a.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&$(s,i),ve(l,o);var d=ve(l,i);for(o=0;o<c.length;o+=2){var u=c[o],p=c[o+1];"style"===u?fe(s,p):"dangerouslySetInnerHTML"===u?ue(s,p):"children"===u?pe(s,p):v(s,u,p,d)}switch(l){case"input":X(s,i);break;case"textarea":ne(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;null!=m?ae(s,!!i.multiple,m,!1):h!==!!i.multiple&&(null!=i.defaultValue?ae(s,!!i.multiple,i.defaultValue,!0):ae(s,!!i.multiple,i.multiple?[]:"",!1))}s[ps]=i}catch(f){kc(e,e.return,f)}}break;case 6:if(gl(t,e),xl(e),4&r){if(null===e.stateNode)throw Error(n(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(f){kc(e,e.return,f)}}break;case 3:if(gl(t,e),xl(e),4&r&&null!==a&&a.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(f){kc(e,e.return,f)}break;case 4:default:gl(t,e),xl(e);break;case 13:gl(t,e),xl(e),8192&(s=e.child).flags&&(i=null!==s.memoizedState,s.stateNode.isHidden=i,!i||null!==s.alternate&&null!==s.alternate.memoizedState||(Gl=$e())),4&r&&ml(e);break;case 22:if(u=null!==a&&null!==a.memoizedState,1&e.mode?(Yo=(d=Yo)||u,gl(t,e),Yo=d):gl(t,e),xl(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Xo=e,u=e.child;null!==u;){for(p=Xo=u;null!==Xo;){switch(m=(h=Xo).child,h.tag){case 0:case 11:case 14:case 15:al(4,h,h.return);break;case 1:Zo(h,h.return);var g=h.stateNode;if("function"===typeof g.componentWillUnmount){r=h,a=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(f){kc(r,a,f)}}break;case 5:Zo(h,h.return);break;case 22:if(null!==h.memoizedState){bl(p);continue}}null!==m?(m.return=h,Xo=m):bl(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{s=p.stateNode,d?"function"===typeof(i=s.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=p.stateNode,o=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",o))}catch(f){kc(e,e.return,f)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(f){kc(e,e.return,f)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:gl(t,e),xl(e),4&r&&ml(e);case 21:}}function xl(e){var t=e.flags;if(2&t){try{e:{for(var a=e.return;null!==a;){if(il(a)){var r=a;break e}a=a.return}throw Error(n(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(pe(s,""),r.flags&=-33),cl(e,ol(e),s);break;case 3:case 4:var i=r.stateNode.containerInfo;ll(e,ol(e),i);break;default:throw Error(n(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function jl(e,t,a){Xo=e,vl(e,t,a)}function vl(e,t,a){for(var r=0!==(1&e.mode);null!==Xo;){var s=Xo,n=s.child;if(22===s.tag&&r){var i=null!==s.memoizedState||Jo;if(!i){var o=s.alternate,l=null!==o&&null!==o.memoizedState||Yo;o=Jo;var c=Yo;if(Jo=i,(Yo=l)&&!c)for(Xo=s;null!==Xo;)l=(i=Xo).child,22===i.tag&&null!==i.memoizedState?Nl(s):null!==l?(l.return=i,Xo=l):Nl(s);for(;null!==n;)Xo=n,vl(n,t,a),n=n.sibling;Xo=s,Jo=o,Yo=c}yl(e)}else 0!==(8772&s.subtreeFlags)&&null!==n?(n.return=s,Xo=n):yl(e)}}function yl(e){for(;null!==Xo;){var t=Xo;if(0!==(8772&t.flags)){var a=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yo)if(null===a)r.componentDidMount();else{var s=t.elementType===t.type?a.memoizedProps:to(t.type,a.memoizedProps);r.componentDidUpdate(s,a.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&On(t,i,r);break;case 3:var o=t.updateQueue;if(null!==o){if(a=null,null!==t.child)switch(t.child.tag){case 5:case 1:a=t.child.stateNode}On(t,o,a)}break;case 5:var l=t.stateNode;if(null===a&&4&t.flags){a=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&a.focus();break;case"img":c.src&&(a.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Vt(p)}}}break;default:throw Error(n(163))}Yo||512&t.flags&&sl(t)}catch(h){kc(t,t.return,h)}}if(t===e){Xo=null;break}if(null!==(a=t.sibling)){a.return=t.return,Xo=a;break}Xo=t.return}}function bl(e){for(;null!==Xo;){var t=Xo;if(t===e){Xo=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xo=a;break}Xo=t.return}}function Nl(e){for(;null!==Xo;){var t=Xo;try{switch(t.tag){case 0:case 11:case 15:var a=t.return;try{rl(4,t)}catch(l){kc(t,a,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(l){kc(t,s,l)}}var n=t.return;try{sl(t)}catch(l){kc(t,n,l)}break;case 5:var i=t.return;try{sl(t)}catch(l){kc(t,i,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Xo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Xo=o;break}Xo=t.return}}var wl,kl=Math.ceil,Sl=y.ReactCurrentDispatcher,Cl=y.ReactCurrentOwner,Pl=y.ReactCurrentBatchConfig,Tl=0,Ml=null,Al=null,Il=0,El=0,Fl=ws(0),Dl=0,Bl=null,Rl=0,Ll=0,Wl=0,zl=null,_l=null,Gl=0,Vl=1/0,Ol=null,Hl=!1,Ul=null,Kl=null,ql=!1,Ql=null,Jl=0,Yl=0,$l=null,Xl=-1,Zl=0;function ec(){return 0!==(6&Tl)?$e():-1!==Xl?Xl:Xl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Il?Il&-Il:null!==gn.transition?(0===Zl&&(Zl=gt()),Zl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function ac(e,t,a,r){if(50<Yl)throw Yl=0,$l=null,Error(n(185));xt(e,a,r),0!==(2&Tl)&&e===Ml||(e===Ml&&(0===(2&Tl)&&(Ll|=a),4===Dl&&oc(e,Il)),rc(e,r),1===a&&0===Tl&&0===(1&t.mode)&&(Vl=$e()+500,Ws&&Gs()))}function rc(e,t){var a=e.callbackNode;!function(e,t){for(var a=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,n=e.pendingLanes;0<n;){var i=31-it(n),o=1<<i,l=s[i];-1===l?0!==(o&a)&&0===(o&r)||(s[i]=ht(o,t)):l<=t&&(e.expiredLanes|=o),n&=~o}}(e,t);var r=pt(e,e===Ml?Il:0);if(0===r)null!==a&&Qe(a),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=a&&Qe(a),1===t)0===e.tag?function(e){Ws=!0,_s(e)}(lc.bind(null,e)):_s(lc.bind(null,e)),ns(function(){0===(6&Tl)&&Gs()}),a=null;else{switch(yt(r)){case 1:a=Ze;break;case 4:a=et;break;case 16:default:a=tt;break;case 536870912:a=rt}a=Mc(a,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=a}}function sc(e,t){if(Xl=-1,Zl=0,0!==(6&Tl))throw Error(n(327));var a=e.callbackNode;if(Nc()&&e.callbackNode!==a)return null;var r=pt(e,e===Ml?Il:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=fc(e,r);else{t=r;var s=Tl;Tl|=2;var i=mc();for(Ml===e&&Il===t||(Ol=null,Vl=$e()+500,pc(e,t));;)try{jc();break}catch(l){hc(e,l)}Cn(),Sl.current=i,Tl=s,null!==Al?t=0:(Ml=null,Il=0,t=Dl)}if(0!==t){if(2===t&&(0!==(s=mt(e))&&(r=s,t=nc(e,s))),1===t)throw a=Bl,pc(e,0),oc(e,r),rc(e,$e()),a;if(6===t)oc(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var a=t.updateQueue;if(null!==a&&null!==(a=a.stores))for(var r=0;r<a.length;r++){var s=a[r],n=s.getSnapshot;s=s.value;try{if(!ir(n(),s))return!1}catch(o){return!1}}}if(a=t.child,16384&t.subtreeFlags&&null!==a)a.return=t,t=a;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=fc(e,r))&&(0!==(i=mt(e))&&(r=i,t=nc(e,i))),1===t))throw a=Bl,pc(e,0),oc(e,r),rc(e,$e()),a;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(n(345));case 2:case 5:bc(e,_l,Ol);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Gl+500-$e())){if(0!==pt(e,0))break;if(((s=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=as(bc.bind(null,e,_l,Ol),t);break}bc(e,_l,Ol);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-it(r);i=1<<o,(o=t[o])>s&&(s=o),r&=~i}if(r=s,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=as(bc.bind(null,e,_l,Ol),r);break}bc(e,_l,Ol);break;default:throw Error(n(329))}}}return rc(e,$e()),e.callbackNode===a?sc.bind(null,e):null}function nc(e,t){var a=zl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=fc(e,t))&&(t=_l,_l=a,null!==t&&ic(t)),e}function ic(e){null===_l?_l=e:_l.push.apply(_l,e)}function oc(e,t){for(t&=~Wl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var a=31-it(t),r=1<<a;e[a]=-1,t&=~r}}function lc(e){if(0!==(6&Tl))throw Error(n(327));Nc();var t=pt(e,0);if(0===(1&t))return rc(e,$e()),null;var a=fc(e,t);if(0!==e.tag&&2===a){var r=mt(e);0!==r&&(t=r,a=nc(e,r))}if(1===a)throw a=Bl,pc(e,0),oc(e,t),rc(e,$e()),a;if(6===a)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,_l,Ol),rc(e,$e()),null}function cc(e,t){var a=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=a)&&(Vl=$e()+500,Ws&&Gs())}}function dc(e){null!==Ql&&0===Ql.tag&&0===(6&Tl)&&Nc();var t=Tl;Tl|=1;var a=Pl.transition,r=vt;try{if(Pl.transition=null,vt=1,e)return e()}finally{vt=r,Pl.transition=a,0===(6&(Tl=t))&&Gs()}}function uc(){El=Fl.current,ks(Fl)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(-1!==a&&(e.timeoutHandle=-1,rs(a)),null!==Al)for(a=Al.return;null!==a;){var r=a;switch(en(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Es();break;case 3:Yn(),ks(Ts),ks(Ps),ai();break;case 5:Xn(r);break;case 4:Yn();break;case 13:case 19:ks(Zn);break;case 10:Pn(r.type._context);break;case 22:case 23:uc()}a=a.return}if(Ml=e,Al=e=Fc(e.current,null),Il=El=t,Dl=0,Bl=null,Wl=Ll=Rl=0,_l=zl=null,null!==In){for(t=0;t<In.length;t++)if(null!==(r=(a=In[t]).interleaved)){a.interleaved=null;var s=r.next,n=a.pending;if(null!==n){var i=n.next;n.next=s,r.next=i}a.pending=r}In=null}return e}function hc(e,t){for(;;){var a=Al;try{if(Cn(),ri.current=$i,ci){for(var r=ii.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}ci=!1}if(ni=0,li=oi=ii=null,di=!1,ui=0,Cl.current=null,null===a||null===a.return){Dl=1,Bl=t,Al=null;break}e:{var i=e,o=a.return,l=a,c=t;if(t=Il,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,p=u.tag;if(0===(1&u.mode)&&(0===p||11===p||15===p)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=fo(o);if(null!==m){m.flags&=-257,xo(m,o,l,0,t),1&m.mode&&go(i,d,t),c=d;var g=(t=m).updateQueue;if(null===g){var f=new Set;f.add(c),t.updateQueue=f}else g.add(c);break e}if(0===(1&t)){go(i,d,t),gc();break e}c=Error(n(426))}else if(rn&&1&l.mode){var x=fo(o);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),xo(x,o,l,0,t),mn(lo(c,l));break e}}i=c=lo(c,l),4!==Dl&&(Dl=2),null===zl?zl=[i]:zl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Gn(i,ho(0,c,t));break e;case 1:l=c;var j=i.type,v=i.stateNode;if(0===(128&i.flags)&&("function"===typeof j.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Kl||!Kl.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t,Gn(i,mo(i,l,t));break e}}i=i.return}while(null!==i)}yc(a)}catch(y){t=y,Al===a&&null!==a&&(Al=a=a.return);continue}break}}function mc(){var e=Sl.current;return Sl.current=$i,null===e?$i:e}function gc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Ml||0===(268435455&Rl)&&0===(268435455&Ll)||oc(Ml,Il)}function fc(e,t){var a=Tl;Tl|=2;var r=mc();for(Ml===e&&Il===t||(Ol=null,pc(e,t));;)try{xc();break}catch(s){hc(e,s)}if(Cn(),Tl=a,Sl.current=r,null!==Al)throw Error(n(261));return Ml=null,Il=0,Dl}function xc(){for(;null!==Al;)vc(Al)}function jc(){for(;null!==Al&&!Je();)vc(Al)}function vc(e){var t=wl(e.alternate,e,El);e.memoizedProps=e.pendingProps,null===t?yc(e):Al=t,Cl.current=null}function yc(e){var t=e;do{var a=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(a=qo(a,t,El)))return void(Al=a)}else{if(null!==(a=Qo(a,t)))return a.flags&=32767,void(Al=a);if(null===e)return Dl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Dl&&(Dl=5)}function bc(e,t,a){var r=vt,s=Pl.transition;try{Pl.transition=null,vt=1,function(e,t,a,r){do{Nc()}while(null!==Ql);if(0!==(6&Tl))throw Error(n(327));a=e.finishedWork;var s=e.finishedLanes;if(null===a)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var i=a.lanes|a.childLanes;if(function(e,t){var a=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<a;){var s=31-it(a),n=1<<s;t[s]=0,r[s]=-1,e[s]=-1,a&=~n}}(e,i),e===Ml&&(Al=Ml=null,Il=0),0===(2064&a.subtreeFlags)&&0===(2064&a.flags)||ql||(ql=!0,Mc(tt,function(){return Nc(),null})),i=0!==(15990&a.flags),0!==(15990&a.subtreeFlags)||i){i=Pl.transition,Pl.transition=null;var o=vt;vt=1;var l=Tl;Tl|=4,Cl.current=null,function(e,t){if(Zr=Ht,pr(e=ur())){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(a=(a=e.ownerDocument)&&a.defaultView||window).getSelection&&a.getSelection();if(r&&0!==r.rangeCount){a=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{a.nodeType,i.nodeType}catch(b){a=null;break e}var o=0,l=-1,c=-1,d=0,u=0,p=e,h=null;t:for(;;){for(var m;p!==a||0!==s&&3!==p.nodeType||(l=o+s),p!==i||0!==r&&3!==p.nodeType||(c=o+r),3===p.nodeType&&(o+=p.nodeValue.length),null!==(m=p.firstChild);)h=p,p=m;for(;;){if(p===e)break t;if(h===a&&++d===s&&(l=o),h===i&&++u===r&&(c=o),null!==(m=p.nextSibling))break;h=(p=h).parentNode}p=m}a=-1===l||-1===c?null:{start:l,end:c}}else a=null}a=a||{start:0,end:0}}else a=null;for(es={focusedElem:e,selectionRange:a},Ht=!1,Xo=t;null!==Xo;)if(e=(t=Xo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xo=e;else for(;null!==Xo;){t=Xo;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var f=g.memoizedProps,x=g.memoizedState,j=t.stateNode,v=j.getSnapshotBeforeUpdate(t.elementType===t.type?f:to(t.type,f),x);j.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(n(163))}}catch(b){kc(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Xo=e;break}Xo=t.return}g=tl,tl=!1}(e,a),fl(a,e),hr(es),Ht=!!Zr,es=Zr=null,e.current=a,jl(a,e,s),Ye(),Tl=l,vt=o,Pl.transition=i}else e.current=a;if(ql&&(ql=!1,Ql=e,Jl=s),i=e.pendingLanes,0===i&&(Kl=null),function(e){if(nt&&"function"===typeof nt.onCommitFiberRoot)try{nt.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(a.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,a=0;a<t.length;a++)s=t[a],r(s.value,{componentStack:s.stack,digest:s.digest});if(Hl)throw Hl=!1,e=Ul,Ul=null,e;0!==(1&Jl)&&0!==e.tag&&Nc(),i=e.pendingLanes,0!==(1&i)?e===$l?Yl++:(Yl=0,$l=e):Yl=0,Gs()}(e,t,a,r)}finally{Pl.transition=s,vt=r}return null}function Nc(){if(null!==Ql){var e=yt(Jl),t=Pl.transition,a=vt;try{if(Pl.transition=null,vt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Jl=0,0!==(6&Tl))throw Error(n(331));var s=Tl;for(Tl|=4,Xo=e.current;null!==Xo;){var i=Xo,o=i.child;if(0!==(16&Xo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Xo=d;null!==Xo;){var u=Xo;switch(u.tag){case 0:case 11:case 15:al(8,u,i)}var p=u.child;if(null!==p)p.return=u,Xo=p;else for(;null!==Xo;){var h=(u=Xo).sibling,m=u.return;if(nl(u),u===d){Xo=null;break}if(null!==h){h.return=m,Xo=h;break}Xo=m}}}var g=i.alternate;if(null!==g){var f=g.child;if(null!==f){g.child=null;do{var x=f.sibling;f.sibling=null,f=x}while(null!==f)}}Xo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Xo=o;else e:for(;null!==Xo;){if(0!==(2048&(i=Xo).flags))switch(i.tag){case 0:case 11:case 15:al(9,i,i.return)}var j=i.sibling;if(null!==j){j.return=i.return,Xo=j;break e}Xo=i.return}}var v=e.current;for(Xo=v;null!==Xo;){var y=(o=Xo).child;if(0!==(2064&o.subtreeFlags)&&null!==y)y.return=o,Xo=y;else e:for(o=v;null!==Xo;){if(0!==(2048&(l=Xo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(N){kc(l,l.return,N)}if(l===o){Xo=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,Xo=b;break e}Xo=l.return}}if(Tl=s,Gs(),nt&&"function"===typeof nt.onPostCommitFiberRoot)try{nt.onPostCommitFiberRoot(st,e)}catch(N){}r=!0}return r}finally{vt=a,Pl.transition=t}}return!1}function wc(e,t,a){e=zn(e,t=ho(0,t=lo(a,t),1),1),t=ec(),null!==e&&(xt(e,1,t),rc(e,t))}function kc(e,t,a){if(3===e.tag)wc(e,e,a);else for(;null!==t;){if(3===t.tag){wc(t,e,a);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=zn(t,e=mo(t,e=lo(a,e),1),1),e=ec(),null!==t&&(xt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,a){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&a,Ml===e&&(Il&a)===a&&(4===Dl||3===Dl&&(130023424&Il)===Il&&500>$e()-Gl?pc(e,0):Wl|=a),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var a=ec();null!==(e=Dn(e,t))&&(xt(e,t,a),rc(e,a))}function Pc(e){var t=e.memoizedState,a=0;null!==t&&(a=t.retryLane),Cc(e,a)}function Tc(e,t){var a=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(a=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(n(314))}null!==r&&r.delete(t),Cc(e,a)}function Mc(e,t){return qe(e,t)}function Ac(e,t,a,r){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,a,r){return new Ac(e,t,a,r)}function Ec(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fc(e,t){var a=e.alternate;return null===a?((a=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=14680064&e.flags,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Dc(e,t,a,r,s,i){var o=2;if(r=e,"function"===typeof e)Ec(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case w:return Bc(a.children,s,i,t);case k:o=8,s|=8;break;case S:return(e=Ic(12,a,t,2|s)).elementType=S,e.lanes=i,e;case M:return(e=Ic(13,a,t,s)).elementType=M,e.lanes=i,e;case A:return(e=Ic(19,a,t,s)).elementType=A,e.lanes=i,e;case F:return Rc(a,s,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case P:o=9;break e;case T:o=11;break e;case I:o=14;break e;case E:o=16,r=null;break e}throw Error(n(130,null==e?e:typeof e,""))}return(t=Ic(o,a,t,s)).elementType=e,t.type=r,t.lanes=i,t}function Bc(e,t,a,r){return(e=Ic(7,e,r,t)).lanes=a,e}function Rc(e,t,a,r){return(e=Ic(22,e,r,t)).elementType=F,e.lanes=a,e.stateNode={isHidden:!1},e}function Lc(e,t,a){return(e=Ic(6,e,null,t)).lanes=a,e}function Wc(e,t,a){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,a,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function _c(e,t,a,r,s,n,i,o,l){return e=new zc(e,t,a,o,l),1===t?(t=1,!0===n&&(t|=8)):t=0,n=Ic(3,null,null,t),e.current=n,n.stateNode=e,n.memoizedState={element:r,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rn(n),e}function Gc(e){if(!e)return Cs;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Is(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(n(171))}if(1===e.tag){var a=e.type;if(Is(a))return Ds(e,a,t)}return t}function Vc(e,t,a,r,s,n,i,o,l){return(e=_c(a,r,!0,e,0,n,0,o,l)).context=Gc(null),a=e.current,(n=Wn(r=ec(),s=tc(a))).callback=void 0!==t&&null!==t?t:null,zn(a,n,s),e.current.lanes=s,xt(e,s,r),rc(e,r),e}function Oc(e,t,a,r){var s=t.current,n=ec(),i=tc(s);return a=Gc(a),null===t.context?t.context=a:t.pendingContext=a,(t=Wn(n,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zn(s,t,i))&&(ac(e,s,i,n),_n(e,s,i)),i}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Uc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var a=e.retryLane;e.retryLane=0!==a&&a<t?a:t}}function Kc(e,t){Uc(e,t),(e=e.alternate)&&Uc(e,t)}wl=function(e,t,a){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ts.current)vo=!0;else{if(0===(e.lanes&a)&&0===(128&t.flags))return vo=!1,function(e,t,a){switch(t.tag){case 3:Mo(t),hn();break;case 5:$n(t);break;case 1:Is(t.type)&&Bs(t);break;case 4:Jn(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ss(Nn,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ss(Zn,1&Zn.current),t.flags|=128,null):0!==(a&t.child.childLanes)?Lo(e,t,a):(Ss(Zn,1&Zn.current),null!==(e=Ho(e,t,a))?e.sibling:null);Ss(Zn,1&Zn.current);break;case 19:if(r=0!==(a&t.childLanes),0!==(128&e.flags)){if(r)return Vo(e,t,a);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ss(Zn,Zn.current),r)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,a)}return Ho(e,t,a)}(e,t,a);vo=0!==(131072&e.flags)}else vo=!1,rn&&0!==(1048576&t.flags)&&Xs(t,Us,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Oo(e,t),e=t.pendingProps;var s=As(t,Ps.current);Mn(t,a),s=gi(null,t,r,e,s,a);var i=fi();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Is(r)?(i=!0,Bs(t)):i=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Rn(t),s.updater=ro,t.stateNode=s,s._reactInternals=t,oo(t,r,e,a),t=To(null,t,r,!0,i,a)):(t.tag=0,rn&&i&&Zs(t),yo(null,t,s,a),t=t.child),t;case 16:r=t.elementType;e:{switch(Oo(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Ec(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===I)return 14}return 2}(r),e=to(r,e),s){case 0:t=Co(null,t,r,e,a);break e;case 1:t=Po(null,t,r,e,a);break e;case 11:t=bo(null,t,r,e,a);break e;case 14:t=No(null,t,r,to(r.type,e),a);break e}throw Error(n(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,Co(e,t,r,s=t.elementType===r?s:to(r,s),a);case 1:return r=t.type,s=t.pendingProps,Po(e,t,r,s=t.elementType===r?s:to(r,s),a);case 3:e:{if(Mo(t),null===e)throw Error(n(387));r=t.pendingProps,s=(i=t.memoizedState).element,Ln(e,t),Vn(t,r,null,a);var o=t.memoizedState;if(r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ao(e,t,r,a,s=lo(Error(n(423)),t));break e}if(r!==s){t=Ao(e,t,r,a,s=lo(Error(n(424)),t));break e}for(an=ls(t.stateNode.containerInfo.firstChild),tn=t,rn=!0,sn=null,a=bn(t,null,r,a),t.child=a;a;)a.flags=-3&a.flags|4096,a=a.sibling}else{if(hn(),r===s){t=Ho(e,t,a);break e}yo(e,t,r,a)}t=t.child}return t;case 5:return $n(t),null===e&&cn(t),r=t.type,s=t.pendingProps,i=null!==e?e.memoizedProps:null,o=s.children,ts(r,s)?o=null:null!==i&&ts(r,i)&&(t.flags|=32),So(e,t),yo(e,t,o,a),t.child;case 6:return null===e&&cn(t),null;case 13:return Lo(e,t,a);case 4:return Jn(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=yn(t,null,r,a):yo(e,t,r,a),t.child;case 11:return r=t.type,s=t.pendingProps,bo(e,t,r,s=t.elementType===r?s:to(r,s),a);case 7:return yo(e,t,t.pendingProps,a),t.child;case 8:case 12:return yo(e,t,t.pendingProps.children,a),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Ss(Nn,r._currentValue),r._currentValue=o,null!==i)if(ir(i.value,o)){if(i.children===s.children&&!Ts.current){t=Ho(e,t,a);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Wn(-1,a&-a)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=a,null!==(c=i.alternate)&&(c.lanes|=a),Tn(i.return,a,t),l.lanes|=a;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(n(341));o.lanes|=a,null!==(l=o.alternate)&&(l.lanes|=a),Tn(o,a,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}yo(e,t,s.children,a),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Mn(t,a),r=r(s=An(s)),t.flags|=1,yo(e,t,r,a),t.child;case 14:return s=to(r=t.type,t.pendingProps),No(e,t,r,s=to(r.type,s),a);case 15:return wo(e,t,t.type,t.pendingProps,a);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:to(r,s),Oo(e,t),t.tag=1,Is(r)?(e=!0,Bs(t)):e=!1,Mn(t,a),no(t,r,s),oo(t,r,s,a),To(null,t,r,!0,e,a);case 19:return Vo(e,t,a);case 22:return ko(e,t,a)}throw Error(n(156,t.tag))};var qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,a,r,s){var n=a._reactRootContainer;if(n){var i=n;if("function"===typeof s){var o=s;s=function(){var e=Hc(i);o.call(e)}}Oc(t,i,e,s)}else i=function(e,t,a,r,s){if(s){if("function"===typeof r){var n=r;r=function(){var e=Hc(i);n.call(e)}}var i=Vc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=i,e[hs]=i.current,Gr(8===e.nodeType?e.parentNode:e),dc(),i}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var o=r;r=function(){var e=Hc(l);o.call(e)}}var l=_c(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[hs]=l.current,Gr(8===e.nodeType?e.parentNode:e),dc(function(){Oc(t,l,a,r)}),l}(a,t,e,s,r);return Hc(i)}Jc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(n(409));Oc(e,t,null,null)},Jc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Oc(null,e,null,null)}),t[hs]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ft.length&&0!==t&&t<Ft[a].priority;a++);Ft.splice(a,0,e),0===a&&Lt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var a=ut(t.pendingLanes);0!==a&&(jt(t,1|a),rc(t,$e()),0===(6&Tl)&&(Vl=$e()+500,Gs()))}break;case 13:dc(function(){var t=Dn(e,1);if(null!==t){var a=ec();ac(t,e,1,a)}}),Kc(e,1)}},Nt=function(e){if(13===e.tag){var t=Dn(e,134217728);if(null!==t)ac(t,e,134217728,ec());Kc(e,134217728)}},wt=function(e){if(13===e.tag){var t=tc(e),a=Dn(e,t);if(null!==a)ac(a,e,t,ec());Kc(e,t)}},kt=function(){return vt},St=function(e,t){var a=vt;try{return vt=e,t()}finally{vt=a}},Ne=function(e,t,a){switch(t){case"input":if(X(e,a),t=a.name,"radio"===a.type&&null!=t){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<a.length;t++){var r=a[t];if(r!==e&&r.form===e.form){var s=ys(r);if(!s)throw Error(n(90));q(r),X(r,s)}}}break;case"textarea":ne(e,a);break;case"select":null!=(t=a.value)&&ae(e,!!a.multiple,t,!1)}},Te=cc,Me=dc;var ed={usingClientEntryPoint:!1,Events:[js,vs,ys,Ce,Pe,cc]},td={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ad={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ue(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{st=rd.inject(ad),nt=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(n(200));return function(e,t,a){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==r?null:""+r,children:e,containerInfo:t,implementation:a}}(e,t,null,a)},t.createRoot=function(e,t){if(!Yc(e))throw Error(n(299));var a=!1,r="",s=qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(a=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=_c(e,1,!1,null,0,a,0,r,s),e[hs]=t.current,Gr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(n(188));throw e=Object.keys(e).join(","),Error(n(268,e))}return e=null===(e=Ue(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,a){if(!$c(t))throw Error(n(200));return Zc(null,e,t,!0,a)},t.hydrateRoot=function(e,t,a){if(!Yc(e))throw Error(n(405));var r=null!=a&&a.hydratedSources||null,s=!1,i="",o=qc;if(null!==a&&void 0!==a&&(!0===a.unstable_strictMode&&(s=!0),void 0!==a.identifierPrefix&&(i=a.identifierPrefix),void 0!==a.onRecoverableError&&(o=a.onRecoverableError)),t=Vc(t,null,e,1,null!=a?a:null,s,0,i,o),e[hs]=t.current,Gr(e),r)for(e=0;e<r.length;e++)s=(s=(a=r[e])._getVersion)(a._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[a,s]:t.mutableSourceEagerHydrationData.push(a,s);return new Jc(t)},t.render=function(e,t,a){if(!$c(t))throw Error(n(200));return Zc(null,e,t,!1,a)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(n(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[hs]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,a,r){if(!$c(a))throw Error(n(200));if(null==e||void 0===e._reactInternals)throw Error(n(38));return Zc(e,t,a,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,a)=>{e.exports=a(234)},950:(e,t,a)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=a(730)}},t={};function a(r){var s=t[r];if(void 0!==s)return s.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,a),n.exports}a.m=e,a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce((t,r)=>(a.f[r](e,t),t),[])),a.u=e=>"static/js/"+e+".0a9cc3d6.chunk.js",a.miniCssF=e=>{},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="ecomm-frontend:";a.l=(r,s,n,i)=>{if(e[r])e[r].push(s);else{var o,l;if(void 0!==n)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+n){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",a.nc&&o.setAttribute("nonce",a.nc),o.setAttribute("data-webpack",t+n),o.src=r),e[r]=[s];var p=(t,a)=>{o.onerror=o.onload=null,clearTimeout(h);var s=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach(e=>e(a)),t)return t(a)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),a.p="/",(()=>{var e={792:0};a.f.j=(t,r)=>{var s=a.o(e,t)?e[t]:void 0;if(0!==s)if(s)r.push(s[2]);else{var n=new Promise((a,r)=>s=e[t]=[a,r]);r.push(s[2]=n);var i=a.p+a.u(t),o=new Error;a.l(i,r=>{if(a.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var n=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",o.name="ChunkLoadError",o.type=n,o.request=i,s[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var s,n,[i,o,l]=r,c=0;if(i.some(t=>0!==e[t])){for(s in o)a.o(o,s)&&(a.m[s]=o[s]);if(l)l(a)}for(t&&t(r);c<i.length;c++)n=i[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0},r=self.webpackChunkecomm_frontend=self.webpackChunkecomm_frontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=a(43),s=a(391);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}function o(e,t,a){return(t=i(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach(function(t){o(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var d=a(579);const u=e=>{let{category:t,onCategoryClick:a}=e;return(0,d.jsxs)("div",{className:"category-card","data-category":t.name,onClick:()=>a(t.name),children:[(0,d.jsx)("div",{className:"category-icon",children:(0,d.jsx)("img",{src:t.image||"https://via.placeholder.com/100x100?text=".concat(t.name.replace(/\s/g,"+")),alt:t.name,onError:e=>{e.target.src="https://via.placeholder.com/250x150?text=".concat(t.name.replace(/\s/g,"+"))}})}),(0,d.jsx)("h3",{children:t.name}),(0,d.jsx)("p",{children:t.description})]})},p=[{name:"Food & Dining",url:"#food-dining"},{name:"Medicines",url:"#medicines"},{name:"Automotive",url:"#automotive"},{name:"Services",url:"#services"},{name:"Jewellery",url:"#jewellery"},{name:"Clothing",url:"#clothing"},{name:"Beauty Products",url:"#beauty-products"},{name:"Footwear",url:"#footwear"},{name:"Groceries",url:"#groceries"},{name:"Fruits",url:"#fruits"},{name:"Books",url:"#books"},{name:"Pet Food",url:"#pet-food"},{name:"Musical Instruments",url:"#musical-instruments"},{name:"Home Furniture",url:"#home-furniture"},{name:"Bags",url:"#bags"},{name:"Kitchen Products",url:"#kitchen-products"},{name:"Sports & Fitness",url:"#sports-fitness"},{name:"Home Decor",url:"#home-decor"},{name:"Watches",url:"#watches"},{name:"Organic Veggies & Fruits",url:"#organic"}],h=[{name:"Food & Dining",description:"Restaurants, cafes and more",image:"/IMAGES/food and dine.jpg"},{name:"Medicines",description:"Pharmacies and health products",image:"/IMAGES/medicine.jpg"},{name:"Automotive",description:"Mechanics and car services",image:"/IMAGES/automative.jpg"},{name:"General Business",description:"All business categories",image:"/IMAGES/grocery.jpeg"},{name:"Jewellery",description:"Rings, necklaces and accessories",image:"/IMAGES/jewellaery.jpg"},{name:"Clothing",description:"Fashion for men and women",image:"/IMAGES/cloth.jpg"},{name:"Beauty Products",description:"Cosmetics and skincare",image:"/IMAGES/beauty products.jpg"},{name:"Footwear",description:"Shoes, sandals, and sneakers",image:"/IMAGES/footwear.jpg"},{name:"Grocery",description:"Daily essentials and pantry items",image:"/IMAGES/grocery.jpeg"},{name:"Fruits",description:"Fresh fruits and organic produce",image:"/IMAGES/fruit.jpg"},{name:"Books",description:"Novels, textbooks, and more",image:"/IMAGES/book.jpg"},{name:"Pet Food",description:"Nutrition for your pets",image:"/IMAGES/petfood.jpg"},{name:"Musical Instruments",description:"Guitars, pianos, and accessories",image:"/IMAGES/music.jpg"},{name:"Home Furniture",description:"Sofas, tables, and home essentials",image:"/IMAGES/furniture.jpg"},{name:"Bags",description:"Backpacks, handbags, and luggage",image:"/IMAGES/bag.jpg"},{name:"Kitchen Products",description:"Cookware and kitchen gadgets",image:"/IMAGES/kitchen.jpg"},{name:"Sports & Fitness",description:"Gym equipment and sportswear",image:"/IMAGES/sports.jpg"},{name:"Home Decor",description:"Decor items and home upgrades",image:"/IMAGES/decor.jpg"},{name:"Watches",description:"Stylish timepieces and smartwatches",image:"/IMAGES/watches.jpg"},{name:"Organic Veggies & Fruits",description:"Fresh veggies,fruits and organic produce",image:"/IMAGES/farmstyle.webp"}],m=e=>{let{navigateTo:t}=e;const[a,s]=(0,r.useState)(null),n=e=>{(e=>{let r="";if("general-services"===a)switch(e){case"Food & Dining":r="food-products";break;case"Medicines":r="medicines-products";break;case"Automotive":r="automotive-products";break;case"Services":r="services-products";break;case"Jewellery":r="jewellery-products";break;case"Clothing":r="clothes-products";break;case"Beauty Products":r="beauty-products";break;case"Footwear":r="footwear-products";break;case"Groceries":r="groceries-products";break;case"Fruits":r="fruits-products";break;case"Books":r="books-products";break;case"Pet Food":r="petfood-products";break;case"Musical Instruments":r="musical-products";break;case"Home Furniture":r="homefurniture-products";break;case"Bags":r="bag-products";break;case"Kitchen Products":r="kitchenproduct-products";break;case"Sports & Fitness":r="sports-fitness-products";break;case"Home Decor":r="homedecor-products";break;case"Watches":r="watches-products";break;case"Organic Veggies & Fruits":r="organic-products";break;default:r=e.toLowerCase().replace(/ & /g,"-").replace(/ /g,"")+"-products"}else switch(e){case"Food & Dining":r="food";break;case"Medicines":r="medicines";break;case"Automotive":r="automotive";break;case"Services":r="services";break;case"Jewellery":r="jewellery";break;case"Clothing":r="clothes";break;case"Beauty Products":r="beauty";break;case"Footwear":r="footwear";break;case"Groceries":r="groceries";break;case"Fruits":r="fruits";break;case"Books":r="books";break;case"Pet Food":r="petfood";break;case"Musical Instruments":r="musical";break;case"Home Furniture":r="homefurniture";break;case"Bags":r="bag";break;case"Kitchen Products":r="kitchenproduct";break;case"Sports & Fitness":r="sports-fitness";break;case"Home Decor":r="homedecor";break;case"Watches":r="watches";break;case"Organic Veggies & Fruits":r="organic";break;default:r=e.toLowerCase().replace(/ & /g,"-").replace(/ /g,"")}t(r)})(e)},i=p;return(0,d.jsx)("section",{className:"section categories",id:"categories",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsxs)("div",{className:"section-title",children:[(0,d.jsx)("h2",{children:"Shop by Category"}),a&&(0,d.jsx)("button",{className:"back-button",onClick:()=>{s(null)},children:"\u2190 Back to Main Categories"})]}),null===a&&(0,d.jsx)("div",{className:"category-grid main-categories",children:[{name:"General Business",description:"All business categories",image:"/IMAGES/grocery.jpeg",section:"general-business"},{name:"General Services",description:"All service categories",image:"/IMAGES/serv.jpg",section:"general-services"}].map(e=>(0,d.jsxs)("div",{className:"category-card main-category-card",style:{backgroundImage:"url(".concat(e.image,")")},onClick:()=>{return t=e.section,void s(t);var t},children:[(0,d.jsx)("img",{src:e.image,alt:e.name}),(0,d.jsx)("h3",{children:e.name}),(0,d.jsx)("p",{children:e.description})]},e.name))}),"general-business"===a&&(0,d.jsxs)("div",{className:"category-section",children:[(0,d.jsx)("h3",{children:"General Business"}),(0,d.jsx)("div",{className:"category-grid",children:i.map(e=>{const t=h.find(t=>t.name===e.name);return(0,d.jsx)(u,{category:c(c({},e),t),onCategoryClick:n},e.name)})})]}),"general-services"===a&&(0,d.jsxs)("div",{className:"category-section",children:[(0,d.jsx)("h3",{children:"General Services"}),(0,d.jsx)("div",{className:"category-grid",children:[{name:"Food & Dining",description:"Restaurants, cafes and more",image:"/IMAGES/food and dine.jpg"},{name:"Medicines",description:"Pharmacies and health products",image:"/IMAGES/medicine.jpg"},{name:"Automotive",description:"Mechanics and car services",image:"/IMAGES/automative.jpg"},{name:"Services",description:"Professional services",image:"/IMAGES/serv.jpg"},{name:"Jewellery",description:"Rings, necklaces and accessories",image:"/IMAGES/jewellaery.jpg"},{name:"Clothing",description:"Fashion for men and women",image:"/IMAGES/cloth.jpg"},{name:"Beauty Products",description:"Cosmetics and skincare",image:"/IMAGES/beauty products.jpg"},{name:"Footwear",description:"Shoes, sandals, and sneakers",image:"/IMAGES/footwear.jpg"},{name:"Groceries",description:"Daily essentials and pantry items",image:"/IMAGES/grocery.jpeg"},{name:"Fruits",description:"Fresh fruits and organic produce",image:"/IMAGES/fruit.jpg"},{name:"Books",description:"Novels, textbooks, and more",image:"/IMAGES/book.jpg"},{name:"Pet Food",description:"Nutrition for your pets",image:"/IMAGES/petfood.jpg"},{name:"Musical Instruments",description:"Guitars, pianos, and accessories",image:"/IMAGES/music.jpg"},{name:"Home Furniture",description:"Sofas, tables, and home essentials",image:"/IMAGES/furniture.jpg"},{name:"Bags",description:"Backpacks, handbags, and luggage",image:"/IMAGES/bag.jpg"},{name:"Kitchen Products",description:"Cookware and kitchen gadgets",image:"/IMAGES/kitchen.jpg"},{name:"Sports & Fitness",description:"Gym equipment and sportswear",image:"/IMAGES/sports.jpg"},{name:"Home Decor",description:"Decor items and home upgrades",image:"/IMAGES/decor.jpg"},{name:"Watches",description:"Stylish timepieces and smartwatches",image:"/IMAGES/watches.jpg"},{name:"Organic Veggies & Fruits",description:"Fresh veggies,fruits and organic produce",image:"/IMAGES/farmstyle.webp"}].map(e=>{const t=h.find(t=>t.name===e.name);return(0,d.jsx)(u,{category:c(c({},e),t),onCategoryClick:n},e.name)})})]})]})})},g=(0,r.forwardRef)((e,t)=>{let{product:a,onAddToCart:s,onToggleWishlist:n,isWishlisted:i,cartItems:o,navigateTo:l}=e;const[c,u]=(0,r.useState)(null),[p,h]=(0,r.useState)(null);return(0,d.jsxs)("div",{className:"product-card",ref:t,children:[(0,d.jsxs)("div",{style:{position:"relative"},children:[(0,d.jsx)("img",{src:a.image?a.image.startsWith("http")?a.image:a.image.includes("-")&&/^\d+-\w+\./.test(a.image)?"http://localhost:5000/uploads/".concat(a.image):"/IMAGES/".concat(a.image):"https://via.placeholder.com/200x200?text=".concat(a.name.replace(/\s/g,"+")),alt:a.name,className:"product-img"}),a.warranty&&(0,d.jsxs)("div",{style:{position:"absolute",top:"8px",left:"8px",backgroundColor:"#4CAF50",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"4px"},children:[(0,d.jsx)("i",{className:"fas fa-shield-alt",style:{fontSize:"10px"}}),a.warranty]}),a.expiryDate&&(0,d.jsxs)("div",{style:{position:"absolute",top:"8px",right:"8px",backgroundColor:"#ff9800",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"4px"},children:[(0,d.jsx)("i",{className:"fas fa-calendar-alt",style:{fontSize:"10px"}}),"Exp: ",(e=>{if(!e)return null;return new Date(e).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})})(a.expiryDate)]})]}),(0,d.jsxs)("div",{className:"product-info",children:[(0,d.jsx)("h3",{className:"product-title",children:a.name}),(0,d.jsxs)("div",{className:"product-vendor",children:[(0,d.jsx)("i",{className:"fas fa-store"})," ",a.vendor]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",a.price]}),(0,d.jsxs)("div",{className:"product-actions",children:[(0,d.jsx)("button",{className:"like-btn",onClick:()=>n(a),style:{color:i?"var(--secondary)":"var(--gray)"},children:(0,d.jsx)("i",{className:i?"fas fa-heart":"far fa-heart"})}),o&&o.some(e=>(e._id||e.id)===(a._id||a.id))?(0,d.jsx)("button",{className:"btn go-to-cart",onClick:()=>l("cart"),children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn add-to-cart",onClick:()=>s(a),children:"Add to Cart"})]})]})]})}),f=[{id:1,name:"Fresh Garden Salad",price:1099,vendor:"Green Cafe",category:"Food",image:"Fresh Garden Salad.jpg"},{id:2,name:"Classic Beef Burger",price:849,vendor:"Burger Heaven",category:"Food",image:"Classic Beef Burger.jpg"},{id:3,name:"Synthetic Engine Oil",price:2499,vendor:"AutoCare",category:"Automotive",image:"Synthetic Engine Oil.jpg"},{id:4,name:"Vitamin Supplements",price:1299,vendor:"HealthPlus",category:"Medicines",image:"Vitamin Supplements.jpg"},{id:5,name:"Gold Diamond Ring",price:24999,vendor:"Sparkle Jewellers",category:"Jewellery",image:"Gold Diamond Ring.jpg"},{id:6,name:"Designer Summer Dress",price:4199,vendor:"Fashion Hub",category:"Clothing",image:"Designer Summer Dress.jpg"},{id:7,name:"Luxury Skincare Set",price:7499,vendor:"Beauty Palace",category:"Beauty Products",image:"Luxury Skincare Set.jpg"},{id:8,name:"Silver Pearl Necklace",price:10899,vendor:"Elegance Jewels",category:"Jewellery",image:"Silver Pearl Necklace.jpg"}],x=e=>{let{onAddToCart:t,onToggleWishlist:a,cartItems:r,wishlistItems:s,navigateTo:n}=e;return(0,d.jsx)("section",{className:"section products",id:"products",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Popular Products"})}),(0,d.jsx)("div",{className:"product-grid",children:f.map(e=>{const i=s.some(t=>t.id===e.id);return(0,d.jsx)(g,{product:e,onAddToCart:t,onToggleWishlist:a,cartItems:r,isWishlisted:i,navigateTo:n},e.id)})})]})})},j=[{icon:"fas fa-truck",title:"Fast Delivery",description:"Get your orders delivered to your doorstep within hours"},{icon:"fas fa-store",title:"Pickup Service",description:"Order online and pick up from the store at your convenience"},{icon:"fas fa-headset",title:"24/7 Support",description:"Our customer support team is always ready to help you"}],v=()=>(0,d.jsx)("section",{className:"section services",id:"services",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Our Services"})}),(0,d.jsx)("div",{className:"service-grid",children:j.map((e,t)=>(0,d.jsxs)("div",{className:"service-card",children:[(0,d.jsx)("div",{className:"service-icon",children:(0,d.jsx)("i",{className:e.icon})}),(0,d.jsx)("h3",{children:e.title}),(0,d.jsx)("p",{children:e.description})]},t))})]})}),y=e=>{let{business:t}=e;return(0,d.jsxs)("div",{className:"business-card",children:[(0,d.jsxs)("div",{className:"business-header",children:[(0,d.jsx)("img",{src:t.coverImage,alt:t.name,className:"business-cover"}),(0,d.jsx)("img",{src:t.logoImage,alt:"".concat(t.name," Logo"),className:"business-logo"})]}),(0,d.jsxs)("div",{className:"business-info",children:[(0,d.jsx)("h3",{className:"business-name",children:t.name}),(0,d.jsx)("div",{className:"business-category",children:t.category}),(0,d.jsxs)("div",{className:"business-distance",children:[(0,d.jsx)("i",{className:"fas fa-location-dot"})," ",t.distance]}),(0,d.jsx)("a",{href:t.storeLink,className:"btn",children:"View Store"})]})]})},b=[{name:"Green Cafe",category:"Restaurant \u2022 Healthy Food",distance:"1.2 km away",coverImage:"/IMAGES/Green Cafe.jpg",logoImage:"/IMAGES/Green Cafe.jpg",storeLink:"#"},{name:"AutoCare Center",category:"Automotive \u2022 Repairs",distance:"2.5 km away",coverImage:"/IMAGES/AutoCare Center.jpg",logoImage:"/IMAGES/AutoCare Center.jpg",storeLink:"#"},{name:"HealthPlus Pharmacy",category:"Pharmacy \u2022 Health Products",distance:"0.8 km away",coverImage:"/IMAGES/healthplus pharmacy.jpg",logoImage:"/IMAGES/healthplus pharmacy.jpg",storeLink:"#"},{name:"Sparkle Jewellers",category:"Jewellery \u2022 Accessories",distance:"1.5 km away",coverImage:"/IMAGES/Sparkle Jewellers.jpg",logoImage:"/IMAGES/Sparkle Jewellers.jpg",storeLink:"#"},{name:"Fashion Hub",category:"Clothing \u2022 Accessories",distance:"0.9 km away",coverImage:"/IMAGES/Fashion Hub.jpg",logoImage:"/IMAGES/Fashion Hub.jpg",storeLink:"#"},{name:"Beauty Palace",category:"Cosmetics \u2022 Skincare",distance:"1.8 km away",coverImage:"/IMAGES/Beauty Palace.jpg",logoImage:"/IMAGES/Beauty Palace.jpg",storeLink:"#"}],N=()=>(0,d.jsx)("section",{className:"section businesses",id:"businesses",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Featured Businesses"})}),(0,d.jsx)("div",{className:"business-grid",children:b.map((e,t)=>(0,d.jsx)(y,{business:e},t))})]})}),w=e=>{let{wishlistItems:t,onAddToCart:a,onToggleWishlist:r,navigateTo:s,cartItems:n}=e;if(!t||0===t.length)return(0,d.jsxs)("div",{className:"wishlist-container empty-wishlist",children:[(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Your Wishlist"})}),(0,d.jsx)("p",{children:"Your wishlist is empty. Add items you love to your wishlist to see them here."}),(0,d.jsx)("button",{className:"btn",onClick:()=>s("home"),children:"Continue Shopping"})]});return(0,d.jsx)("section",{className:"section wishlist-section",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Your Wishlist"})}),(0,d.jsx)("div",{className:"wishlist-container",children:(0,d.jsx)("div",{id:"wishlist-items",children:t.map(e=>{const t=n.some(t=>(t._id||t.id)===(e._id||e.id));return(0,d.jsxs)("div",{className:"wishlist-item",children:[(0,d.jsxs)("div",{className:"cart-item-details",style:{flexGrow:1},children:[(0,d.jsx)("img",{src:e.image.startsWith("http")?e.image:"/IMAGES/".concat(e.image),alt:e.name,onClick:()=>s("productDetail",e),style:{cursor:"pointer"}}),(0,d.jsxs)("span",{onClick:()=>s("productDetail",e),style:{cursor:"pointer"},children:[e.name," - ",e.vendor]})]}),(0,d.jsxs)("div",{className:"wishlist-item-actions",children:[t?(0,d.jsxs)("button",{className:"btn btn-primary action-btn",onClick:()=>s("cart"),title:"Go to Cart",children:[(0,d.jsx)("i",{className:"fas fa-shopping-cart"})," Go to Cart"]}):(0,d.jsxs)("button",{className:"btn btn-primary action-btn",onClick:()=>(e=>{a(e)})(e),title:"Move to Cart",children:[(0,d.jsx)("i",{className:"fas fa-cart-plus"})," Move to Cart"]}),(0,d.jsx)("button",{className:"btn btn-danger action-btn",onClick:()=>r(e),title:"Remove from Wishlist",children:(0,d.jsx)("i",{className:"fas fa-trash-alt"})})]})]},e.id)})})})]})})},k=e=>{let{cartItems:t,onUpdateQuantity:a,onRemoveFromCart:s,navigateTo:n,onToggleWishlist:i,wishlistItems:o,currentUser:l}=e;const[c,u]=(0,r.useState)([]);if(!t||0===t.length)return(0,d.jsxs)("div",{className:"cart-container empty-cart",children:[(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Your Cart"})}),(0,d.jsx)("p",{children:"Your cart is empty. Add some products to get started!"}),(0,d.jsx)("button",{className:"btn",onClick:()=>n("home"),children:"Continue Shopping"})]});const p=t.reduce((e,t)=>e+t.price*t.quantity,0),h=.05*p,m=p+h;return(0,d.jsx)("section",{className:"section cart-section",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Your Cart"})}),(0,d.jsxs)("div",{className:"cart-container",children:[(0,d.jsxs)("div",{className:"cart-actions",children:[(0,d.jsx)("button",{className:"btn btn-secondary",onClick:()=>{const e=t.filter(e=>c.includes(e._id||e.id));e.filter(e=>o.some(t=>(t._id||t.id)===(e._id||e.id))).length>0?alert("Selected items are already in wishlist"):e.forEach(e=>i(e))},children:(0,d.jsx)("i",{className:"fas fa-heart"})}),(0,d.jsx)("button",{className:"btn btn-danger",onClick:()=>{t.filter(e=>c.includes(e._id||e.id)).forEach(e=>s(e._id||e.id))},children:(0,d.jsx)("i",{className:"fas fa-trash-alt"})})]}),(0,d.jsx)("div",{id:"cart-items",children:t.map(e=>{o.some(t=>(t._id||t.id)===(e._id||e.id));return(0,d.jsxs)("div",{className:"cart-item",children:[(0,d.jsx)("input",{type:"checkbox",checked:c.includes(e._id||e.id),onChange:()=>(e=>{const t=e._id||e.id||e;u(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])})(e),className:"cart-item-checkbox"}),(0,d.jsxs)("div",{className:"cart-item-details",children:[(0,d.jsx)("img",{src:e.image.startsWith("http")?e.image:"/IMAGES/".concat(e.image),alt:e.name,onClick:()=>n("productDetail",e),style:{cursor:"pointer"}}),(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"cart-item-name",onClick:()=>n("productDetail",e),style:{cursor:"pointer"},children:e.name}),(0,d.jsxs)("span",{className:"cart-item-vendor",children:["by ",e.vendor]})]})]}),(0,d.jsxs)("div",{className:"cart-item-quantity",children:[(0,d.jsx)("button",{onClick:()=>a(e._id||e.id,e.quantity-1),children:"-"}),(0,d.jsx)("span",{children:e.quantity}),(0,d.jsx)("button",{onClick:()=>a(e._id||e.id,e.quantity+1),children:"+"})]}),(0,d.jsxs)("span",{className:"cart-item-price",children:["\u20b9",(e.price*e.quantity).toLocaleString()]})]},e.id)})}),(0,d.jsxs)("div",{className:"cart-bill",children:[(0,d.jsx)("h3",{children:"Order Summary"}),(0,d.jsx)("div",{id:"cart-bill-items",children:t.map(e=>(0,d.jsxs)("div",{className:"cart-bill-item",children:[(0,d.jsxs)("span",{children:[e.name," x ",e.quantity]}),(0,d.jsxs)("span",{children:["\u20b9",(e.price*e.quantity).toLocaleString()]})]},e.id))}),(0,d.jsxs)("div",{className:"cart-bill-item",children:[(0,d.jsx)("span",{children:"Subtotal"}),(0,d.jsxs)("span",{id:"cart-subtotal",children:["\u20b9",p.toLocaleString()]})]}),(0,d.jsxs)("div",{className:"cart-bill-item",children:[(0,d.jsx)("span",{children:"Admin Commission (5%)"}),(0,d.jsxs)("span",{id:"cart-commission",children:["\u20b9",h.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,d.jsxs)("div",{className:"cart-bill-total",children:[(0,d.jsx)("span",{children:"Total"}),(0,d.jsxs)("span",{id:"cart-total",children:["\u20b9",m.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),(0,d.jsx)("div",{className:"cart-checkout",children:(0,d.jsx)("button",{className:"btn",onClick:()=>n("checkout"),children:"Proceed to Checkout"})})]})]})})},S=e=>{var t;let{cartItems:a,navigateTo:s,currentUser:n}=e;const[i,o]=(0,r.useState)(1),[l,u]=(0,r.useState)(""),[p,h]=(0,r.useState)(""),[m,g]=(0,r.useState)(!1),[f,x]=(0,r.useState)(""),[j,v]=(0,r.useState)(""),[y,b]=(0,r.useState)({number:"",expiry:"",cvv:""}),[N,w]=(0,r.useState)(!1),k=()=>{const e=a.reduce((e,t)=>e+t.price*t.quantity,0);return e+.05*e},S=()=>{"upi"!==f||j?"card"!==f||y.number&&y.expiry&&y.cvv?setTimeout(()=>{w(!0)},1e3):alert("Please fill all card details"):alert("Please select a UPI method")},C=()=>{s("home")};return N?(0,d.jsx)("div",{className:"checkout-container",children:(0,d.jsxs)("div",{className:"order-success",children:[(0,d.jsx)("h2",{children:"Order Placed Successfully!"}),(0,d.jsx)("p",{children:"Your order has been confirmed and will be delivered soon."}),(0,d.jsx)("button",{className:"btn",onClick:C,children:"Continue Shopping"})]})}):(0,d.jsx)("section",{className:"section checkout-section",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Checkout"})}),(0,d.jsxs)("div",{className:"checkout-container",children:[1===i&&(0,d.jsxs)("div",{className:"checkout-step",children:[(0,d.jsx)("h3",{children:"Delivery Address"}),(null===(t=n.details)||void 0===t?void 0:t.addresses)&&n.details.addresses.length>0&&(0,d.jsxs)("div",{className:"address-options",children:[(0,d.jsx)("h4",{children:"Select Existing Address"}),n.details.addresses.map((e,t)=>(0,d.jsxs)("div",{className:"address-option",children:[(0,d.jsx)("input",{type:"radio",name:"address",value:e,checked:l===e,onChange:e=>u(e.target.value)}),(0,d.jsx)("label",{children:e})]},t))]}),(0,d.jsxs)("div",{className:"address-options",children:[(0,d.jsx)("h4",{children:"Add New Address"}),(0,d.jsx)("textarea",{placeholder:"Enter your delivery address",value:p,onChange:e=>h(e.target.value),rows:"3"})]}),(0,d.jsx)("div",{className:"address-options",children:(0,d.jsxs)("div",{className:"address-option",children:[(0,d.jsx)("input",{type:"radio",name:"address",checked:m,onChange:()=>{g(!0),u(""),h("")}}),(0,d.jsx)("label",{children:"Use My Current Location"})]})}),(0,d.jsx)("button",{className:"btn continue-btn",onClick:()=>{l||p||m?o(2):alert("Please select or add a delivery address")},children:"Continue to Payment"})]}),2===i&&(0,d.jsxs)("div",{className:"checkout-step",children:[(0,d.jsx)("h3",{children:"Payment Method"}),(0,d.jsxs)("div",{className:"order-summary",children:[(0,d.jsx)("h4",{children:"Order Summary"}),a.map(e=>(0,d.jsxs)("div",{className:"summary-item",children:[(0,d.jsxs)("span",{children:[e.name," x ",e.quantity]}),(0,d.jsxs)("span",{children:["\u20b9",(e.price*e.quantity).toLocaleString()]})]},e.id)),(0,d.jsxs)("div",{className:"summary-item total",children:[(0,d.jsx)("span",{children:"Total Amount"}),(0,d.jsxs)("span",{children:["\u20b9",k().toLocaleString()]})]})]}),(0,d.jsxs)("div",{className:"payment-options",children:[(0,d.jsxs)("div",{className:"payment-option",children:[(0,d.jsx)("input",{type:"radio",name:"payment",value:"upi",checked:"upi"===f,onChange:e=>x(e.target.value)}),(0,d.jsx)("label",{children:"UPI"}),"upi"===f&&(0,d.jsxs)("div",{className:"payment-details",children:[(0,d.jsxs)("select",{value:j,onChange:e=>v(e.target.value),children:[(0,d.jsx)("option",{value:"",children:"Select UPI Method"}),(0,d.jsx)("option",{value:"paytm",children:"Paytm"}),(0,d.jsx)("option",{value:"googlepay",children:"Google Pay"}),(0,d.jsx)("option",{value:"phonepe",children:"PhonePe"})]}),(0,d.jsxs)("button",{className:"btn pay-btn",onClick:S,children:["Pay \u20b9",k().toLocaleString()]})]})]}),(0,d.jsxs)("div",{className:"payment-option",children:[(0,d.jsx)("input",{type:"radio",name:"payment",value:"card",checked:"card"===f,onChange:e=>x(e.target.value)}),(0,d.jsx)("label",{children:"Credit/Debit/ATM Card"}),"card"===f&&(0,d.jsxs)("div",{className:"payment-details card-details",children:[(0,d.jsx)("input",{type:"text",placeholder:"Card Number",value:y.number,onChange:e=>b(c(c({},y),{},{number:e.target.value})),maxLength:"16"}),(0,d.jsxs)("div",{className:"card-row",children:[(0,d.jsx)("input",{type:"text",placeholder:"Valid Thru (MM/YY)",value:y.expiry,onChange:e=>b(c(c({},y),{},{expiry:e.target.value})),maxLength:"5"}),(0,d.jsx)("input",{type:"text",placeholder:"CVV",value:y.cvv,onChange:e=>b(c(c({},y),{},{cvv:e.target.value})),maxLength:"3"})]}),(0,d.jsxs)("button",{className:"btn pay-btn",onClick:S,children:["Pay \u20b9",k().toLocaleString()]})]})]}),(0,d.jsxs)("div",{className:"payment-option",children:[(0,d.jsx)("input",{type:"radio",name:"payment",value:"cod",checked:"cod"===f,onChange:e=>x(e.target.value)}),(0,d.jsx)("label",{children:"Cash on Delivery"}),"cod"===f&&(0,d.jsx)("div",{className:"payment-details",children:(0,d.jsxs)("button",{className:"btn pay-btn",onClick:S,children:["Pay \u20b9",k().toLocaleString()]})})]})]})]})]})]})})},C=e=>{let{currentUser:t,navigateTo:a,onProfileUpdate:s}=e;const[n,i]=(0,r.useState)({name:"",email:"",phone:"",gender:"",dateOfBirth:"",addresses:[{id:1,label:"Home",line:""}]}),[o,l]=(0,r.useState)(!1);(0,r.useEffect)(()=>{t.details&&(async()=>{try{const e=await fetch("http://localhost:5000/api/profile?email=".concat(t.details.email,"&role=").concat(t.role));if(e.ok){const t=await e.json();i({name:t.user.fullname||"",email:t.user.email||"",phone:t.user.phone||"",gender:t.user.gender||"",dateOfBirth:t.user.dateOfBirth||"",addresses:t.user.addresses||[{id:1,label:"Home",line:""}]})}else i({name:t.details.name||"",email:t.details.email||"",phone:t.details.phone||"",gender:t.details.gender||"",dateOfBirth:t.details.dateOfBirth||"",addresses:t.details.addresses||[{id:1,label:"Home",line:""}]})}catch(e){console.error("Error loading profile:",e),i({name:t.details.name||"",email:t.details.email||"",phone:t.details.phone||"",gender:t.details.gender||"",dateOfBirth:t.details.dateOfBirth||"",addresses:t.details.addresses||[{id:1,label:"Home",line:""}]})}})()},[t]);const u=e=>{const{name:t,value:a}=e.target;i(e=>c(c({},e),{},{[t]:a}))};return(0,d.jsx)("div",{className:"profile-page",children:(0,d.jsxs)("div",{className:"profile-container",children:[(0,d.jsx)("h1",{children:"My Profile"}),(0,d.jsxs)("div",{className:"profile-section",children:[(0,d.jsxs)("div",{className:"profile-field",children:[(0,d.jsx)("label",{children:"Name:"}),o?(0,d.jsx)("input",{type:"text",name:"name",value:n.name,onChange:u,placeholder:"Enter your name"}):(0,d.jsx)("span",{children:n.name||"Not provided"})]}),(0,d.jsxs)("div",{className:"profile-field",children:[(0,d.jsx)("label",{children:"Email:"}),(0,d.jsx)("span",{children:n.email})]}),(0,d.jsxs)("div",{className:"profile-field",children:[(0,d.jsx)("label",{children:"Phone Number:"}),o?(0,d.jsx)("input",{type:"tel",name:"phone",value:n.phone,onChange:u,placeholder:"Enter your phone number"}):(0,d.jsx)("span",{children:n.phone||"Not provided"})]}),(0,d.jsxs)("div",{className:"profile-field",children:[(0,d.jsx)("label",{children:"Gender:"}),o?(0,d.jsxs)("select",{name:"gender",value:n.gender,onChange:u,children:[(0,d.jsx)("option",{value:"",children:"Select Gender"}),(0,d.jsx)("option",{value:"male",children:"Male"}),(0,d.jsx)("option",{value:"female",children:"Female"}),(0,d.jsx)("option",{value:"other",children:"Other"})]}):(0,d.jsx)("span",{children:n.gender||"Not provided"})]}),(0,d.jsxs)("div",{className:"profile-field",children:[(0,d.jsx)("label",{children:"Date of Birth:"}),o?(0,d.jsx)("input",{type:"date",name:"dateOfBirth",value:n.dateOfBirth,onChange:u}):(0,d.jsx)("span",{children:n.dateOfBirth||"Not provided"})]}),(0,d.jsxs)("div",{className:"profile-field addresses",children:[(0,d.jsx)("label",{children:"Addresses:"}),n.addresses.map((e,t)=>(0,d.jsx)("div",{className:"address-item",children:o?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("input",{type:"text",value:"string"===typeof e?e:e.line||"",onChange:e=>((e,t)=>{const a=[...n.addresses];a[e]="string"===typeof t?c(c({},a[e]),{},{line:t}):t,i(e=>c(c({},e),{},{addresses:a}))})(t,e.target.value),placeholder:"Enter address"}),n.addresses.length>1&&(0,d.jsx)("button",{type:"button",className:"remove-address",onClick:()=>(e=>{if(n.addresses.length>1){const t=n.addresses.filter((t,a)=>a!==e);i(e=>c(c({},e),{},{addresses:t}))}})(t),children:"Remove"})]}):(0,d.jsx)("span",{children:"string"===typeof e?e:e.line||"Not provided"})},t)),o&&(0,d.jsx)("button",{type:"button",className:"add-address",onClick:()=>{const e=Math.max(...n.addresses.map(e=>e.id||0),0)+1;i(t=>c(c({},t),{},{addresses:[...t.addresses,{id:e,label:"New Address",line:""}]}))},children:"+ Add Address"})]})]}),(0,d.jsxs)("div",{className:"profile-actions",children:[o?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("button",{className:"save-btn",onClick:async()=>{try{console.log("Sending profile update request:",{email:t.details.email,role:t.role,profile:n});const e=await fetch("http://localhost:5000/api/profile/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.details.email,role:t.role,profile:n})});console.log("Response status:",e.status);const a=await e.json();console.log("Response data:",a),e.ok?(alert("Profile updated successfully!"),l(!1),i({name:a.user.fullname||"",email:a.user.email||"",phone:a.user.phone||"",gender:a.user.gender||"",dateOfBirth:a.user.dateOfBirth||"",addresses:a.user.addresses||[{id:1,label:"Home",line:""}]}),s({name:a.user.fullname,email:a.user.email,phone:a.user.phone,gender:a.user.gender,dateOfBirth:a.user.dateOfBirth,addresses:a.user.addresses})):alert("Failed to update profile: ".concat(a.message||"Unknown error"))}catch(e){console.error("Error updating profile:",e),alert("Error updating profile: ".concat(e.message))}},children:"Save"}),(0,d.jsx)("button",{className:"cancel-btn",onClick:()=>l(!1),children:"Cancel"})]}):(0,d.jsx)("button",{className:"edit-btn",onClick:()=>l(!0),children:"Edit Profile"}),(0,d.jsx)("button",{className:"back-btn",onClick:()=>a("home"),children:"Back to Home"})]})]})})},P=document.createElement("link");P.href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap",P.rel="stylesheet",document.querySelector('link[href*="Poppins"]')||document.head.appendChild(P);const T="http://localhost:5000/api/auth",M={loginPage:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(135deg, #f5f7fb 0%, #e3e8f0 100%)",padding:"20px",fontFamily:"'Poppins', sans-serif"},loginContainer:{background:"white",borderRadius:"20px",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.1)",padding:"40px",maxWidth:"500px",width:"100%",textAlign:"center"},loginHeader:{marginBottom:"30px"},logo:{width:"80px",height:"80px",marginBottom:"15px"},welcomeTitle:{fontSize:"28px",color:"#333",margin:"0",fontWeight:"600"},roleSelector:{display:"flex",gap:"0",marginBottom:"30px",borderRadius:"12px",overflow:"hidden",border:"1px solid #e0e0e0"},roleBtn:{flex:1,padding:"12px 20px",border:"none",background:"#f5f5f5",color:"#666",fontSize:"15px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",borderRight:"1px solid #e0e0e0"},roleBtnActive:{background:"#4a6cfa",color:"white",borderRight:"none"},loginForm:{textAlign:"left"},formTitle:{fontSize:"24px",color:"#333",marginBottom:"20px",textAlign:"center",fontWeight:"600"},errorMessage:{background:"#fee",color:"#c33",padding:"12px",borderRadius:"8px",marginBottom:"15px",fontSize:"14px",textAlign:"center",border:"1px solid #fcc"},successMessage:{background:"#d4edda",color:"#155724",padding:"12px",borderRadius:"8px",marginBottom:"15px",fontSize:"14px",textAlign:"center",border:"1px solid #c3e6cb"},inputGroup:{marginBottom:"18px"},label:{display:"block",marginBottom:"8px",color:"#555",fontSize:"14px",fontWeight:"500"},input:{width:"100%",padding:"14px 16px",border:"1px solid #e0e0e0",borderRadius:"10px",fontSize:"15px",transition:"all 0.3s ease",boxSizing:"border-box",outline:"none"},forgotPasswordLink:{textAlign:"right",marginBottom:"10px"},submitBtn:{width:"100%",padding:"14px",background:"#4a6cfa",color:"white",border:"none",borderRadius:"10px",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",marginTop:"10px",boxShadow:"0 4px 12px rgba(74, 108, 250, 0.3)"},toggleView:{textAlign:"center",marginTop:"20px",fontSize:"14px",color:"#666"},toggleLink:{color:"#4a6cfa",cursor:"pointer",fontWeight:"600",textDecoration:"none"},modal:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},modalContent:{background:"white",borderRadius:"16px",padding:"30px",maxWidth:"450px",width:"90%",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.2)"},modalHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},modalTitle:{fontSize:"22px",fontWeight:"600",color:"#333",margin:0},closeBtn:{background:"none",border:"none",fontSize:"24px",color:"#999",cursor:"pointer",padding:"0"},modalDescription:{fontSize:"14px",color:"#666",marginBottom:"20px",lineHeight:"1.5"},modalActions:{display:"flex",gap:"10px",marginTop:"20px"},cancelBtn:{flex:1,padding:"12px",background:"#f5f5f5",color:"#666",border:"none",borderRadius:"8px",fontSize:"15px",fontWeight:"600",cursor:"pointer"}},A=e=>{let{onLoginSuccess:t=()=>{},onSellerRegister:a=()=>{},onAdminRegister:s=()=>{}}=e;const[n,i]=(0,r.useState)(!0),[o,l]=(0,r.useState)(""),[u,p]=(0,r.useState)("Customer"),[h,m]=(0,r.useState)(!1),[g,f]=(0,r.useState)(!1),[x,j]=(0,r.useState)(""),[v,y]=(0,r.useState)(""),[b,N]=(0,r.useState)({address:"",lat:null,lon:null});return(0,d.jsx)("div",{style:M.loginPage,children:(0,d.jsxs)("div",{style:M.loginContainer,children:[(0,d.jsxs)("div",{style:M.loginHeader,children:[(0,d.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/3081/3081559.png",alt:"ShopNest Logo",style:M.logo}),(0,d.jsx)("h1",{style:M.welcomeTitle,children:"Welcome to ShopNest"})]}),(0,d.jsxs)("div",{style:M.roleSelector,children:[(0,d.jsx)("button",{style:c(c({},M.roleBtn),"Customer"===u?M.roleBtnActive:{}),onClick:()=>p("Customer"),disabled:h,children:"Customer"}),(0,d.jsx)("button",{style:c(c({},M.roleBtn),"Seller"===u?M.roleBtnActive:{}),onClick:()=>p("Seller"),disabled:h,children:"Seller"}),(0,d.jsx)("button",{style:c(c({},M.roleBtn),"Earner"===u?M.roleBtnActive:{}),onClick:()=>p("Earner"),disabled:h,children:"Earner"}),(0,d.jsx)("button",{style:c(c({},M.roleBtn),"Admin"===u?M.roleBtnActive:{}),onClick:()=>p("Admin"),disabled:h,children:"Admin"})]}),n?(0,d.jsxs)("form",{style:M.loginForm,onSubmit:async e=>{e.preventDefault(),l(""),m(!0);const a=e.target.elements["login-email"].value,r=e.target.elements["login-password"].value;try{const e=await fetch("".concat(T,"/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:r,role:u.charAt(0).toUpperCase()+u.slice(1)})}),s=await e.json();e.ok?(localStorage.setItem("token",s.token),localStorage.setItem("user",JSON.stringify(s.user)),t(s.user.role,s.user)):l(s.message||"Login failed. Please try again.")}catch(s){console.error("Login error:",s),l("Unable to connect to server. Please try again later.")}finally{m(!1)}},children:[(0,d.jsxs)("h2",{style:M.formTitle,children:[u," Login"]}),o&&(0,d.jsx)("p",{style:M.errorMessage,children:o}),(0,d.jsxs)("div",{style:M.inputGroup,children:[(0,d.jsx)("label",{htmlFor:"login-email",style:M.label,children:"Email"}),(0,d.jsx)("input",{id:"login-email",type:"email",placeholder:"Email",style:M.input,required:!0,disabled:h})]}),(0,d.jsxs)("div",{style:M.inputGroup,children:[(0,d.jsx)("label",{htmlFor:"login-password",style:M.label,children:"Password"}),(0,d.jsx)("input",{id:"login-password",type:"password",placeholder:"Password",style:M.input,required:!0,disabled:h})]}),(0,d.jsx)("div",{style:M.forgotPasswordLink,children:(0,d.jsx)("span",{onClick:()=>!h&&f(!0),style:c(c({},M.toggleLink),h?{opacity:.5,cursor:"not-allowed"}:{}),children:"Forgot Password?"})}),(0,d.jsx)("button",{type:"submit",style:M.submitBtn,disabled:h,children:h?"Logging in...":"Login"}),(0,d.jsxs)("p",{style:M.toggleView,children:["Don't have an account? "," ",(0,d.jsx)("span",{onClick:()=>!h&&i(!1),style:c(c({},M.toggleLink),h?{opacity:.5,cursor:"not-allowed"}:{}),children:"Register"})]})]}):(0,d.jsxs)("form",{style:M.loginForm,onSubmit:async e=>{e.preventDefault(),l(""),m(!0);const t=e.target.elements.fullname.value,r=e.target.elements.email.value,n=e.target.elements.password.value;if(n!==e.target.elements.confirmPassword.value)return l("Passwords do not match."),void m(!1);if(n.length<6)return l("Password must be at least 6 characters long."),void m(!1);let o={fullname:t,email:r,password:n,role:u.charAt(0).toUpperCase()+u.slice(1),status:"active"};if("Seller"===u){const t=e.target.elements.businessName.value.trim(),a=e.target.elements.businessType.value;if(!t)return l("Business name is required for sellers."),void m(!1);if(!a)return l("Please select a business type."),void m(!1);o.businessName=t,o.businessType=a,o.address=b.address,o.lat=b.lat,o.lon=b.lon}try{const n=await fetch("".concat(T,"/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),d=await n.json();if(n.ok){const n=c({fullname:t,email:r,role:u},"Seller"===u?{businessName:o.businessName,businessType:o.businessType}:{});"Seller"===u?a(n):"Admin"===u&&s(n),alert("Registration successful! Please log in."),i(!0),e.target.reset(),"Seller"===u&&N({address:"",lat:null,lon:null})}else l(d.message||"Registration failed. Please try again.")}catch(d){console.error("Registration error:",d),l("Unable to connect to server. Please try again later.")}finally{m(!1)}},children:[(0,d.jsxs)("h2",{style:M.formTitle,children:[u," Registration"]}),o&&(0,d.jsx)("p",{style:M.errorMessage,children:o}),(0,d.jsx)("div",{style:M.inputGroup,children:(0,d.jsx)("input",{name:"fullname",type:"text",placeholder:"Full Name",style:M.input,required:!0,disabled:h})}),"Seller"===u&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{style:M.inputGroup,children:(0,d.jsx)("input",{name:"businessName",type:"text",placeholder:"Business Name",style:M.input,required:!0,disabled:h})}),(0,d.jsx)("div",{style:M.inputGroup,children:(0,d.jsxs)("select",{name:"businessType",style:M.input,required:!0,disabled:h,children:[(0,d.jsx)("option",{value:"",children:"Select Business Type"}),(0,d.jsx)("option",{value:"Food & Dining",children:"Food & Dining"}),(0,d.jsx)("option",{value:"Medicines",children:"Medicines"}),(0,d.jsx)("option",{value:"Automotive",children:"Automotive"}),(0,d.jsx)("option",{value:"Services",children:"Services"}),(0,d.jsx)("option",{value:"Jewellery",children:"Jewellery"}),(0,d.jsx)("option",{value:"Clothing",children:"Clothing"}),(0,d.jsx)("option",{value:"Beauty Products",children:"Beauty Products"}),(0,d.jsx)("option",{value:"Footwear",children:"Footwear"}),(0,d.jsx)("option",{value:"Groceries",children:"Groceries"}),(0,d.jsx)("option",{value:"Fruits",children:"Fruits"}),(0,d.jsx)("option",{value:"Books",children:"Books"}),(0,d.jsx)("option",{value:"Pet Food",children:"Pet Food"}),(0,d.jsx)("option",{value:"Musical Instruments",children:"Musical Instruments"}),(0,d.jsx)("option",{value:"Home Furniture",children:"Home Furniture"}),(0,d.jsx)("option",{value:"Bags",children:"Bags"}),(0,d.jsx)("option",{value:"Kitchen Products",children:"Kitchen Products"}),(0,d.jsx)("option",{value:"Sports & Fitness",children:"Sports & Fitness"}),(0,d.jsx)("option",{value:"Home Decor",children:"Home Decor"}),(0,d.jsx)("option",{value:"Watches",children:"Watches"}),(0,d.jsx)("option",{value:"Organic Veggies & Fruits",children:"Organic Veggies & Fruits"})]})}),(0,d.jsx)("div",{style:M.inputGroup,children:(0,d.jsx)("textarea",{name:"address",placeholder:"Shop Address (for distance calculation)",value:b.address,onChange:e=>N(t=>c(c({},t),{},{address:e.target.value})),rows:"2",style:c(c({},M.input),{},{resize:"vertical"}),disabled:h})}),(0,d.jsxs)("div",{style:M.inputGroup,children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",color:"#555",fontWeight:"500"},children:"Coordinates (for distance calculation):"}),(0,d.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center",flexWrap:"wrap"},children:[(0,d.jsx)("input",{type:"number",step:"any",placeholder:"Latitude",value:b.lat||"",onChange:e=>N(t=>c(c({},t),{},{lat:parseFloat(e.target.value)||null})),style:{flex:"1 1 120px",minWidth:"120px",padding:"14px 16px",border:"1px solid #e0e0e0",borderRadius:"10px",fontSize:"15px",outline:"none"},disabled:h}),(0,d.jsx)("input",{type:"number",step:"any",placeholder:"Longitude",value:b.lon||"",onChange:e=>N(t=>c(c({},t),{},{lon:parseFloat(e.target.value)||null})),style:{flex:"1 1 120px",minWidth:"120px",padding:"14px 16px",border:"1px solid #e0e0e0",borderRadius:"10px",fontSize:"15px",outline:"none"},disabled:h}),(0,d.jsx)("button",{type:"button",onClick:()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{const{latitude:t,longitude:a}=e.coords;N(e=>c(c({},e),{},{lat:t,lon:a})),alert("Location obtained successfully!")},e=>{console.error("Error getting location:",e),alert("Unable to get your location. Please enter coordinates manually or check your browser permissions.")},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5}):alert("Geolocation is not supported by this browser.")},style:{padding:"14px 15px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"10px",cursor:h?"not-allowed":"pointer",fontSize:"14px",whiteSpace:"nowrap",flexShrink:0,opacity:h?.5:1},disabled:h,children:"\ud83d\udccd Get Location"})]})]})]}),(0,d.jsx)("div",{style:M.inputGroup,children:(0,d.jsx)("input",{name:"email",type:"email",placeholder:"Email",style:M.input,required:!0,disabled:h})}),(0,d.jsx)("div",{style:M.inputGroup,children:(0,d.jsx)("input",{name:"password",type:"password",placeholder:"Password",style:M.input,required:!0,disabled:h})}),(0,d.jsx)("div",{style:M.inputGroup,children:(0,d.jsx)("input",{name:"confirmPassword",type:"password",placeholder:"Confirm Password",style:M.input,required:!0,disabled:h})}),(0,d.jsx)("button",{type:"submit",style:M.submitBtn,disabled:h,children:h?"Registering...":"Register"}),(0,d.jsxs)("p",{style:M.toggleView,children:["Already have an account? "," ",(0,d.jsx)("span",{onClick:()=>!h&&i(!0),style:c(c({},M.toggleLink),h?{opacity:.5,cursor:"not-allowed"}:{}),children:"Login"})]})]}),g&&(0,d.jsx)("div",{style:M.modal,onClick:e=>e.target===e.currentTarget&&f(!1),children:(0,d.jsxs)("div",{style:M.modalContent,children:[(0,d.jsxs)("div",{style:M.modalHeader,children:[(0,d.jsx)("h3",{style:M.modalTitle,children:"Forgot Password"}),(0,d.jsx)("button",{onClick:()=>f(!1),style:M.closeBtn,disabled:h,children:"\u2715"})]}),(0,d.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),y(""),m(!0);try{const e=await fetch("".concat(T,"/forgot-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:x,role:u.toLowerCase()})}),t=await e.json();e.ok?(y("Password reset link has been sent to your email!"),setTimeout(()=>{f(!1),j(""),y("")},3e3)):y(t.message||"Error sending reset link.")}catch(t){console.error("Forgot password error:",t),y("Unable to connect to server. Please try again later.")}finally{m(!1)}},children:[(0,d.jsx)("p",{style:M.modalDescription,children:"Enter your email address and we'll send you a link to reset your password."}),v&&(0,d.jsx)("p",{style:v.includes("sent")?M.successMessage:M.errorMessage,children:v}),(0,d.jsx)("div",{style:M.inputGroup,children:(0,d.jsx)("input",{type:"email",placeholder:"Enter your email",value:x,onChange:e=>j(e.target.value),style:M.input,required:!0,disabled:h})}),(0,d.jsxs)("div",{style:M.modalActions,children:[(0,d.jsx)("button",{type:"button",onClick:()=>f(!1),style:M.cancelBtn,disabled:h,children:"Cancel"}),(0,d.jsx)("button",{type:"submit",style:M.submitBtn,disabled:h,children:h?"Sending...":"Send Reset Link"})]})]})]})})]})})},I={container:{minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"20px",fontFamily:"Arial, sans-serif"},card:{background:"white",borderRadius:"10px",boxShadow:"0 15px 35px rgba(0, 0, 0, 0.1)",padding:"40px",width:"100%",maxWidth:"400px"},header:{textAlign:"center",marginBottom:"30px"},logo:{width:"80px",height:"80px",marginBottom:"15px"},title:{color:"#333",fontSize:"24px",marginBottom:"10px",fontWeight:"600"},subtitle:{color:"#666",fontSize:"14px",margin:0},form:{display:"flex",flexDirection:"column"},inputGroup:{marginBottom:"20px"},label:{display:"block",marginBottom:"8px",color:"#555",fontSize:"14px",fontWeight:"500"},input:{width:"100%",padding:"15px",border:"1px solid #ddd",borderRadius:"5px",fontSize:"16px",boxSizing:"border-box",transition:"border-color 0.3s",outline:"none"},submitBtn:{width:"100%",padding:"15px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"5px",fontSize:"16px",fontWeight:"600",cursor:"pointer",transition:"transform 0.2s"},errorMessage:{background:"#f8d7da",color:"#721c24",padding:"10px",borderRadius:"5px",marginBottom:"20px",textAlign:"center",border:"1px solid #f5c6cb",fontSize:"14px"},successMessage:{background:"#d4edda",color:"#155724",padding:"10px",borderRadius:"5px",marginBottom:"20px",textAlign:"center",border:"1px solid #c3e6cb",fontSize:"14px"},footer:{textAlign:"center",marginTop:"20px"},link:{color:"#667eea",cursor:"pointer",fontSize:"14px",fontWeight:"600",textDecoration:"none"}},E=e=>{let{navigateTo:t}=e;const[a,s]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[p,h]=(0,r.useState)(""),[m,g]=(0,r.useState)(!1);(0,r.useEffect)(()=>{const e=new URLSearchParams(window.location.search).get("token");e&&s(e)},[]);return(0,d.jsx)("div",{style:I.container,children:(0,d.jsxs)("div",{style:I.card,children:[(0,d.jsxs)("div",{style:I.header,children:[(0,d.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/3081/3081559.png",alt:"ShopNest Logo",style:I.logo}),(0,d.jsx)("h2",{style:I.title,children:"Reset Password"}),(0,d.jsx)("p",{style:I.subtitle,children:"Enter your new password"})]}),(0,d.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),u(""),g(!0),n!==o)return u("Passwords do not match"),h("error"),void g(!1);if(n.length<6)return u("Password must be at least 6 characters long"),h("error"),void g(!1);try{const e=await fetch("".concat("http://localhost:5000/api/auth","/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:a,newPassword:n,confirmPassword:o})}),r=await e.json();e.ok?(u(r.message||"Password reset successful!"),h("success"),setTimeout(()=>{t("login")},2e3)):(u(r.message||"Failed to reset password"),h("error"))}catch(r){console.error("Reset password error:",r),u("An error occurred. Please try again."),h("error")}finally{g(!1)}},style:I.form,children:[c&&(0,d.jsx)("div",{style:"error"===p?I.errorMessage:I.successMessage,children:c}),(0,d.jsxs)("div",{style:I.inputGroup,children:[(0,d.jsx)("label",{style:I.label,children:"New Password"}),(0,d.jsx)("input",{type:"password",value:n,onChange:e=>i(e.target.value),placeholder:"Enter new password",style:I.input,required:!0,disabled:m,autoComplete:"new-password"})]}),(0,d.jsxs)("div",{style:I.inputGroup,children:[(0,d.jsx)("label",{style:I.label,children:"Confirm Password"}),(0,d.jsx)("input",{type:"password",value:o,onChange:e=>l(e.target.value),placeholder:"Confirm new password",style:I.input,required:!0,disabled:m,autoComplete:"new-password"})]}),(0,d.jsx)("button",{type:"submit",style:I.submitBtn,disabled:m,children:m?"Resetting...":"Reset Password"}),(0,d.jsx)("div",{style:I.footer,children:(0,d.jsx)("span",{onClick:()=>t("login"),style:I.link,children:"Back to Login"})})]})]})})},F=e=>{let{cartItems:t,wishlistItems:a,onSearch:s,navigateTo:n,onLogout:i,currentUser:o}=e;const l=t.reduce((e,t)=>e+t.quantity,0),c=a.length,[u,p]=(0,r.useState)(""),[h,m]=(0,r.useState)(!1),g=()=>{s(u)},f=()=>{p(""),s("")},x=e=>{f(),n(e)};return(0,d.jsx)("header",{children:(0,d.jsxs)("div",{className:"container header-content",children:[(0,d.jsxs)("div",{className:"header-left",children:[(0,d.jsxs)("div",{className:"logo",onClick:()=>n("home"),children:[(0,d.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/3081/3081559.png",alt:"ShopNest Logo",className:"logo-img"}),(0,d.jsx)("span",{className:"logo-text",children:"ShopNest"})]}),(0,d.jsxs)("div",{className:"search-bar",children:[(0,d.jsx)("input",{type:"text",placeholder:"Search for products, services...",value:u,onChange:e=>{const t=e.target.value;p(t),s(t)},onKeyPress:e=>{"Enter"===e.key&&g()}}),(0,d.jsxs)("div",{className:"search-buttons",children:[(0,d.jsx)("button",{className:"search-btn",onClick:g,children:(0,d.jsx)("i",{className:"fas fa-search"})}),u&&(0,d.jsx)("button",{className:"clear-btn",onClick:f,title:"Clear Search",children:(0,d.jsx)("i",{className:"fas fa-times"})})]})]})]}),(0,d.jsxs)("div",{className:"header-actions",children:[(0,d.jsxs)("a",{href:"#wishlist",onClick:e=>{e.preventDefault(),x("wishlist")},children:[(0,d.jsx)("i",{className:"fas fa-heart"})," ",(0,d.jsx)("span",{children:"Wishlist"})," ",(0,d.jsx)("span",{className:"wishlist-count",children:c})]}),(0,d.jsxs)("a",{href:"#cart",onClick:e=>{e.preventDefault(),x("cart")},children:[(0,d.jsx)("i",{className:"fas fa-shopping-cart"})," ",(0,d.jsx)("span",{children:"Cart"})," ",(0,d.jsx)("span",{className:"cart-count",children:l})]}),o.isAuthenticated?(0,d.jsxs)("div",{className:"user-menu-container",children:[(0,d.jsxs)("span",{className:"user-greeting",onClick:()=>{m(!h)},style:{cursor:"pointer"},children:["Hi, ",o.details.name," ",(0,d.jsx)("i",{className:"fas fa-chevron-down ".concat(h?"open":"")})]}),h&&(0,d.jsxs)("div",{className:"user-dropdown",children:[(0,d.jsxs)("a",{href:"#profile",onClick:e=>{e.preventDefault(),x("profile")},children:[(0,d.jsx)("i",{className:"fas fa-user-circle"})," My Profile"]}),(0,d.jsxs)("a",{href:"#logout",onClick:e=>{e.preventDefault(),i()},children:[(0,d.jsx)("i",{className:"fas fa-sign-out-alt"})," Logout"]})]})]}):(0,d.jsxs)("a",{href:"#login",onClick:e=>{e.preventDefault(),x("login")},children:[(0,d.jsx)("i",{className:"fas fa-user"})," ",(0,d.jsx)("span",{children:"Login"})]}),(0,d.jsx)("div",{className:"language-selector",children:(0,d.jsx)("select",{id:"language-select",children:(0,d.jsx)("option",{value:"en",children:"English"})})})]})]})})},D=e=>{let{navigateTo:t}=e;const a=(e,a)=>{if(e.preventDefault(),"services"===a){t("home");const e=document.getElementById("services");e&&e.scrollIntoView({behavior:"smooth"})}else if(t(a),"home"===a){const t=e.currentTarget.getAttribute("href").substring(1),a=document.getElementById(t);a&&a.scrollIntoView({behavior:"smooth"})}},r=(e,a)=>{e.preventDefault(),(e=>{let a="";switch(e){case"Food & Dining":a="food";break;case"Medicines":a="medicines";break;case"Automotive":a="automotive";break;case"Services":a="services";break;case"Home Decor":a="homedecor";break;case"Clothing":a="clothes";break;case"Beauty Products":a="beauty";break;case"Musical Instruments":a="musical";break;case"Bags":a="bag";break;case"Kitchen Products":a="kitchenproduct";break;case"Organic Veggies & Fruits":a="organic";break;default:a=e.toLowerCase().replace(/ & /g,"-").replace(/ /g,"")}t(a)})(a.name)};return(0,d.jsx)("nav",{children:(0,d.jsx)("div",{className:"container",children:(0,d.jsxs)("ul",{className:"nav-links",children:[(0,d.jsx)("li",{children:(0,d.jsxs)("a",{href:"#home",onClick:e=>a(e,"home"),className:"nav-active",children:[(0,d.jsx)("i",{className:"fas fa-home"})," ",(0,d.jsx)("span",{children:"Home"})]})}),(0,d.jsx)("li",{children:(0,d.jsxs)("a",{href:"#products",onClick:e=>a(e,"home"),children:[(0,d.jsx)("i",{className:"fas fa-shopping-bag"})," ",(0,d.jsx)("span",{children:"Products"})]})}),(0,d.jsx)("li",{children:(0,d.jsxs)("a",{href:"#services",onClick:e=>a(e,"services"),children:[(0,d.jsx)("i",{className:"fas fa-tools"})," ",(0,d.jsx)("span",{children:"Services"})]})}),(0,d.jsx)("li",{children:(0,d.jsxs)("a",{href:"#businesses",onClick:e=>a(e,"home"),children:[(0,d.jsx)("i",{className:"fas fa-store"})," ",(0,d.jsx)("span",{children:"Businesses"})]})}),(0,d.jsxs)("li",{className:"category-dropdown",children:[(0,d.jsxs)("a",{className:"category-dropdown-toggle",children:[(0,d.jsx)("i",{className:"fas fa-list"})," ",(0,d.jsx)("span",{children:"Categories"})]}),(0,d.jsx)("div",{className:"category-dropdown-menu",id:"category-dropdown-menu",children:[{name:"Food & Dining"},{name:"Medicines"},{name:"Automotive"},{name:"Services"},{name:"Jewellery"},{name:"Clothes"},{name:"Beauty Products"},{name:"Groceries"},{name:"Fruits"},{name:"Books"},{name:"Petfood"},{name:"Musical Instruments"},{name:"Footwear"},{name:"Home Furniture"},{name:"Bags"},{name:"Kitchen Products"},{name:"Organic Veggies & Fruits"},{name:"Sports & Fitness"},{name:"Watches"},{name:"Home Decor"}].map(e=>(0,d.jsx)("a",{"data-category":e.name,onClick:t=>r(t,e),children:e.name},e.name))})]})]})})})},B=[{image:"/IMAGES/41628-4-groceries-hd-image-free-png.png",alt:"Shopping Experience",title:"Fresh Grocery Delivered",desc:"Get fresh produce and daily essentials delivered to your doorstep",buttonText:"Shop Grocery",link:"#categories"},{image:"/IMAGES/pngtree-this-is-an-animation-showing-a-grocery-store-image_2617237.jpg",alt:"Fresh Products",title:"Local Businesses Near You",desc:"Support local vendors and discover unique products in your area",buttonText:"Explore Businesses",link:"#businesses"},{image:"/IMAGES/grocery-hd-k-wallpaper-stock-photographic-image-ai-generated-images-bring-plethora-benefits-to-life-offering-boundless-285786385.webp",alt:"Local Businesses",title:"Fast & Reliable Delivery",desc:"Quick delivery services with real-time tracking",buttonText:"Learn More",link:"#services"}],R=e=>{let{navigateTo:t}=e;const[a,s]=(0,r.useState)(0),n=(0,r.useCallback)(()=>{s(e=>e===B.length-1?0:e+1)},[]);(0,r.useEffect)(()=>{const e=setInterval(n,5e3);return()=>clearInterval(e)},[n]);return(0,d.jsx)("section",{className:"hero",id:"hero",children:(0,d.jsxs)("div",{className:"hero-carousel",children:[(0,d.jsx)("div",{className:"carousel-slides",style:{transform:"translateX(-".concat(100*a,"%)")},children:B.map((e,a)=>(0,d.jsxs)("div",{className:"carousel-slide",children:[(0,d.jsx)("img",{src:e.image,alt:e.alt}),(0,d.jsxs)("div",{className:"carousel-content",children:[(0,d.jsx)("h2",{children:e.title}),(0,d.jsx)("p",{children:e.desc}),(0,d.jsx)("a",{href:e.link,className:"btn hero-btn",onClick:a=>((e,a)=>{if(e.preventDefault(),a.startsWith("#")){const e=a.substring(1),t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})}else t(a)})(a,e.link),children:e.buttonText})]})]},a))}),(0,d.jsx)("button",{className:"carousel-nav carousel-prev",onClick:()=>{s(e=>0===e?B.length-1:e-1)},children:(0,d.jsx)("i",{className:"fas fa-chevron-left"})}),(0,d.jsx)("button",{className:"carousel-nav carousel-next",onClick:n,children:(0,d.jsx)("i",{className:"fas fa-chevron-right"})}),(0,d.jsx)("div",{className:"carousel-indicators",children:B.map((e,t)=>(0,d.jsx)("div",{className:"carousel-indicator ".concat(a===t?"active":""),onClick:()=>s(t)},t))})]})})},L=e=>{let{navigateTo:t}=e;const a=(new Date).getFullYear(),r=e=>{t(e)};return(0,d.jsx)("footer",{className:"footer",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsxs)("div",{className:"footer-content",children:[(0,d.jsxs)("div",{className:"footer-brand",children:[(0,d.jsx)("h3",{children:"ShopNest"}),(0,d.jsx)("p",{children:"Your one-stop multi-vendor e-commerce solution. Shop from local businesses with delivery or pickup options."}),(0,d.jsxs)("div",{className:"social-links",children:[(0,d.jsx)("a",{href:"#","aria-label":"Facebook",children:(0,d.jsx)("i",{className:"fab fa-facebook-f"})}),(0,d.jsx)("a",{href:"#","aria-label":"Twitter",children:(0,d.jsx)("i",{className:"fab fa-twitter"})}),(0,d.jsx)("a",{href:"#","aria-label":"Instagram",children:(0,d.jsx)("i",{className:"fab fa-instagram"})}),(0,d.jsx)("a",{href:"#","aria-label":"LinkedIn",children:(0,d.jsx)("i",{className:"fab fa-linkedin-in"})})]})]}),(0,d.jsxs)("div",{className:"footer-links",children:[(0,d.jsxs)("div",{className:"footer-section",children:[(0,d.jsx)("h4",{children:"Quick Links"}),(0,d.jsxs)("ul",{children:[(0,d.jsx)("li",{children:(0,d.jsx)("button",{onClick:()=>r("home"),children:"Home"})}),(0,d.jsx)("li",{children:(0,d.jsx)("button",{onClick:()=>r("categories"),children:"Products"})}),(0,d.jsx)("li",{children:(0,d.jsx)("button",{onClick:()=>r("services"),children:"Services"})}),(0,d.jsx)("li",{children:(0,d.jsx)("button",{onClick:()=>r("businesses"),children:"Businesses"})})]})]}),(0,d.jsxs)("div",{className:"footer-section",children:[(0,d.jsx)("h4",{children:"Customer Support"}),(0,d.jsxs)("ul",{children:[(0,d.jsx)("li",{children:(0,d.jsx)("button",{onClick:()=>r("help"),children:"Help Center"})}),(0,d.jsx)("li",{children:(0,d.jsx)("button",{onClick:()=>r("faqs"),children:"FAQs"})}),(0,d.jsx)("li",{children:(0,d.jsx)("button",{onClick:()=>r("contact"),children:"Contact Us"})}),(0,d.jsx)("li",{children:(0,d.jsx)("button",{onClick:()=>r("returns"),children:"Return Policy"})}),(0,d.jsx)("li",{children:(0,d.jsx)("button",{onClick:()=>r("privacy"),children:"Privacy Policy"})})]})]}),(0,d.jsxs)("div",{className:"footer-section",children:[(0,d.jsx)("h4",{children:"Contact Info"}),(0,d.jsxs)("div",{className:"contact-info",children:[(0,d.jsxs)("div",{className:"contact-item",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,d.jsx)("span",{children:"123 Market St, City, Country"})]}),(0,d.jsxs)("div",{className:"contact-item",children:[(0,d.jsx)("i",{className:"fas fa-phone"}),(0,d.jsx)("span",{children:"+1 234 567 8900"})]}),(0,d.jsxs)("div",{className:"contact-item",children:[(0,d.jsx)("i",{className:"fas fa-envelope"}),(0,d.jsx)("span",{children:"support@shopnest.com"})]})]})]})]})]}),(0,d.jsx)("div",{className:"footer-bottom",children:(0,d.jsxs)("div",{className:"footer-bottom-content",children:[(0,d.jsxs)("p",{children:["\xa9 ",a," ShopNest. All rights reserved."]}),(0,d.jsxs)("div",{className:"footer-bottom-links",children:[(0,d.jsx)("button",{onClick:()=>r("terms"),children:"Terms of Service"}),(0,d.jsx)("span",{children:"|"}),(0,d.jsx)("button",{onClick:()=>r("privacy"),children:"Privacy Policy"})]})]})})]})})},W=e=>{let{navigateTo:t,searchQuery:a,category:s,categoryDisplayName:n,targetPage:i}=e;const[o,l]=(0,r.useState)([]),[u,p]=(0,r.useState)(!0),[h,m]=(0,r.useState)(null),[g,f]=(0,r.useState)([]),[x,j]=(0,r.useState)(0),v={"Food & Dining":["../IMAGES/a3e06c8f7b389ecacdbcd59f2b29fc17.jpg","../IMAGES/pngtree-salad-with-vegetables-in-a-black-bowl-image_2962609.jpg","../IMAGES/arabic-shawarma-with-fries-ketchup-raita-served-dish-isolated-grey-background-side-view-fastfood_689047-1158.jpg"],Medicines:["/IMAGES/medicine-hero-1.jpg","/IMAGES/medicine-hero-2.jpg","/IMAGES/medicine-hero-3.jpg"],default:["https://via.placeholder.com/1200x400?text=Explore+Vendors","https://via.placeholder.com/1200x400?text=Best+Deals","https://via.placeholder.com/1200x400?text=Quality+Products"]},y=v[s]||v.default,b=(0,r.useCallback)((e,t,a,r)=>{const s=e=>e*(Math.PI/180),n=s(a-e),i=s(r-t),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(s(e))*Math.cos(s(a))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},[]);(0,r.useEffect)(()=>{(async()=>{try{p(!0);const e=encodeURIComponent(s),t=await fetch("http://localhost:5000/api/products/category/".concat(e));if(!t.ok)throw new Error("Failed to fetch vendors");const a=await t.json();let r=a;"jewellery"===s.toLowerCase()?(r=a.filter(e=>{var t;return"Jewellery"===e.category||"jewellery"===e.category||"Mens Jewellery"===e.category||"Kids Jewellery"===e.category||"jewellery"===(null===(t=e.category)||void 0===t?void 0:t.toLowerCase())}),console.log("\ud83d\udcca Jewellery Safety Filter:",a.length,"\u2192",r.length,"products")):(r=a.filter(e=>{var t;return(null===(t=e.category)||void 0===t?void 0:t.toLowerCase())===s.toLowerCase()}),console.log("\ud83d\udcca Category Safety Filter:",a.length,"\u2192",r.length,"products"));const n=new Map;r.forEach(e=>{if(e.vendor&&!n.has(e.vendor))n.set(e.vendor,{name:e.vendor,image:e.image||e.vendorImage,lat:e.lat,lon:e.lon,type:"Services"===e.category?"Services":"General Business"===e.category?"General Business":e.subcategory||e.type||"General",productCount:1});else if(e.vendor){n.get(e.vendor).productCount+=1}});const i=Array.from(n.values());if(navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const t=e.coords.latitude,a=e.coords.longitude,r=i.map(e=>{if(e.lat&&e.lon){const r=b(t,a,e.lat,e.lon);return c(c({},e),{},{distance:"".concat(r.toFixed(1)," km")})}return c(c({},e),{},{distance:"Within 5km"})});l(r)},e=>{console.warn("Geolocation error: ".concat(e.message));const t=i.map(e=>c(c({},e),{},{distance:"Within 5km"}));l(t)});else{console.warn("Geolocation is not supported by this browser.");const e=i.map(e=>c(c({},e),{},{distance:"Within 5km"}));l(e)}m(null)}catch(e){console.error("Error fetching vendors:",e),m("Failed to load vendors. Please try again later."),l([])}finally{p(!1)}})()},[s,b]),(0,r.useEffect)(()=>{const e=setInterval(()=>{j(e=>(e+1)%y.length)},5e3);return()=>clearInterval(e)},[y.length]),(0,r.useEffect)(()=>{if(!a||!a.trim())return void f(o);const e=a.toLowerCase().trim(),t=o.filter(t=>{var a,r;const s=null===(a=t.name)||void 0===a?void 0:a.toLowerCase().includes(e),n=null===(r=t.type)||void 0===r?void 0:r.toLowerCase().includes(e);return s||n});f(t)},[a,o]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("section",{className:"hero",id:"hero",children:(0,d.jsx)("div",{className:"hero-carousel",children:(0,d.jsx)("div",{className:"carousel-slides",style:{transform:"translateX(-".concat(100*x,"%)")},children:y.map((e,t)=>(0,d.jsx)("div",{className:"carousel-slide",children:(0,d.jsx)("img",{src:e,alt:"".concat(s," slide ").concat(t+1)})},t))})})}),(0,d.jsx)("section",{className:"section",id:"vendors",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsxs)("div",{className:"section-title",children:[(0,d.jsxs)("h2",{children:[(e=>({"Food & Dining":"\ud83c\udf7d\ufe0f",Medicines:"\ud83d\udc8a",Automotive:"\ud83d\ude97",Services:"\ud83d\udd27",Jewellery:"\ud83d\udc8d",Clothes:"\ud83d\udc55","Beauty Products":"\ud83d\udc84",Grocery:"\ud83d\uded2",Fruits:"\ud83c\udf4e",Books:"\ud83d\udcda","Pet Food":"\ud83d\udc3e","Musical Instruments":"\ud83c\udfb8",Footwear:"\ud83d\udc5f","Home Furniture":"\ud83d\udecb\ufe0f",Bags:"\ud83d\udc5c","Kitchen Products":"\ud83c\udf73","Organic Veggies&Fruits":"\ud83e\udd6c","Sports & Fitness":"\u26bd",Watches:"\u231a","Home Decor":"\ud83c\udfe0"}[e]||"\ud83c\udfea"))(s)," ",n," Vendors"]}),(0,d.jsx)("p",{children:"Select a vendor to browse their products"}),a&&(0,d.jsxs)("p",{className:"search-results-info",children:[g.length," result",1!==g.length?"s":"",' found for "',a,'"']})]}),u&&(0,d.jsx)("div",{className:"loading-message",children:(0,d.jsx)("p",{children:"Loading vendors..."})}),h&&(0,d.jsx)("div",{className:"error-message",children:(0,d.jsx)("p",{children:h})}),!u&&!h&&0===g.length&&a&&(0,d.jsx)("div",{className:"no-results-message",children:(0,d.jsxs)("p",{children:['No vendors found for "',a,'". Try a different search term.']})}),!u&&!h&&0===g.length&&!a&&(0,d.jsx)("div",{className:"no-results-message",children:(0,d.jsx)("p",{children:"No vendors available in this category yet."})}),!u&&!h&&g.length>0&&(0,d.jsx)("div",{className:"vendor-grid",children:g.map((e,a)=>(0,d.jsxs)("div",{className:"vendor-card",onClick:()=>{return a=e.name,void t(i,{vendor:a});var a},children:[(0,d.jsx)("div",{className:"vendor-image",children:(0,d.jsx)("img",{src:e.image||"https://via.placeholder.com/300x200?text=Vendor",alt:e.name,onError:e=>e.target.src="https://via.placeholder.com/300x200?text=Vendor"})}),(0,d.jsxs)("div",{className:"vendor-info",children:[(0,d.jsx)("h3",{children:e.name}),(0,d.jsx)("div",{className:"vendor-details",children:(0,d.jsx)("span",{className:"vendor-type",children:e.type})}),(0,d.jsxs)("div",{className:"vendor-meta",children:[(0,d.jsxs)("span",{className:"vendor-distance",children:["\ud83d\udccd ",e.distance]}),(0,d.jsxs)("span",{className:"vendor-items",children:[e.productCount," items"]})]})]})]},a))})]})})]})},z=e=>{let{vendorName:t,sellerId:a,onViewProduct:s,onAddToCart:n,onToggleWishlist:i,wishlistItems:o,cartItems:l,navigateTo:c}=e;const[u,p]=(0,r.useState)([]),[h,m]=(0,r.useState)(!0),[g,f]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{if(!t&&!a)return p([]),void m(!1);m(!0);try{let e;e=a?"http://localhost:5000/api/products?sellerId=".concat(encodeURIComponent(a)):"http://localhost:5000/api/products?vendor=".concat(encodeURIComponent(t),"&status=approved");const r=await fetch(e);if(!r.ok)throw new Error("Failed to fetch vendor products");const s=await r.json();p(Array.isArray(s)?s:[]),f(null)}catch(e){console.error("Error fetching vendor products:",e),f("Unable to load vendor products"),p([])}finally{m(!1)}})()},[t,a]);return(0,d.jsxs)("div",{className:"vendor-store-page container",children:[(0,d.jsx)("div",{className:"vendor-store-header",children:(0,d.jsxs)("div",{className:"header-top",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:t||"Vendor Store"}),(0,d.jsxs)("p",{children:["Products by ",t]})]}),(0,d.jsxs)("button",{onClick:()=>{a?(console.log("Visiting seller dashboard for sellerId:",a),window.dispatchEvent(new CustomEvent("visitSellerDashboard",{detail:{sellerId:a}}))):alert("Seller information not available")},className:"visit-seller-btn",children:[(0,d.jsx)("i",{className:"fas fa-tachometer-alt"})," Visit Seller Dashboard"]})]})}),h&&(0,d.jsx)("div",{className:"loading",children:"Loading products..."}),g&&(0,d.jsx)("div",{className:"error",children:g}),!h&&!g&&0===u.length&&(0,d.jsx)("div",{className:"no-products",children:"No approved products available for this vendor."}),(0,d.jsx)("div",{className:"vendor-products-grid",children:u.map(e=>{var t,a;return(0,d.jsxs)("div",{className:"vendor-product-card",children:[(0,d.jsx)("img",{src:(a=e.image,a?a.startsWith("http")?a:a.includes("-")&&/^\d+-/.test(a)?"http://localhost:5000/uploads/".concat(a):"/IMAGES/".concat(a):"https://via.placeholder.com/200x150?text=No+Image"),alt:e.name,onError:e=>e.target.src="https://via.placeholder.com/200x150?text=No+Img"}),(0,d.jsxs)("div",{className:"vendor-product-body",children:[(0,d.jsx)("h4",{children:e.name}),(0,d.jsxs)("p",{className:"vendor-product-vendor",children:["by ",e.vendor]}),(0,d.jsxs)("div",{className:"vendor-product-price",children:["\u20b9",null===(t=e.price)||void 0===t?void 0:t.toLocaleString()]}),(0,d.jsxs)("div",{className:"vendor-product-actions",children:[(0,d.jsx)("button",{onClick:()=>s&&s(e),className:"btn",children:"View"}),(0,d.jsx)("button",{onClick:()=>n&&n(e),className:"btn secondary",children:"Add to Cart"}),(0,d.jsx)("button",{onClick:()=>i&&i(e),className:"wishlist ".concat(o&&o.find(t=>(t._id||t.id)===(e._id||e.id))?"active":""),children:"\u2665"})]})]})]},e._id||e.id)})})]})},_=e=>{let{product:t,onAddToCart:a,onToggleWishlist:r,isWishlisted:s,onViewProduct:n,cartItems:i,navigateTo:o}=e;return(0,d.jsxs)("div",{className:"product-card",draggable:"true",onClick:e=>{e.target.closest("button")||n(t)},style:{cursor:"pointer"},children:[(0,d.jsxs)("div",{style:{position:"relative"},children:[(0,d.jsx)("img",{src:t.image?t.image.startsWith("http")?t.image:t.image.includes("-")&&/^\d+-\w+\./.test(t.image)?"http://localhost:5000/uploads/".concat(t.image):"/IMAGES/".concat(t.image):"https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+")),alt:t.name,className:"product-img",onError:e=>{e.target.src="https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+"))}}),t.warranty&&(0,d.jsxs)("div",{style:{position:"absolute",top:"8px",left:"8px",backgroundColor:"#4CAF50",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"4px",zIndex:10},children:[(0,d.jsx)("i",{className:"fas fa-shield-alt",style:{fontSize:"10px"}}),t.warranty]}),t.expiryDate&&(0,d.jsxs)("div",{style:{position:"absolute",top:"8px",right:"8px",backgroundColor:"#ff9800",color:"white",padding:"4px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"4px",zIndex:10},children:[(0,d.jsx)("i",{className:"fas fa-calendar-alt",style:{fontSize:"10px"}}),"Exp: ",(e=>{if(!e)return null;return new Date(e).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})})(t.expiryDate)]})]}),(0,d.jsxs)("div",{className:"product-info",children:[(0,d.jsx)("h3",{className:"product-title",children:t.name}),(0,d.jsxs)("div",{className:"product-vendor",children:[(0,d.jsx)("i",{className:"fas fa-store"})," ",(0,d.jsx)("span",{children:t.vendor})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"})," ",(0,d.jsx)("span",{children:t.distance||"Calculating..."})]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price]}),(0,d.jsxs)("div",{className:"product-actions",children:[(0,d.jsx)("button",{className:"like-btn",onClick:()=>r(t),style:{color:s?"var(--secondary)":"var(--gray)"},children:(0,d.jsx)("i",{className:s?"fas fa-heart":"far fa-heart"})}),i&&i.some(e=>(e._id||e.id)===(t._id||t.id))?(0,d.jsx)("button",{className:"btn go-to-cart",onClick:()=>o("cart"),children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn add-to-cart",onClick:()=>a(t),children:"Add to Cart"})]})]})]})},G=e=>{let{wishlistItems:t,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,cartItems:i,navigateTo:o,searchQuery:l,activePage:u,selectedVendor:p}=e;const[h,m]=(0,r.useState)([]),[g,f]=(0,r.useState)(!0),[x,j]=(0,r.useState)(null),[v,y]=(0,r.useState)(0),[b,N]=(0,r.useState)([]),[w,k]=(0,r.useState)(""),[S,C]=(0,r.useState)(!1),[P,T]=(0,r.useState)({priceRange:{min:"",max:""},foodType:"",sortBy:"",store:""}),M=["../IMAGES/a3e06c8f7b389ecacdbcd59f2b29fc17.jpg","../IMAGES/pngtree-salad-with-vegetables-in-a-black-bowl-image_2962609.jpg","../IMAGES/arabic-shawarma-with-fries-ketchup-raita-served-dish-isolated-grey-background-side-view-fastfood_689047-1158.jpg"];(0,r.useEffect)(()=>{const e=setInterval(()=>{y(e=>(e+1)%M.length)},5e3);return()=>clearInterval(e)},[M.length]);const A=(0,r.useCallback)((e,t,a,r)=>{const s=e=>e*(Math.PI/180),n=s(a-e),i=s(r-t),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(s(e))*Math.cos(s(a))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},[]);(0,r.useEffect)(()=>{(async()=>{try{f(!0);const e=await fetch("http://localhost:5000/api/products/category/Food%20%26%20Dining");if(!e.ok)throw new Error("Failed to fetch products");const t=await e.json();let a=t.filter(e=>{var t;return"Food & Dining"===e.category||"food & dining"===e.category||"food & dining"===(null===(t=e.category)||void 0===t?void 0:t.toLowerCase())});if(console.log("\ud83d\udcca Food & Dining Safety Filter:",t.length,"\u2192",a.length,"products"),p&&(a=a.filter(e=>e.vendor===p),k(p)),navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const t=e.coords.latitude,r=e.coords.longitude,s=a.map(e=>{if(e.lat&&e.lon){const a=A(t,r,e.lat,e.lon);return c(c({},e),{},{distance:"".concat(a.toFixed(1)," km away"),distanceValue:parseFloat(a.toFixed(1))})}return c(c({},e),{},{distance:"Distance N/A",distanceValue:999})});m(s),N(s)},e=>{console.warn("Geolocation error: ".concat(e.message));const t=a.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));m(t),N(t)});else{console.warn("Geolocation is not supported by this browser.");const e=a.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));m(e),N(e)}j(null)}catch(e){console.error("Error fetching products:",e),j("Failed to load products. Please try again later."),m([]),N([])}finally{f(!1)}})()},[p,A]),(0,r.useEffect)(()=>{if(0===h.length)return;let e=[...h];if(p&&(e=e.filter(e=>e.vendor===p)),l&&l.trim()){const t=l.toLowerCase().trim();e=e.filter(e=>{var a,r,s,n;return(null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(r=e.vendor)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(s=e.category)||void 0===s?void 0:s.toLowerCase().includes(t))||(null===(n=e.subcategory)||void 0===n?void 0:n.toLowerCase().includes(t))})}if(P.priceRange.min&&(e=e.filter(e=>e.price>=parseFloat(P.priceRange.min))),P.priceRange.max&&(e=e.filter(e=>e.price<=parseFloat(P.priceRange.max))),P.foodType&&(e=e.filter(e=>e.foodType===P.foodType)),P.store&&(e=e.filter(e=>{var t;return null===(t=e.vendor)||void 0===t?void 0:t.toLowerCase().includes(P.store.toLowerCase())})),P.sortBy)switch(P.sortBy){case"price-low":e.sort((e,t)=>e.price-t.price);break;case"price-high":e.sort((e,t)=>t.price-e.price);break;case"distance":e.sort((e,t)=>(e.distanceValue||999)-(t.distanceValue||999));break;case"name-az":e.sort((e,t)=>e.name.localeCompare(t.name));break;case"name-za":e.sort((e,t)=>t.name.localeCompare(e.name))}N(e)},[l,h,p,P]);const I=(e,t)=>{T(a=>c(c({},a),{},{[e]:t}))},E=(e,t)=>{T(a=>c(c({},a),{},{priceRange:c(c({},a.priceRange),{},{[e]:t})}))},F=()=>{let e=0;return(P.priceRange.min||P.priceRange.max)&&e++,P.foodType&&e++,P.sortBy&&e++,P.store&&e++,e};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("section",{className:"hero",id:"hero",children:(0,d.jsx)("div",{className:"hero-carousel",children:(0,d.jsx)("div",{className:"carousel-slides",style:{transform:"translateX(-".concat(100*v,"%)")},children:M.map((e,t)=>(0,d.jsx)("div",{className:"carousel-slide",children:(0,d.jsx)("img",{src:e,alt:"Food slide ".concat(t+1)})},t))})})}),(0,d.jsx)("section",{className:"section",id:"restaurants",children:(0,d.jsxs)("div",{className:"container",children:[p&&(0,d.jsxs)("div",{className:"vendor-header",children:[(0,d.jsx)("button",{className:"back-button",onClick:()=>{o("food-dining-vendors")},children:"\u2190 Back to Restaurants"}),(0,d.jsx)("h3",{className:"vendor-title",children:w})]}),(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:p?"Menu":"Food & Dining"})}),!g&&!x&&(0,d.jsxs)("div",{className:"filter-section",children:[(0,d.jsxs)("button",{className:"filter-toggle-btn",onClick:()=>C(!S),children:[(0,d.jsx)("i",{className:"fas fa-filter"}),"Filters ",F()>0&&"(".concat(F(),")")]}),F()>0&&(0,d.jsxs)("button",{className:"clear-filters-btn",onClick:()=>{T({priceRange:{min:"",max:""},foodType:"",sortBy:"",store:""})},children:[(0,d.jsx)("i",{className:"fas fa-times"})," Clear All"]}),l&&(0,d.jsxs)("div",{className:"search-results-info",children:[b.length," result",1!==b.length?"s":""," found",p?" in ".concat(p):"",' for "',l,'"']})]}),S&&(0,d.jsx)("div",{className:"filter-panel",children:(0,d.jsxs)("div",{className:"filter-grid",children:[(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-rupee-sign"})," Price Range"]}),(0,d.jsxs)("div",{className:"price-range-inputs",children:[(0,d.jsx)("input",{type:"number",placeholder:"Min",value:P.priceRange.min,onChange:e=>E("min",e.target.value)}),(0,d.jsx)("span",{children:"to"}),(0,d.jsx)("input",{type:"number",placeholder:"Max",value:P.priceRange.max,onChange:e=>E("max",e.target.value)})]})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-leaf"})," Food Type"]}),(0,d.jsxs)("select",{value:P.foodType,onChange:e=>I("foodType",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"All Types"}),(0,d.jsx)("option",{value:"Veg",children:"Veg"}),(0,d.jsx)("option",{value:"Non-Veg",children:"Non-Veg"}),(0,d.jsx)("option",{value:"Vegan",children:"Vegan"}),(0,d.jsx)("option",{value:"Egg",children:"Egg"})]})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-store"})," Restaurant"]}),(0,d.jsx)("input",{type:"text",placeholder:"Search restaurant",value:P.store,onChange:e=>I("store",e.target.value)})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-sort"})," Sort By"]}),(0,d.jsxs)("select",{value:P.sortBy,onChange:e=>I("sortBy",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"Default"}),(0,d.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,d.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,d.jsx)("option",{value:"distance",children:"Distance: Nearest First"}),(0,d.jsx)("option",{value:"name-az",children:"Name: A to Z"}),(0,d.jsx)("option",{value:"name-za",children:"Name: Z to A"})]})]})]})}),g&&(0,d.jsx)("div",{className:"loading-message",children:(0,d.jsx)("p",{children:"Loading delicious food options..."})}),x&&(0,d.jsx)("div",{className:"error-message",children:(0,d.jsx)("p",{children:x})}),!g&&!x&&0===b.length&&l&&(0,d.jsx)("div",{className:"no-results-message",children:(0,d.jsxs)("p",{children:['No products found for "',l,'". Try a different search term.']})}),!g&&!x&&0===b.length&&!l&&p&&(0,d.jsx)("div",{className:"no-results-message",children:(0,d.jsx)("p",{children:"This restaurant hasn't added any menu items yet."})}),!g&&!x&&b.length>0&&(0,d.jsx)("div",{className:"product-grid",children:b.map(e=>{return(0,d.jsx)(_,{product:e,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,isWishlisted:(r=e._id||e.id,t.some(e=>(e._id||e.id)===r)),cartItems:i,navigateTo:o},e._id||e.id);var r})})]})})]})},V=e=>{let{product:t,onAddToCart:a,onToggleWishlist:r,isWishlisted:s,onViewProduct:n,cartItems:i,navigateTo:o}=e;return(0,d.jsxs)("div",{className:"product-card",draggable:"true",onClick:e=>{e.target.closest("button")||e.target.closest("a")||n(t)},style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:t.image?t.image.startsWith("http")?t.image:t.image.includes("-")?"http://localhost:5000/uploads/".concat(t.image):"/IMAGES/".concat(t.image):"https://via.placeholder.com/200x200?text=".concat(t.name?t.name.replace(/\s/g,"+"):"No+Image"),alt:t.name,className:"product-img",onError:e=>{e.target.src="https://via.placeholder.com/200x200?text=".concat(t.name?t.name.replace(/\s/g,"+"):"No+Image")}}),(0,d.jsxs)("div",{className:"product-info",children:[(0,d.jsx)("h3",{className:"product-title",children:t.name}),t.type&&(0,d.jsx)("div",{className:"medicine-type",children:t.type}),(0,d.jsxs)("div",{className:"product-vendor",children:[(0,d.jsx)("i",{className:"fas fa-clinic-medical"})," ",(0,d.jsx)("span",{children:t.vendor})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"})," ",(0,d.jsx)("span",{children:t.distance||"N/A"})]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price]}),(0,d.jsxs)("div",{className:"product-actions",children:[(0,d.jsx)("button",{className:"like-btn",onClick:()=>r(t),style:{color:s?"var(--secondary)":"var(--gray)"},children:(0,d.jsx)("i",{className:s?"fas fa-heart":"far fa-heart"})}),i&&i.some(e=>(e._id||e.id)===(t._id||t.id))?(0,d.jsx)("button",{className:"btn go-to-cart",onClick:()=>o("cart"),children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn add-to-cart",onClick:e=>{e.stopPropagation(),a(t)},children:"Add to Cart"})]})]})]})},O=e=>{let{wishlistItems:t,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,cartItems:i,navigateTo:o,searchQuery:l,selectedVendor:u}=e;const[p,h]=(0,r.useState)([]),[m,g]=(0,r.useState)(!0),[f,x]=(0,r.useState)(null),[j,v]=(0,r.useState)(0),[y,b]=(0,r.useState)([]),[N,w]=(0,r.useState)(""),[k,S]=(0,r.useState)(!1),[C,P]=(0,r.useState)({priceRange:{min:"",max:""},store:"",sortBy:""}),T=["/IMAGES/medicine-hero-1.jpg","/IMAGES/medicine-hero-2.jpg","/IMAGES/medicine-hero-3.jpg"];(0,r.useEffect)(()=>{const e=setInterval(()=>{v(e=>(e+1)%T.length)},5e3);return()=>clearInterval(e)},[T.length]);const M=(0,r.useCallback)((e,t,a,r)=>{const s=e=>e*(Math.PI/180),n=s(a-e),i=s(r-t),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(s(e))*Math.cos(s(a))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},[]);(0,r.useEffect)(()=>{(async()=>{try{g(!0);const e=await fetch("http://localhost:5000/api/products/category/Medicines");if(!e.ok)throw new Error("Failed to fetch products");const t=await e.json();if(u&&w(u),navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const a=e.coords.latitude,r=e.coords.longitude,s=t.map(e=>{if(e.lat&&e.lon){const t=M(a,r,e.lat,e.lon);return c(c({},e),{},{distance:"".concat(t.toFixed(1)," km away"),distanceValue:parseFloat(t.toFixed(1))})}return c(c({},e),{},{distance:"Distance N/A",distanceValue:999})});h(s),b(s)},e=>{console.warn("Geolocation error: ".concat(e.message,"."));const a=t.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(a),b(a)});else{console.warn("Geolocation is not supported by this browser.");const e=t.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(e),b(e)}x(null)}catch(e){console.error("Error fetching products:",e),x("Failed to load products. Please try again later."),h([]),b([])}finally{g(!1)}})()},[u,M]),(0,r.useEffect)(()=>{if(0===p.length)return;let e=[...p];if(u&&(e=e.filter(e=>e.vendor===u)),l&&l.trim()){const t=l.toLowerCase().trim();e=e.filter(e=>{var a,r,s;return(null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(r=e.vendor)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(s=e.type)||void 0===s?void 0:s.toLowerCase().includes(t))})}if(C.priceRange.min&&(e=e.filter(e=>e.price>=parseFloat(C.priceRange.min))),C.priceRange.max&&(e=e.filter(e=>e.price<=parseFloat(C.priceRange.max))),C.store&&(e=e.filter(e=>{var t;return null===(t=e.vendor)||void 0===t?void 0:t.toLowerCase().includes(C.store.toLowerCase())})),C.sortBy)switch(C.sortBy){case"price-low":e.sort((e,t)=>e.price-t.price);break;case"price-high":e.sort((e,t)=>t.price-e.price);break;case"distance":e.sort((e,t)=>(e.distanceValue||999)-(t.distanceValue||999));break;case"name-az":e.sort((e,t)=>e.name.localeCompare(t.name));break;case"name-za":e.sort((e,t)=>t.name.localeCompare(e.name))}b(e)},[l,p,u,C]);const A=(e,t)=>{P(a=>c(c({},a),{},{[e]:t}))},I=(e,t)=>{P(a=>c(c({},a),{},{priceRange:c(c({},a.priceRange),{},{[e]:t})}))},E=()=>{let e=0;return(C.priceRange.min||C.priceRange.max)&&e++,C.store&&e++,C.sortBy&&e++,e};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("section",{className:"hero",id:"hero",children:(0,d.jsx)("div",{className:"hero-carousel",children:(0,d.jsx)("div",{className:"carousel-slides",style:{transform:"translateX(-".concat(100*j,"%)")},children:T.map((e,t)=>(0,d.jsx)("div",{className:"carousel-slide",children:(0,d.jsx)("img",{src:e,alt:"Medicine slide ".concat(t+1)})},t))})})}),(0,d.jsx)("section",{id:"medicine",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[u&&(0,d.jsxs)("div",{className:"vendor-header",children:[(0,d.jsx)("button",{className:"back-button",onClick:()=>{o("medicines")},children:"\u2190 Back to Vendors"}),(0,d.jsx)("h3",{className:"vendor-title",children:N})]}),(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:u?"Products":"Medicines"})}),!m&&!f&&(0,d.jsxs)("div",{className:"filter-section",children:[(0,d.jsxs)("button",{className:"filter-toggle-btn",onClick:()=>S(!k),children:[(0,d.jsx)("i",{className:"fas fa-filter"}),"Filters ",E()>0&&"(".concat(E(),")")]}),E()>0&&(0,d.jsxs)("button",{className:"clear-filters-btn",onClick:()=>{P({priceRange:{min:"",max:""},store:"",sortBy:""})},children:[(0,d.jsx)("i",{className:"fas fa-times"})," Clear All"]}),l&&(0,d.jsxs)("div",{className:"search-results-info",children:[y.length," result",1!==y.length?"s":""," found",u?" in ".concat(u):"",' for "',l,'"']})]}),k&&(0,d.jsx)("div",{className:"filter-panel",children:(0,d.jsxs)("div",{className:"filter-grid",children:[(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-rupee-sign"})," Price Range"]}),(0,d.jsxs)("div",{className:"price-range-inputs",children:[(0,d.jsx)("input",{type:"number",placeholder:"Min",value:C.priceRange.min,onChange:e=>I("min",e.target.value)}),(0,d.jsx)("span",{children:"to"}),(0,d.jsx)("input",{type:"number",placeholder:"Max",value:C.priceRange.max,onChange:e=>I("max",e.target.value)})]})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-store"})," Store"]}),(0,d.jsx)("input",{type:"text",placeholder:"Search store",value:C.store,onChange:e=>A("store",e.target.value)})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-sort"})," Sort By"]}),(0,d.jsxs)("select",{value:C.sortBy,onChange:e=>A("sortBy",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"Default"}),(0,d.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,d.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,d.jsx)("option",{value:"distance",children:"Distance: Nearest First"}),(0,d.jsx)("option",{value:"name-az",children:"Name: A to Z"}),(0,d.jsx)("option",{value:"name-za",children:"Name: Z to A"})]})]})]})}),m&&(0,d.jsx)("div",{className:"loading-message",children:(0,d.jsx)("p",{children:"Loading medicines..."})}),f&&(0,d.jsx)("div",{className:"error-message",children:(0,d.jsx)("p",{children:f})}),!m&&!f&&0===y.length&&l&&(0,d.jsx)("div",{className:"no-results-message",children:(0,d.jsxs)("p",{children:['No products found for "',l,'". Try a different search term.']})}),!m&&!f&&0===y.length&&!l&&u&&(0,d.jsx)("div",{className:"no-results-message",children:(0,d.jsx)("p",{children:"This vendor hasn't added any products yet."})}),!m&&!f&&y.length>0&&(0,d.jsx)("div",{className:"product-grid",children:y.map(e=>{return(0,d.jsx)(V,{product:e,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,isWishlisted:(r=e._id||e.id,t.some(e=>(e._id||e.id)===r)),cartItems:i,navigateTo:o},e._id||e.id);var r})})]})})]})},H=e=>{let{service:t,onAddToCart:a,onToggleWishlist:r,isWishlisted:s,onViewProduct:n,cartItems:i,navigateTo:o}=e;if(!t)return null;return(0,d.jsxs)("div",{className:"product-card",draggable:"true",onClick:e=>{e.target.closest("button")||n(t)},style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:t.image?t.image.startsWith("http")?t.image:t.image.includes("-")&&/^\d+-\w+\./.test(t.image)?"http://localhost:5000/uploads/".concat(t.image):"/IMAGES/".concat(t.image):"https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+")),alt:t.name,className:"product-img",onError:e=>{e.target.src="https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+"))}}),(0,d.jsxs)("div",{className:"product-info",children:[(0,d.jsx)("h3",{className:"product-title",children:t.name}),(0,d.jsxs)("div",{className:"product-vendor",children:[(0,d.jsx)("i",{className:"fas fa-store"})," ",(0,d.jsx)("span",{children:t.vendor})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"})," ",(0,d.jsx)("span",{children:t.distance||"Calculating..."})]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price]}),(0,d.jsxs)("div",{className:"product-actions",children:[(0,d.jsx)("button",{className:"like-btn",onClick:()=>r(t),style:{color:s?"var(--secondary)":"var(--gray)"},children:(0,d.jsx)("i",{className:s?"fas fa-heart":"far fa-heart"})}),i&&i.some(e=>(e._id||e.id)===(t._id||t.id))?(0,d.jsx)("button",{className:"btn go-to-cart",onClick:()=>o("cart"),children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn add-to-cart",onClick:()=>a(t),children:"Add to Cart"})]})]})]})},U=e=>{let{wishlistItems:t,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,cartItems:i,navigateTo:o,searchQuery:l,selectedVendor:u}=e;const[p,h]=(0,r.useState)([]),[m,g]=(0,r.useState)(!0),[f,x]=(0,r.useState)(null),[j,v]=(0,r.useState)(0),[y,b]=(0,r.useState)([]),[N,w]=(0,r.useState)(""),[k,S]=(0,r.useState)(!1),[C,P]=(0,r.useState)({priceRange:{min:"",max:""},store:"",sortBy:""}),T=["/IMAGES/service-hero-1.jpg","/IMAGES/service-hero-2.jpg","/IMAGES/service-hero-3.jpg"];(0,r.useEffect)(()=>{const e=setInterval(()=>{v(e=>(e+1)%T.length)},5e3);return()=>clearInterval(e)},[T.length]);const M=(0,r.useCallback)((e,t,a,r)=>{const s=e=>e*(Math.PI/180),n=s(a-e),i=s(r-t),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(s(e))*Math.cos(s(a))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},[]);(0,r.useEffect)(()=>{(async()=>{try{g(!0);const e=await fetch("http://localhost:5000/api/products/category/Services");if(!e.ok)throw new Error("Failed to fetch products");const t=await e.json();if(u&&w(u),navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const a=e.coords.latitude,r=e.coords.longitude,s=t.map(e=>{if(e.lat&&e.lon){const t=M(a,r,e.lat,e.lon);return c(c({},e),{},{distance:"".concat(t.toFixed(1)," km away"),distanceValue:parseFloat(t.toFixed(1))})}return c(c({},e),{},{distance:"Distance N/A",distanceValue:999})});h(s),b(s)},e=>{console.warn("Geolocation error: ".concat(e.message));const a=t.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(a),b(a)});else{console.warn("Geolocation is not supported by this browser.");const e=t.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(e),b(e)}x(null)}catch(e){console.error("Error fetching products:",e),x("Failed to load products. Please try again later."),h([]),b([])}finally{g(!1)}})()},[u,M]),(0,r.useEffect)(()=>{if(0===p.length)return;let e=[...p];if(u&&(e=e.filter(e=>e.vendor===u)),l&&l.trim()){const t=l.toLowerCase().trim();e=e.filter(e=>{var a,r,s;return(null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(r=e.vendor)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(s=e.type)||void 0===s?void 0:s.toLowerCase().includes(t))})}if(C.priceRange.min&&(e=e.filter(e=>e.price>=parseFloat(C.priceRange.min))),C.priceRange.max&&(e=e.filter(e=>e.price<=parseFloat(C.priceRange.max))),C.store&&(e=e.filter(e=>{var t;return null===(t=e.vendor)||void 0===t?void 0:t.toLowerCase().includes(C.store.toLowerCase())})),C.sortBy)switch(C.sortBy){case"price-low":e.sort((e,t)=>e.price-t.price);break;case"price-high":e.sort((e,t)=>t.price-e.price);break;case"distance":e.sort((e,t)=>(e.distanceValue||999)-(t.distanceValue||999));break;case"name-az":e.sort((e,t)=>e.name.localeCompare(t.name));break;case"name-za":e.sort((e,t)=>t.name.localeCompare(e.name))}b(e)},[l,p,u,C]);const A=(e,t)=>{P(a=>c(c({},a),{},{[e]:t}))},I=(e,t)=>{P(a=>c(c({},a),{},{priceRange:c(c({},a.priceRange),{},{[e]:t})}))},E=()=>{let e=0;return(C.priceRange.min||C.priceRange.max)&&e++,C.store&&e++,C.sortBy&&e++,e};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("section",{className:"hero",id:"hero",children:(0,d.jsx)("div",{className:"hero-carousel",children:(0,d.jsx)("div",{className:"carousel-slides",style:{transform:"translateX(-".concat(100*j,"%)")},children:T.map((e,t)=>(0,d.jsx)("div",{className:"carousel-slide",children:(0,d.jsx)("img",{src:e,alt:"Service slide ".concat(t+1)})},t))})})}),(0,d.jsx)("section",{id:"services",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[u&&(0,d.jsxs)("div",{className:"vendor-header",children:[(0,d.jsx)("button",{className:"back-button",onClick:()=>{o("services")},children:"\u2190 Back to Vendors"}),(0,d.jsx)("h3",{className:"vendor-title",children:N})]}),(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:u?"Products":"Services"})}),!m&&!f&&(0,d.jsxs)("div",{className:"filter-section",children:[(0,d.jsxs)("button",{className:"filter-toggle-btn",onClick:()=>S(!k),children:[(0,d.jsx)("i",{className:"fas fa-filter"}),"Filters ",E()>0&&"(".concat(E(),")")]}),E()>0&&(0,d.jsxs)("button",{className:"clear-filters-btn",onClick:()=>{P({priceRange:{min:"",max:""},store:"",sortBy:""})},children:[(0,d.jsx)("i",{className:"fas fa-times"})," Clear All"]}),l&&(0,d.jsxs)("div",{className:"search-results-info",children:[y.length," result",1!==y.length?"s":""," found",u?" in ".concat(u):"",' for "',l,'"']})]}),k&&(0,d.jsx)("div",{className:"filter-panel",children:(0,d.jsxs)("div",{className:"filter-grid",children:[(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-rupee-sign"})," Price Range"]}),(0,d.jsxs)("div",{className:"price-range-inputs",children:[(0,d.jsx)("input",{type:"number",placeholder:"Min",value:C.priceRange.min,onChange:e=>I("min",e.target.value)}),(0,d.jsx)("span",{children:"to"}),(0,d.jsx)("input",{type:"number",placeholder:"Max",value:C.priceRange.max,onChange:e=>I("max",e.target.value)})]})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-store"})," Store"]}),(0,d.jsx)("input",{type:"text",placeholder:"Search store",value:C.store,onChange:e=>A("store",e.target.value)})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-sort"})," Sort By"]}),(0,d.jsxs)("select",{value:C.sortBy,onChange:e=>A("sortBy",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"Default"}),(0,d.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,d.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,d.jsx)("option",{value:"distance",children:"Distance: Nearest First"}),(0,d.jsx)("option",{value:"name-az",children:"Name: A to Z"}),(0,d.jsx)("option",{value:"name-za",children:"Name: Z to A"})]})]})]})}),m&&(0,d.jsx)("div",{className:"loading-message",children:(0,d.jsx)("p",{children:"Loading services..."})}),f&&(0,d.jsx)("div",{className:"error-message",children:(0,d.jsx)("p",{children:f})}),!m&&!f&&0===y.length&&l&&(0,d.jsx)("div",{className:"no-results-message",children:(0,d.jsxs)("p",{children:['No products found for "',l,'". Try a different search term.']})}),!m&&!f&&0===y.length&&!l&&u&&(0,d.jsx)("div",{className:"no-results-message",children:(0,d.jsx)("p",{children:"This vendor hasn't added any products yet."})}),!m&&!f&&y.length>0&&(0,d.jsx)("div",{className:"product-grid",children:y.map(e=>{return(0,d.jsx)(H,{service:e,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,isWishlisted:(r=e._id||e.id,t.some(e=>(e._id||e.id)===r)),cartItems:i,navigateTo:o},e._id||e.id);var r})})]})})]})},K=e=>{let{product:t,onAddToCart:a,onToggleWishlist:r,isWishlisted:s,onViewProduct:n,cartItems:i,navigateTo:o}=e;return(0,d.jsxs)("div",{className:"product-card",draggable:"true",onClick:e=>{e.target.closest("button")||n(t)},style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:t.image?t.image.startsWith("http")?t.image:t.image.includes("-")&&/^\d+-\w+\./.test(t.image)?"http://localhost:5000/uploads/".concat(t.image):"/IMAGES/".concat(t.image):"https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+")),alt:t.name,className:"product-img",onError:e=>{e.target.src="https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+"))}}),(0,d.jsxs)("div",{className:"product-info",children:[(0,d.jsx)("h3",{className:"product-title",children:t.name}),(0,d.jsxs)("div",{className:"product-vendor",children:[(0,d.jsx)("i",{className:"fas fa-store"})," ",(0,d.jsx)("span",{children:t.vendor})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"})," ",(0,d.jsx)("span",{children:t.distance||"Calculating..."})]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-actions",children:[(0,d.jsx)("button",{className:"like-btn",onClick:()=>r(t),style:{color:s?"var(--secondary)":"var(--gray)"},children:(0,d.jsx)("i",{className:s?"fas fa-heart":"far fa-heart"})}),i&&i.some(e=>(e._id||e.id)===(t._id||t.id))?(0,d.jsx)("button",{className:"btn go-to-cart",onClick:()=>o("cart"),children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn add-to-cart",onClick:()=>a(t),children:"Add to Cart"})]})]})]})},q=e=>{let{wishlistItems:t=[],onAddToCart:a,onToggleWishlist:s,onViewProduct:n,cartItems:i,navigateTo:o,searchQuery:l,selectedVendor:u}=e;const[p,h]=(0,r.useState)([]),[m,g]=(0,r.useState)(!0),[f,x]=(0,r.useState)(null),[j,v]=(0,r.useState)(0),[y,b]=(0,r.useState)([]),[N,w]=(0,r.useState)(!1),[k,S]=(0,r.useState)({priceRange:{min:"",max:""},category:"",store:"",sortBy:""}),C=["IMAGES/jwellery-hero-2.jpg","IMAGES/jwellery-hero-2.jpg","IMAGES/jwellery-hero-3.jpg"],P=(0,r.useCallback)((e,t,a,r)=>{const s=e=>e*(Math.PI/180),n=s(a-e),i=s(r-t),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(s(e))*Math.cos(s(a))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},[]);(0,r.useEffect)(()=>{(async()=>{try{g(!0);const e=await fetch("http://localhost:5000/api/products/category/Jewellery");if(!e.ok)throw new Error("Failed to fetch products");const t=await e.json(),a=t.filter(e=>{var t;return"Jewellery"===e.category||"jewellery"===e.category||"jewellery"===(null===(t=e.category)||void 0===t?void 0:t.toLowerCase())});if(console.log("Fetched products:",t.length),console.log("After category filter:",a.length),console.log("Selected Vendor:",u),navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const t=e.coords.latitude,r=e.coords.longitude,s=a.map(e=>{if(e.lat&&e.lon){const a=P(t,r,e.lat,e.lon);return c(c({},e),{},{distance:"".concat(a.toFixed(1)," km away"),distanceValue:parseFloat(a.toFixed(1))})}return c(c({},e),{},{distance:"Distance N/A",distanceValue:999})});h(s),b(s)},e=>{console.warn("Geolocation error: ".concat(e.message));const t=a.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(t),b(t)});else{console.warn("Geolocation is not supported by this browser.");const e=a.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(e),b(e)}x(null)}catch(e){console.error("Error fetching products:",e),x("Failed to load products. Please try again later."),h([]),b([])}finally{g(!1)}})()},[P]),(0,r.useEffect)(()=>{const e=setInterval(()=>{v(e=>(e+1)%C.length)},5e3);return()=>clearInterval(e)},[C.length]),(0,r.useEffect)(()=>{if(console.log("Jewellery - Selected Vendor:",u),console.log("Jewellery - Search Query:",l),console.log("Jewellery - Products Count:",p.length),0===p.length)return;let e=[...p];if(u&&(console.log("Filtering products by vendor:",u),e=e.filter(e=>e.vendor===u),console.log("Products after vendor filter:",e.length)),l&&l.trim()){const t=l.toLowerCase().trim();e=e.filter(e=>{var a,r,s,n,i;const o=null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t),l=null===(r=e.vendor)||void 0===r?void 0:r.toLowerCase().includes(t),c=null===(s=e.category)||void 0===s?void 0:s.toLowerCase().includes(t),d=null===(n=e.subcategory)||void 0===n?void 0:n.toLowerCase().includes(t),u=null===(i=e.brand)||void 0===i?void 0:i.toLowerCase().includes(t);return o||l||c||d||u})}if(k.priceRange.min&&(e=e.filter(e=>e.price>=parseFloat(k.priceRange.min))),k.priceRange.max&&(e=e.filter(e=>e.price<=parseFloat(k.priceRange.max))),k.category&&(e=e.filter(e=>e.subcategory===k.category)),k.store&&(e=e.filter(e=>{var t;return null===(t=e.vendor)||void 0===t?void 0:t.toLowerCase().includes(k.store.toLowerCase())})),k.sortBy)switch(k.sortBy){case"price-low":e.sort((e,t)=>e.price-t.price);break;case"price-high":e.sort((e,t)=>t.price-e.price);break;case"distance":e.sort((e,t)=>(e.distanceValue||999)-(t.distanceValue||999));break;case"name-az":e.sort((e,t)=>e.name.localeCompare(t.name));break;case"name-za":e.sort((e,t)=>t.name.localeCompare(e.name))}console.log("Final Filtered Jewellery Products Count:",e.length),b(e)},[l,p,u,k]);const T=(e,t)=>{S(a=>c(c({},a),{},{[e]:t}))},M=(e,t)=>{S(a=>c(c({},a),{},{priceRange:c(c({},a.priceRange),{},{[e]:t})}))},A=()=>{let e=0;return(k.priceRange.min||k.priceRange.max)&&e++,k.category&&e++,k.store&&e++,k.sortBy&&e++,e},I=e=>t.some(t=>(t._id||t.id)===e),E=y.filter(e=>"Women's Jewellery"===e.subcategory),F=y.filter(e=>"Men's Jewellery"===e.subcategory),D=y.filter(e=>"Kids' Jewellery"===e.subcategory),B=y.length>0&&0===E.length&&0===F.length&&0===D.length;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("section",{className:"hero",id:"hero",children:(0,d.jsx)("div",{className:"hero-carousel",children:(0,d.jsx)("div",{className:"carousel-slides",style:{transform:"translateX(-".concat(100*j,"%)")},children:C.map((e,t)=>(0,d.jsx)("div",{className:"carousel-slide",children:(0,d.jsx)("img",{src:e,alt:"Jewellery slide ".concat(t+1)})},t))})})}),(0,d.jsx)("section",{id:"jewellery",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[u&&(0,d.jsx)("div",{style:{marginBottom:"20px"},children:(0,d.jsxs)("h2",{style:{color:"#333",fontSize:"2rem",textAlign:"center"},children:[u," - Jewellery"]})}),!u&&(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Jewellery"})}),!m&&!f&&(0,d.jsxs)("div",{className:"filter-section",children:[(0,d.jsxs)("button",{className:"filter-toggle-btn",onClick:()=>w(!N),children:[(0,d.jsx)("i",{className:"fas fa-filter"}),"Filters ",A()>0&&"(".concat(A(),")")]}),A()>0&&(0,d.jsxs)("button",{className:"clear-filters-btn",onClick:()=>{S({priceRange:{min:"",max:""},category:"",store:"",sortBy:""})},children:[(0,d.jsx)("i",{className:"fas fa-times"})," Clear All"]}),l&&(0,d.jsxs)("div",{className:"search-results-info",children:[y.length," result",1!==y.length?"s":""," found",u?" in ".concat(u):"",' for "',l,'"']})]}),N&&(0,d.jsx)("div",{className:"filter-panel",children:(0,d.jsxs)("div",{className:"filter-grid",children:[(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-rupee-sign"})," Price Range"]}),(0,d.jsxs)("div",{className:"price-range-inputs",children:[(0,d.jsx)("input",{type:"number",placeholder:"Min",value:k.priceRange.min,onChange:e=>M("min",e.target.value)}),(0,d.jsx)("span",{children:"to"}),(0,d.jsx)("input",{type:"number",placeholder:"Max",value:k.priceRange.max,onChange:e=>M("max",e.target.value)})]})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-gem"})," Category"]}),(0,d.jsxs)("select",{value:k.category,onChange:e=>T("category",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"All Categories"}),(0,d.jsx)("option",{value:"Women's Jewellery",children:"Women's Jewellery"}),(0,d.jsx)("option",{value:"Men's Jewellery",children:"Men's Jewellery"}),(0,d.jsx)("option",{value:"Kids' Jewellery",children:"Kids' Jewellery"})]})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-store"})," Store"]}),(0,d.jsx)("input",{type:"text",placeholder:"Search store",value:k.store,onChange:e=>T("store",e.target.value)})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-sort"})," Sort By"]}),(0,d.jsxs)("select",{value:k.sortBy,onChange:e=>T("sortBy",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"Default"}),(0,d.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,d.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,d.jsx)("option",{value:"distance",children:"Distance: Nearest First"}),(0,d.jsx)("option",{value:"name-az",children:"Name: A to Z"}),(0,d.jsx)("option",{value:"name-za",children:"Name: Z to A"})]})]})]})}),m?(0,d.jsx)("div",{style:{textAlign:"center",padding:"50px"},children:(0,d.jsx)("p",{children:"Loading jewellery products..."})}):f?(0,d.jsx)("div",{style:{textAlign:"center",padding:"50px",color:"red"},children:(0,d.jsxs)("p",{children:["Error loading products: ",f]})}):0===y.length?(0,d.jsx)("div",{className:"no-results-message",style:{textAlign:"center",padding:"50px"},children:(0,d.jsxs)("p",{children:["No jewellery found",u?" in ".concat(u):"",l?' for "'.concat(l,'"'):"","."]})}):B?(0,d.jsx)("div",{className:"product-grid",children:y.map(e=>(0,d.jsx)(K,{product:e,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,isWishlisted:I(e._id||e.id),cartItems:i,navigateTo:o},e._id||e.id))}):(0,d.jsxs)(d.Fragment,{children:[E.length>0&&(0,d.jsx)("section",{id:"womens-jewellery",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Women's Jewellery"})}),(0,d.jsx)("div",{className:"product-grid",children:E.map(e=>(0,d.jsx)(K,{product:e,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,isWishlisted:I(e._id||e.id),cartItems:i,navigateTo:o},e._id||e.id))})]})}),F.length>0&&(0,d.jsx)("section",{id:"mens-jewellery",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Men's Jewellery"})}),(0,d.jsx)("div",{className:"product-grid",children:F.map(e=>(0,d.jsx)(K,{product:e,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,isWishlisted:I(e._id||e.id),cartItems:i,navigateTo:o},e._id||e.id))})]})}),D.length>0&&(0,d.jsx)("section",{id:"kids-jewellery",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Kids' Jewellery"})}),(0,d.jsx)("div",{className:"product-grid",children:D.map(e=>(0,d.jsx)(K,{product:e,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,isWishlisted:I(e._id||e.id),cartItems:i,navigateTo:o},e._id||e.id))})]})})]})]})})]})},Q=e=>{let{product:t,onAddToCart:a,onToggleWishlist:r,isWishlisted:s,onViewProduct:n,cartItems:i,navigateTo:o}=e;return(0,d.jsxs)("div",{className:"product-card",draggable:"true",onClick:e=>{e.target.closest("button")||n(t)},style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:t.image?t.image.startsWith("http")?t.image:t.image.includes("-")&&/^\d+-\w+\./.test(t.image)?"http://localhost:5000/uploads/".concat(t.image):"/IMAGES/".concat(t.image):"https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+")),alt:t.name,className:"product-img",onError:e=>{e.target.src="https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+"))}}),(0,d.jsxs)("div",{className:"product-info",children:[(0,d.jsx)("h3",{className:"product-title",children:t.name}),(0,d.jsxs)("div",{className:"product-vendor",children:[(0,d.jsx)("i",{className:"fas fa-store"})," ",(0,d.jsx)("span",{children:t.vendor})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"})," ",(0,d.jsx)("span",{children:t.distance||"Calculating..."})]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-actions",children:[(0,d.jsx)("button",{className:"like-btn",onClick:e=>{e.stopPropagation(),r(t)},children:(0,d.jsx)("i",{className:s?"fas fa-heart":"far fa-heart",style:{color:s?"var(--secondary)":"var(--gray)"}})}),i&&i.some(e=>(e._id||e.id)===(t._id||t.id))?(0,d.jsx)("button",{className:"btn go-to-cart",onClick:e=>{e.stopPropagation(),o("cart")},children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn add-to-cart",onClick:e=>{e.stopPropagation(),a(t)},children:"Add to Cart"})]})]})]})},J=e=>{let{wishlistItems:t,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,navigateTo:i,searchQuery:o,cartItems:l,selectedVendor:u}=e;const[p,h]=(0,r.useState)({womens:[],mens:[],kids:[]}),[m,g]=(0,r.useState)({womens:[],mens:[],kids:[]}),[f,x]=(0,r.useState)(!0),[j,v]=(0,r.useState)(null),[y,b]=(0,r.useState)(0),[N,w]=(0,r.useState)(!1),[k,S]=(0,r.useState)({priceRange:{min:"",max:""},category:"",store:"",sortBy:""}),C=["../IMAGES/cloths-hero-1.webp","../IMAGES/cloths-hero-2.webp","../IMAGES/cloths-hero-3.webp"];(0,r.useEffect)(()=>{const e=setInterval(()=>{b(e=>(e+1)%C.length)},5e3);return()=>clearInterval(e)},[C.length]);const P=(0,r.useCallback)((e,t,a,r)=>{const s=e=>e*(Math.PI/180),n=s(a-e),i=s(r-t),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(s(e))*Math.cos(s(a))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},[]);(0,r.useEffect)(()=>{(async()=>{try{x(!0);const e=await fetch("http://localhost:5000/api/products/category/Clothes");if(!e.ok)throw new Error("Failed to fetch products");const t=await e.json();console.log("Fetched Clothes products:",t),console.log("Selected Vendor:",u);const a=e=>{const t=e.filter(e=>{var t,a,r;return"kids"===(null===(t=e.subcategory)||void 0===t?void 0:t.toLowerCase())||"kid"===(null===(a=e.subcategory)||void 0===a?void 0:a.toLowerCase())||"children"===(null===(r=e.subcategory)||void 0===r?void 0:r.toLowerCase())||e.name.toLowerCase().includes("kids")||e.name.toLowerCase().includes("kid")||e.name.toLowerCase().includes("children")}),a=e.filter(e=>{var a,r,s;return!t.includes(e)&&("women"===(null===(a=e.subcategory)||void 0===a?void 0:a.toLowerCase())||"womens"===(null===(r=e.subcategory)||void 0===r?void 0:r.toLowerCase())||"woman"===(null===(s=e.subcategory)||void 0===s?void 0:s.toLowerCase())||e.name.toLowerCase().includes("saree")||e.name.toLowerCase().includes("kurti")||e.name.toLowerCase().includes("lehenga")||e.name.toLowerCase().includes("anarkali")||e.name.toLowerCase().includes("dress")||e.name.toLowerCase().includes("gown")||e.name.toLowerCase().includes("blouse")||e.name.toLowerCase().includes("scarf")||e.name.toLowerCase().includes("leggings")||e.name.toLowerCase().includes("top"))}),r=e.filter(e=>{var r,s,n;return!t.includes(e)&&!a.includes(e)&&("men"===(null===(r=e.subcategory)||void 0===r?void 0:r.toLowerCase())||"mens"===(null===(s=e.subcategory)||void 0===s?void 0:s.toLowerCase())||"man"===(null===(n=e.subcategory)||void 0===n?void 0:n.toLowerCase())||e.name.toLowerCase().includes("shirt")||e.name.toLowerCase().includes("jacket")||e.name.toLowerCase().includes("coat")||e.name.toLowerCase().includes("suit")||e.name.toLowerCase().includes("pants")||e.name.toLowerCase().includes("jeans")||e.name.toLowerCase().includes("t-shirt")||e.name.toLowerCase().includes("sweater")||e.name.toLowerCase().includes("blazer"))});return console.log("Categorization results:",{total:e.length,womens:a.length,mens:r.length,kids:t.length,uncategorized:e.length-(a.length+r.length+t.length)}),{womens:a,mens:r,kids:t}},r=a(t);if(navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const t=e.coords.latitude,a=e.coords.longitude,s=e=>e.map(e=>{if(e.lat&&e.lon){const r=P(t,a,e.lat,e.lon);return c(c({},e),{},{distance:"".concat(r.toFixed(1)," km away"),distanceValue:parseFloat(r.toFixed(1))})}return c(c({},e),{},{distance:"Distance N/A",distanceValue:999})}),n={womens:s(r.womens),mens:s(r.mens),kids:s(r.kids)};h(n),g(n)},e=>{console.warn("Geolocation error: ".concat(e.message,"."));const t={womens:r.womens.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5})),mens:r.mens.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5})),kids:r.kids.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}))};h(t),g(t)});else{console.warn("Geolocation is not supported by this browser.");const e={womens:r.womens.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5})),mens:r.mens.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5})),kids:r.kids.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}))};h(e),g(e)}}catch(e){v(e.message),console.error("Error fetching products:",e),g({womens:[],mens:[],kids:[]})}finally{x(!1)}})()},[P]),(0,r.useEffect)(()=>{console.log("Clothes - Selected Vendor:",u),console.log("Clothes - Search Query:",o);if(0===p.womens.length+p.mens.length+p.kids.length)return;let e=[...p.womens,...p.mens,...p.kids];if(u&&(console.log("Filtering products by vendor:",u),e=e.filter(e=>e.vendor===u)),o&&o.trim()){const t=o.toLowerCase().trim();e=e.filter(e=>{var a,r,s;const n=null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t),i=null===(r=e.vendor)||void 0===r?void 0:r.toLowerCase().includes(t),o=null===(s=e.category)||void 0===s?void 0:s.toLowerCase().includes(t);return n||i||o})}if(k.priceRange.min&&(e=e.filter(e=>e.price>=parseFloat(k.priceRange.min))),k.priceRange.max&&(e=e.filter(e=>e.price<=parseFloat(k.priceRange.max))),k.category&&("Women"===k.category?e=e.filter(e=>p.womens.some(t=>t._id===e._id||t.id===e.id)):"Men"===k.category?e=e.filter(e=>p.mens.some(t=>t._id===e._id||t.id===e.id)):"Kids"===k.category&&(e=e.filter(e=>p.kids.some(t=>t._id===e._id||t.id===e.id)))),k.store&&(e=e.filter(e=>{var t;return null===(t=e.vendor)||void 0===t?void 0:t.toLowerCase().includes(k.store.toLowerCase())})),k.sortBy)switch(k.sortBy){case"price-low":e.sort((e,t)=>e.price-t.price);break;case"price-high":e.sort((e,t)=>t.price-e.price);break;case"distance":e.sort((e,t)=>(e.distanceValue||999)-(t.distanceValue||999));break;case"name-az":e.sort((e,t)=>e.name.localeCompare(t.name));break;case"name-za":e.sort((e,t)=>t.name.localeCompare(e.name))}const t={womens:e.filter(e=>p.womens.some(t=>t._id===e._id||t.id===e.id)),mens:e.filter(e=>p.mens.some(t=>t._id===e._id||t.id===e.id)),kids:e.filter(e=>p.kids.some(t=>t._id===e._id||t.id===e.id))};g(t)},[o,p,u,k]);const T=(e,t)=>{S(a=>c(c({},a),{},{[e]:t}))},M=(e,t)=>{S(a=>c(c({},a),{},{priceRange:c(c({},a.priceRange),{},{[e]:t})}))},A=()=>{let e=0;return(k.priceRange.min||k.priceRange.max)&&e++,k.category&&e++,k.store&&e++,k.sortBy&&e++,e},I=e=>(0,d.jsx)("div",{className:"product-grid",children:e.map(e=>{return(0,d.jsx)(Q,{product:e,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,isWishlisted:(r=e._id||e.id,t.some(e=>(e._id||e.id)===r)),cartItems:l,navigateTo:i},e._id||e.id);var r})}),E=m.womens.length+m.mens.length+m.kids.length;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("section",{className:"hero",id:"hero",children:(0,d.jsx)("div",{className:"hero-carousel",children:(0,d.jsx)("div",{className:"carousel-slides",style:{transform:"translateX(-".concat(100*y,"%)")},children:C.map((e,t)=>(0,d.jsx)("div",{className:"carousel-slide",children:(0,d.jsx)("img",{src:e,alt:"Clothes slide ".concat(t+1)})},t))})})}),(0,d.jsxs)("div",{className:"container",children:[u&&(0,d.jsx)("div",{style:{marginTop:"20px"},children:(0,d.jsxs)("h2",{style:{color:"#333",fontSize:"2rem",textAlign:"center"},children:[u," - Clothes"]})}),!f&&!j&&(0,d.jsxs)("div",{className:"filter-section",children:[(0,d.jsxs)("button",{className:"filter-toggle-btn",onClick:()=>w(!N),children:[(0,d.jsx)("i",{className:"fas fa-filter"}),"Filters ",A()>0&&"(".concat(A(),")")]}),A()>0&&(0,d.jsxs)("button",{className:"clear-filters-btn",onClick:()=>{S({priceRange:{min:"",max:""},category:"",store:"",sortBy:""})},children:[(0,d.jsx)("i",{className:"fas fa-times"})," Clear All"]}),o&&(0,d.jsxs)("div",{className:"search-results-info",children:[E," result",1!==E?"s":""," found",u?" in ".concat(u):"",' for "',o,'"']})]}),N&&(0,d.jsx)("div",{className:"filter-panel",children:(0,d.jsxs)("div",{className:"filter-grid",children:[(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-rupee-sign"})," Price Range"]}),(0,d.jsxs)("div",{className:"price-range-inputs",children:[(0,d.jsx)("input",{type:"number",placeholder:"Min",value:k.priceRange.min,onChange:e=>M("min",e.target.value)}),(0,d.jsx)("span",{children:"to"}),(0,d.jsx)("input",{type:"number",placeholder:"Max",value:k.priceRange.max,onChange:e=>M("max",e.target.value)})]})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-tshirt"})," Category"]}),(0,d.jsxs)("select",{value:k.category,onChange:e=>T("category",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"All Categories"}),(0,d.jsx)("option",{value:"Women",children:"Women's Clothes"}),(0,d.jsx)("option",{value:"Men",children:"Men's Clothes"}),(0,d.jsx)("option",{value:"Kids",children:"Kids' Clothes"})]})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-store"})," Store"]}),(0,d.jsx)("input",{type:"text",placeholder:"Search store",value:k.store,onChange:e=>T("store",e.target.value)})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-sort"})," Sort By"]}),(0,d.jsxs)("select",{value:k.sortBy,onChange:e=>T("sortBy",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"Default"}),(0,d.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,d.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,d.jsx)("option",{value:"distance",children:"Distance: Nearest First"}),(0,d.jsx)("option",{value:"name-az",children:"Name: A to Z"}),(0,d.jsx)("option",{value:"name-za",children:"Name: Z to A"})]})]})]})})]}),0===E&&!f&&!j&&(0,d.jsx)("div",{className:"container",children:(0,d.jsx)("div",{className:"no-results-message",style:{textAlign:"center",padding:"50px"},children:(0,d.jsxs)("p",{children:["No clothes found",u?" in ".concat(u):"",o?' for "'.concat(o,'"'):"","."]})})}),m.womens.length>0&&(0,d.jsx)("section",{id:"womens-clothes",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Women's Clothes"})}),f&&(0,d.jsx)("div",{className:"loading",children:"Loading products..."}),j&&(0,d.jsxs)("div",{className:"error",children:["Error: ",j]}),!f&&!j&&I(m.womens)]})}),m.mens.length>0&&(0,d.jsx)("section",{id:"mens-clothes",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Men's Clothes"})}),f&&(0,d.jsx)("div",{className:"loading",children:"Loading products..."}),j&&(0,d.jsxs)("div",{className:"error",children:["Error: ",j]}),!f&&!j&&I(m.mens)]})}),m.kids.length>0&&(0,d.jsx)("section",{id:"kids-clothes",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Kid's Clothes"})}),f&&(0,d.jsx)("div",{className:"loading",children:"Loading products..."}),j&&(0,d.jsxs)("div",{className:"error",children:["Error: ",j]}),!f&&!j&&I(m.kids)]})})]})},Y=e=>{let{product:t,onAddToCart:a,onToggleWishlist:r,isWishlisted:s,onViewProduct:n,cartItems:i,navigateTo:o}=e;return(0,d.jsxs)("div",{className:"product-card",draggable:"true",onClick:e=>{e.target.closest("button")||n(t)},style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:t.image?t.image.startsWith("http")?t.image:t.image.includes("-")&&/^\d+-\w+\./.test(t.image)?"http://localhost:5000/uploads/".concat(t.image):"/IMAGES/".concat(t.image):"https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+")),alt:t.name,className:"product-img",onError:e=>{e.target.src="https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+"))}}),(0,d.jsxs)("div",{className:"product-info",children:[(0,d.jsx)("h3",{className:"product-title",children:t.name}),(0,d.jsxs)("div",{className:"product-vendor",children:[(0,d.jsx)("i",{className:"fas fa-store"})," ",(0,d.jsx)("span",{children:t.vendor})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"})," ",(0,d.jsx)("span",{children:t.distance||"Calculating..."})]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-actions",children:[(0,d.jsx)("button",{className:"like-btn",onClick:e=>{e.stopPropagation(),r(t)},children:(0,d.jsx)("i",{className:s?"fas fa-heart":"far fa-heart",style:{color:s?"var(--secondary)":"var(--gray)"}})}),i&&i.some(e=>(e._id||e.id)===(t._id||t.id))?(0,d.jsx)("button",{className:"btn go-to-cart",onClick:e=>{e.stopPropagation(),o("cart")},children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn add-to-cart",onClick:e=>{e.stopPropagation(),a(t)},children:"Add to Cart"})]})]})]})},$=e=>{let{wishlistItems:t,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,cartItems:i,navigateTo:o,searchQuery:l,selectedVendor:u}=e;const[p,h]=(0,r.useState)([]),[m,g]=(0,r.useState)([]),[f,x]=(0,r.useState)(!0),[j,v]=(0,r.useState)(null),[y,b]=(0,r.useState)(0),[N,w]=(0,r.useState)(!1),[k,S]=(0,r.useState)({priceRange:{min:"",max:""},store:"",sortBy:""}),C=["../IMAGES/bueaty-hero-4.jpg","../IMAGES/bueaty-hero-2.webp","../IMAGES/bueaty-hero-3.jpg"];(0,r.useEffect)(()=>{const e=setInterval(()=>{b(e=>(e+1)%C.length)},5e3);return()=>clearInterval(e)},[C.length]);const P=(0,r.useCallback)((e,t,a,r)=>{const s=e=>e*(Math.PI/180),n=s(a-e),i=s(r-t),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(s(e))*Math.cos(s(a))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},[]);(0,r.useEffect)(()=>{(async()=>{try{x(!0);const e=await fetch("http://localhost:5000/api/products/category/Beauty Products");if(e.ok){const t=await e.json();console.log("Fetched Beauty products:",t),console.log("Selected Vendor:",u),h(t),g(t)}else console.error("Failed to fetch beauty products"),v("Failed to load products")}catch(j){console.error("Error fetching beauty products:",j),v(j.message)}finally{x(!1)}})()},[]),(0,r.useEffect)(()=>{if(p.length>0)if(navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const t=e.coords.latitude,a=e.coords.longitude,r=p.map(e=>{if(e.lat&&e.lon){const r=P(t,a,e.lat,e.lon);return c(c({},e),{},{distance:"".concat(r.toFixed(1)," km away"),distanceValue:parseFloat(r.toFixed(1))})}return c(c({},e),{},{distance:"Distance N/A",distanceValue:999})});h(r),g(r)},e=>{console.warn("Geolocation error: ".concat(e.message,"."));const t=p.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(t),g(t)});else{console.warn("Geolocation is not supported by this browser.");const e=p.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(e),g(e)}},[p.length,P]),(0,r.useEffect)(()=>{if(console.log("Beauty - Selected Vendor:",u),console.log("Beauty - Search Query:",l),console.log("Beauty - Products Count:",p.length),0===p.length)return;let e=[...p];if(u&&(console.log("Filtering products by vendor:",u),e=e.filter(e=>e.vendor===u),console.log("Products after vendor filter:",e.length)),l&&l.trim()){const t=l.toLowerCase().trim();e=e.filter(e=>{var a,r,s;const n=null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t),i=null===(r=e.vendor)||void 0===r?void 0:r.toLowerCase().includes(t),o=null===(s=e.category)||void 0===s?void 0:s.toLowerCase().includes(t);return n||i||o})}if(k.priceRange.min&&(e=e.filter(e=>e.price>=parseFloat(k.priceRange.min))),k.priceRange.max&&(e=e.filter(e=>e.price<=parseFloat(k.priceRange.max))),k.store&&(e=e.filter(e=>{var t;return null===(t=e.vendor)||void 0===t?void 0:t.toLowerCase().includes(k.store.toLowerCase())})),k.sortBy)switch(k.sortBy){case"price-low":e.sort((e,t)=>e.price-t.price);break;case"price-high":e.sort((e,t)=>t.price-e.price);break;case"distance":e.sort((e,t)=>(e.distanceValue||999)-(t.distanceValue||999));break;case"name-az":e.sort((e,t)=>e.name.localeCompare(t.name));break;case"name-za":e.sort((e,t)=>t.name.localeCompare(e.name))}console.log("Final Filtered Beauty Products Count:",e.length),g(e)},[l,p,u,k]);const T=(e,t)=>{S(a=>c(c({},a),{},{[e]:t}))},M=(e,t)=>{S(a=>c(c({},a),{},{priceRange:c(c({},a.priceRange),{},{[e]:t})}))},A=()=>{let e=0;return(k.priceRange.min||k.priceRange.max)&&e++,k.store&&e++,k.sortBy&&e++,e};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("section",{className:"hero",id:"hero",children:(0,d.jsx)("div",{className:"hero-carousel",children:(0,d.jsx)("div",{className:"carousel-slides",style:{transform:"translateX(-".concat(100*y,"%)")},children:C.map((e,t)=>(0,d.jsx)("div",{className:"carousel-slide",children:(0,d.jsx)("img",{src:e,alt:"Beauty slide ".concat(t+1)})},t))})})}),(0,d.jsx)("section",{id:"beauty",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[u&&(0,d.jsx)("div",{style:{marginBottom:"20px"},children:(0,d.jsxs)("h2",{style:{color:"#333",fontSize:"2rem"},children:[u," - Beauty Products"]})}),!u&&(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Beauty"})}),!f&&!j&&(0,d.jsxs)("div",{className:"filter-section",children:[(0,d.jsxs)("button",{className:"filter-toggle-btn",onClick:()=>w(!N),children:[(0,d.jsx)("i",{className:"fas fa-filter"}),"Filters ",A()>0&&"(".concat(A(),")")]}),A()>0&&(0,d.jsxs)("button",{className:"clear-filters-btn",onClick:()=>{S({priceRange:{min:"",max:""},store:"",sortBy:""})},children:[(0,d.jsx)("i",{className:"fas fa-times"})," Clear All"]})]}),N&&(0,d.jsx)("div",{className:"filter-panel",children:(0,d.jsxs)("div",{className:"filter-grid",children:[(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-rupee-sign"})," Price Range"]}),(0,d.jsxs)("div",{className:"price-range-inputs",children:[(0,d.jsx)("input",{type:"number",placeholder:"Min",value:k.priceRange.min,onChange:e=>M("min",e.target.value)}),(0,d.jsx)("span",{children:"to"}),(0,d.jsx)("input",{type:"number",placeholder:"Max",value:k.priceRange.max,onChange:e=>M("max",e.target.value)})]})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-store"})," Store"]}),(0,d.jsx)("input",{type:"text",placeholder:"Search store",value:k.store,onChange:e=>T("store",e.target.value)})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-sort"})," Sort By"]}),(0,d.jsxs)("select",{value:k.sortBy,onChange:e=>T("sortBy",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"Default"}),(0,d.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,d.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,d.jsx)("option",{value:"distance",children:"Distance: Nearest First"}),(0,d.jsx)("option",{value:"name-az",children:"Name: A to Z"}),(0,d.jsx)("option",{value:"name-za",children:"Name: Z to A"})]})]})]})}),l&&(0,d.jsx)("div",{className:"search-results-info",style:{textAlign:"center",marginBottom:"20px"},children:(0,d.jsxs)("p",{children:[m.length," result",1!==m.length?"s":""," found",u?" in ".concat(u):"",' for "',l,'"']})}),f?(0,d.jsx)("div",{style:{textAlign:"center",padding:"50px"},children:(0,d.jsx)("p",{children:"Loading beauty products..."})}):j?(0,d.jsx)("div",{style:{textAlign:"center",padding:"50px",color:"red"},children:(0,d.jsxs)("p",{children:["Error loading products: ",j]})}):0===m.length?(0,d.jsx)("div",{className:"no-results-message",style:{textAlign:"center",padding:"50px"},children:(0,d.jsxs)("p",{children:["No beauty products found",u?" in ".concat(u):"",l?' for "'.concat(l,'"'):"","."]})}):(0,d.jsx)("div",{className:"product-grid",children:m.map(e=>{return(0,d.jsx)(Y,{product:e,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,isWishlisted:(r=e._id||e.id,t.some(e=>(e._id||e.id)===r)),cartItems:i,navigateTo:o},e._id||e.id);var r})})]})})]})},X=e=>{let{product:t,onAddToCart:a,onToggleWishlist:r,isWishlisted:s,onViewProduct:n,cartItems:i,navigateTo:o}=e;return(0,d.jsxs)("div",{className:"product-card",draggable:"true",onClick:e=>{e.target.closest("button")||n(t)},style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:"/IMAGES/".concat(t.image),alt:t.name,className:"product-img",onError:e=>{e.target.src="https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+"))}}),(0,d.jsxs)("div",{className:"product-info",children:[(0,d.jsx)("h3",{className:"product-title",children:t.name}),(0,d.jsxs)("div",{className:"product-vendor",children:[(0,d.jsx)("i",{className:"fas fa-store"})," ",(0,d.jsx)("span",{children:t.vendor})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"})," ",(0,d.jsx)("span",{children:t.distance||"Calculating..."})]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-actions",children:[(0,d.jsx)("button",{className:"like-btn",onClick:()=>r(t),style:{color:s?"var(--secondary)":"var(--gray)"},children:(0,d.jsx)("i",{className:s?"fas fa-heart":"far fa-heart"})}),i&&i.some(e=>(e._id||e.id)===(t._id||t.id))?(0,d.jsx)("button",{className:"btn go-to-cart",onClick:()=>o("cart"),children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn add-to-cart",onClick:()=>a(t),children:"Add to Cart"})]})]})]})},Z=e=>{let{wishlistItems:t=[],onAddToCart:a,onToggleWishlist:s,onViewProduct:n,cartItems:i,navigateTo:o,searchQuery:l,selectedVendor:u}=e;const[p,h]=(0,r.useState)([]),[m,g]=(0,r.useState)(!0),[f,x]=(0,r.useState)(null),[j,v]=(0,r.useState)([]),[y,b]=(0,r.useState)(0),[N,w]=(0,r.useState)(!1),[k,S]=(0,r.useState)({priceRange:{min:"",max:""},store:"",sortBy:""}),C=["/IMAGES/groceries-hero-1.jpg","/IMAGES/groceries-hero-2.png","/IMAGES/groceries-hero-3.jpg"],P=e=>e*(Math.PI/180),T=(0,r.useCallback)((e,t,a,r)=>{const s=P(a-e),n=P(r-t),i=Math.sin(s/2)*Math.sin(s/2)+Math.cos(P(e))*Math.cos(P(a))*Math.sin(n/2)*Math.sin(n/2);return 6371*(2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)))},[]);(0,r.useEffect)(()=>{(async()=>{try{g(!0);const e=await fetch("http://localhost:5000/api/products/category/Groceries");if(!e.ok)throw new Error("Failed to fetch products");const t=await e.json();if(console.log("Fetched Grocery products:",t),console.log("Selected Vendor:",u),navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const a=e.coords.latitude,r=e.coords.longitude,s=t.map(e=>{if(e.lat&&e.lon){const t=T(a,r,e.lat,e.lon);return c(c({},e),{},{distance:"".concat(t.toFixed(1)," km away"),distanceValue:parseFloat(t.toFixed(1))})}return c(c({},e),{},{distance:"Distance N/A",distanceValue:999})});h(s),v(s)},e=>{console.warn("Geolocation error: ".concat(e.message));const a=t.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(a),v(a)});else{console.warn("Geolocation is not supported by this browser.");const e=t.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(e),v(e)}x(null)}catch(e){console.error("Error fetching products:",e),x("Failed to load products. Please try again later."),h([]),v([])}finally{g(!1)}})()},[T]),(0,r.useEffect)(()=>{const e=setInterval(()=>{b(e=>(e+1)%C.length)},5e3);return()=>clearInterval(e)},[C.length]),(0,r.useEffect)(()=>{if(console.log("Grocery - Selected Vendor:",u),console.log("Grocery - Search Query:",l),console.log("Grocery - Products Count:",p.length),0===p.length)return;let e=[...p];if(u&&(console.log("Filtering products by vendor:",u),e=e.filter(e=>e.vendor===u),console.log("Products after vendor filter:",e.length)),l&&l.trim()){const t=l.toLowerCase().trim();e=e.filter(e=>{var a,r,s,n,i;const o=null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t),l=null===(r=e.vendor)||void 0===r?void 0:r.toLowerCase().includes(t),c=null===(s=e.category)||void 0===s?void 0:s.toLowerCase().includes(t),d=null===(n=e.subcategory)||void 0===n?void 0:n.toLowerCase().includes(t),u=null===(i=e.brand)||void 0===i?void 0:i.toLowerCase().includes(t);return o||l||c||d||u})}if(k.priceRange.min&&(e=e.filter(e=>e.price>=parseFloat(k.priceRange.min))),k.priceRange.max&&(e=e.filter(e=>e.price<=parseFloat(k.priceRange.max))),k.store&&(e=e.filter(e=>{var t;return null===(t=e.vendor)||void 0===t?void 0:t.toLowerCase().includes(k.store.toLowerCase())})),k.sortBy)switch(k.sortBy){case"price-low":e.sort((e,t)=>e.price-t.price);break;case"price-high":e.sort((e,t)=>t.price-e.price);break;case"distance":e.sort((e,t)=>(e.distanceValue||999)-(t.distanceValue||999));break;case"name-az":e.sort((e,t)=>e.name.localeCompare(t.name));break;case"name-za":e.sort((e,t)=>t.name.localeCompare(e.name))}console.log("Final Filtered Grocery Products Count:",e.length),v(e)},[l,p,u,k]);const M=(e,t)=>{S(a=>c(c({},a),{},{[e]:t}))},A=(e,t)=>{S(a=>c(c({},a),{},{priceRange:c(c({},a.priceRange),{},{[e]:t})}))},I=()=>{let e=0;return(k.priceRange.min||k.priceRange.max)&&e++,k.store&&e++,k.sortBy&&e++,e};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("section",{className:"hero",id:"hero",children:(0,d.jsx)("div",{className:"hero-carousel",children:(0,d.jsx)("div",{className:"carousel-slides",style:{transform:"translateX(-".concat(100*y,"%)")},children:C.map((e,t)=>(0,d.jsx)("div",{className:"carousel-slide",children:(0,d.jsx)("img",{src:e,alt:"Grocery slide ".concat(t+1)})},t))})})}),(0,d.jsx)("section",{id:"groceries",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[u&&(0,d.jsx)("div",{style:{marginBottom:"20px"},children:(0,d.jsxs)("h2",{style:{color:"#333",fontSize:"2rem",textAlign:"center"},children:[u," - Grocery"]})}),!m&&!f&&(0,d.jsxs)("div",{className:"filter-section",children:[(0,d.jsxs)("button",{className:"filter-toggle-btn",onClick:()=>w(!N),children:[(0,d.jsx)("i",{className:"fas fa-filter"}),"Filters ",I()>0&&"(".concat(I(),")")]}),I()>0&&(0,d.jsxs)("button",{className:"clear-filters-btn",onClick:()=>{S({priceRange:{min:"",max:""},store:"",sortBy:""})},children:[(0,d.jsx)("i",{className:"fas fa-times"})," Clear All"]}),l&&(0,d.jsxs)("div",{className:"search-results-info",children:[j.length," result",1!==j.length?"s":""," found",u?" in ".concat(u):"",' for "',l,'"']})]}),N&&(0,d.jsx)("div",{className:"filter-panel",children:(0,d.jsxs)("div",{className:"filter-grid",children:[(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-rupee-sign"})," Price Range"]}),(0,d.jsxs)("div",{className:"price-range-inputs",children:[(0,d.jsx)("input",{type:"number",placeholder:"Min",value:k.priceRange.min,onChange:e=>A("min",e.target.value)}),(0,d.jsx)("span",{children:"to"}),(0,d.jsx)("input",{type:"number",placeholder:"Max",value:k.priceRange.max,onChange:e=>A("max",e.target.value)})]})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-store"})," Store"]}),(0,d.jsx)("input",{type:"text",placeholder:"Search store",value:k.store,onChange:e=>M("store",e.target.value)})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-sort"})," Sort By"]}),(0,d.jsxs)("select",{value:k.sortBy,onChange:e=>M("sortBy",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"Default"}),(0,d.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,d.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,d.jsx)("option",{value:"distance",children:"Distance: Nearest First"}),(0,d.jsx)("option",{value:"name-az",children:"Name: A to Z"}),(0,d.jsx)("option",{value:"name-za",children:"Name: Z to A"})]})]})]})}),m?(0,d.jsx)("div",{style:{textAlign:"center",padding:"50px"},children:(0,d.jsx)("p",{children:"Loading grocery products..."})}):f?(0,d.jsx)("div",{style:{textAlign:"center",padding:"50px",color:"red"},children:(0,d.jsxs)("p",{children:["Error loading products: ",f]})}):0===j.length?(0,d.jsx)("div",{className:"no-results-message",style:{textAlign:"center",padding:"50px"},children:(0,d.jsxs)("p",{children:["No groceries found",u?" in ".concat(u):"",l?' for "'.concat(l,'"'):"","."]})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Grocery"})}),(0,d.jsx)("div",{className:"product-grid",children:j.map(e=>{return(0,d.jsx)(X,{product:e,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,isWishlisted:(r=e._id||e.id,t.some(e=>(e._id||e.id)===r)),cartItems:i,navigateTo:o},e._id||e.id);var r})})]})]})})]})},ee=e=>{let{product:t,onAddToCart:a,onToggleWishlist:r,isWishlisted:s,onViewProduct:n,cartItems:i,navigateTo:o}=e;return(0,d.jsxs)("div",{className:"product-card",draggable:"true",onClick:e=>{e.target.closest("button")||n(t)},style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:t.image?t.image.startsWith("http")?t.image:t.image.includes("-")&&/^\d+-\w+\./.test(t.image)?"http://localhost:5000/uploads/".concat(t.image):"/IMAGES/".concat(t.image):"https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+")),alt:t.name,className:"product-img",onError:e=>{e.target.src="https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+"))}}),(0,d.jsxs)("div",{className:"product-info",children:[(0,d.jsx)("h3",{className:"product-title",children:t.name}),(0,d.jsxs)("div",{className:"product-vendor",children:[(0,d.jsx)("i",{className:"fas fa-store"})," ",(0,d.jsx)("span",{children:t.vendor})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"})," ",(0,d.jsx)("span",{children:t.distance||"Calculating..."})]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-actions",children:[(0,d.jsx)("button",{className:"like-btn",onClick:()=>r(t),style:{color:s?"var(--secondary)":"var(--gray)"},children:(0,d.jsx)("i",{className:s?"fas fa-heart":"far fa-heart"})}),i&&i.some(e=>(e._id||e.id)===(t._id||t.id))?(0,d.jsx)("button",{className:"btn go-to-cart",onClick:()=>o("cart"),children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn add-to-cart",onClick:()=>a(t),children:"Add to Cart"})]})]})]})},te=e=>{let{wishlistItems:t,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,cartItems:i,navigateTo:o,searchQuery:l,selectedVendor:u}=e;const[p,h]=(0,r.useState)([]),[m,g]=(0,r.useState)([]),[f,x]=(0,r.useState)(!0),[j,v]=(0,r.useState)(null),[y,b]=(0,r.useState)(0),[N,w]=(0,r.useState)(!1),[k,S]=(0,r.useState)({priceRange:{min:"",max:""},store:"",sortBy:""}),C=["/IMAGES/fruites-hero-1.jpg","/IMAGES/fruites-hero-2.png","/IMAGES/fruites-hero-3.jpg"];(0,r.useEffect)(()=>{const e=setInterval(()=>{b(e=>(e+1)%C.length)},5e3);return()=>clearInterval(e)},[C.length]);const P=(0,r.useCallback)((e,t,a,r)=>{const s=e=>e*(Math.PI/180),n=s(a-e),i=s(r-t),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(s(e))*Math.cos(s(a))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},[]);(0,r.useEffect)(()=>{(async()=>{try{x(!0);const e=await fetch("http://localhost:5000/api/products/category/Fruits");if(e.ok){const t=await e.json();h(t),g(t)}else console.error("Failed to fetch fruits products"),v("Failed to load products")}catch(j){console.error("Error fetching fruits products:",j),v(j.message)}finally{x(!1)}})()},[]),(0,r.useEffect)(()=>{if(p.length>0)if(navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const t=e.coords.latitude,a=e.coords.longitude,r=p.map(e=>{if(e.lat&&e.lon){const r=P(t,a,e.lat,e.lon);return c(c({},e),{},{distance:"".concat(r.toFixed(1)," km away"),distanceValue:parseFloat(r.toFixed(1))})}return c(c({},e),{},{distance:"Distance N/A",distanceValue:999})});h(r),g(r)},e=>{console.warn("Geolocation error: ".concat(e.message,"."));const t=p.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(t),g(t)});else{console.warn("Geolocation is not supported by this browser.");const e=p.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(e),g(e)}},[p.length,P]),(0,r.useEffect)(()=>{if(console.log("Fruits - Selected Vendor:",u),console.log("Fruits - Search Query:",l),console.log("Fruits - Products Count:",p.length),0===p.length)return;let e=[...p];if(u&&(console.log("Filtering products by vendor:",u),e=e.filter(e=>e.vendor===u),console.log("Products after vendor filter:",e.length)),l&&l.trim()){const t=l.toLowerCase().trim();e=e.filter(e=>e.name.toLowerCase().includes(t)||e.vendor.toLowerCase().includes(t)||e.category.toLowerCase().includes(t))}if(k.priceRange.min&&(e=e.filter(e=>e.price>=parseFloat(k.priceRange.min))),k.priceRange.max&&(e=e.filter(e=>e.price<=parseFloat(k.priceRange.max))),k.store&&(e=e.filter(e=>{var t;return null===(t=e.vendor)||void 0===t?void 0:t.toLowerCase().includes(k.store.toLowerCase())})),k.sortBy)switch(k.sortBy){case"price-low":e.sort((e,t)=>e.price-t.price);break;case"price-high":e.sort((e,t)=>t.price-e.price);break;case"distance":e.sort((e,t)=>(e.distanceValue||999)-(t.distanceValue||999));break;case"name-az":e.sort((e,t)=>e.name.localeCompare(t.name));break;case"name-za":e.sort((e,t)=>t.name.localeCompare(e.name))}console.log("Final Filtered Fruits Products Count:",e.length),g(e)},[l,p,u,k]);const T=(e,t)=>{S(a=>c(c({},a),{},{[e]:t}))},M=(e,t)=>{S(a=>c(c({},a),{},{priceRange:c(c({},a.priceRange),{},{[e]:t})}))},A=()=>{let e=0;return(k.priceRange.min||k.priceRange.max)&&e++,k.store&&e++,k.sortBy&&e++,e};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("section",{className:"hero",id:"hero",children:(0,d.jsx)("div",{className:"slider-container",children:(0,d.jsx)("div",{className:"bg-slider-track",style:{transform:"translateX(-".concat(100*y,"%)")},children:C.map((e,t)=>(0,d.jsx)("div",{className:"bg-slide ".concat(t===y?"active":""),style:{backgroundImage:"url('".concat(e,"')")}},t))})})}),u&&(0,d.jsxs)("div",{className:"container",style:{marginTop:"20px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[(0,d.jsx)("a",{href:"#fruits",onClick:e=>{e.preventDefault(),o("fruits")},className:"back-link",style:{position:"absolute",left:"0",fontSize:"16px",textDecoration:"none",color:"#007bff"},children:"\u2190 Back to Vendors"}),(0,d.jsxs)("h2",{style:{color:"#333",fontSize:"2rem",margin:"0"},children:[u," - Fruits"]})]}),(0,d.jsx)("section",{id:"fruits",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[!u&&(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"\ud83c\udf4e Fruits"})}),!f&&!j&&(0,d.jsxs)("div",{className:"filter-section",children:[(0,d.jsxs)("button",{className:"filter-toggle-btn",onClick:()=>w(!N),children:[(0,d.jsx)("i",{className:"fas fa-filter"}),"Filters ",A()>0&&"(".concat(A(),")")]}),A()>0&&(0,d.jsxs)("button",{className:"clear-filters-btn",onClick:()=>{S({priceRange:{min:"",max:""},store:"",sortBy:""})},children:[(0,d.jsx)("i",{className:"fas fa-times"})," Clear All"]})]}),N&&(0,d.jsx)("div",{className:"filter-panel",children:(0,d.jsxs)("div",{className:"filter-grid",children:[(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-rupee-sign"})," Price Range"]}),(0,d.jsxs)("div",{className:"price-range-inputs",children:[(0,d.jsx)("input",{type:"number",placeholder:"Min",value:k.priceRange.min,onChange:e=>M("min",e.target.value)}),(0,d.jsx)("span",{children:"to"}),(0,d.jsx)("input",{type:"number",placeholder:"Max",value:k.priceRange.max,onChange:e=>M("max",e.target.value)})]})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-store"})," Store"]}),(0,d.jsx)("input",{type:"text",placeholder:"Search store",value:k.store,onChange:e=>T("store",e.target.value)})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-sort"})," Sort By"]}),(0,d.jsxs)("select",{value:k.sortBy,onChange:e=>T("sortBy",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"Default"}),(0,d.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,d.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,d.jsx)("option",{value:"distance",children:"Distance: Nearest First"}),(0,d.jsx)("option",{value:"name-az",children:"Name: A to Z"}),(0,d.jsx)("option",{value:"name-za",children:"Name: Z to A"})]})]})]})}),l&&(0,d.jsx)("div",{className:"search-results-info",style:{textAlign:"center",marginBottom:"20px"},children:(0,d.jsxs)("p",{children:[m.length," result",1!==m.length?"s":""," found",u?" in ".concat(u):"",' for "',l,'"']})}),f?(0,d.jsx)("div",{style:{textAlign:"center",padding:"50px"},children:(0,d.jsx)("p",{children:"Loading fruits products..."})}):j?(0,d.jsx)("div",{style:{textAlign:"center",padding:"50px",color:"red"},children:(0,d.jsxs)("p",{children:["Error loading products: ",j]})}):0===m.length?(0,d.jsx)("div",{className:"no-results-message",style:{textAlign:"center",padding:"50px"},children:(0,d.jsxs)("p",{children:["No fruits found",u?" in ".concat(u):"",l?' for "'.concat(l,'"'):"","."]})}):(0,d.jsx)("div",{className:"product-grid",children:m.map(e=>{return(0,d.jsx)(ee,{product:e,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,isWishlisted:(r=e._id||e.id,t.some(e=>(e._id||e.id)===r)),cartItems:i,navigateTo:o},e._id||e.id);var r})})]})})]})},ae=e=>{let{product:t,onAddToCart:a,onToggleWishlist:r,isWishlisted:s,onViewProduct:n,cartItems:i,navigateTo:o}=e;return(0,d.jsxs)("div",{className:"product-card",draggable:"true",onClick:e=>{e.target.closest("button")||n(t)},style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:t.image?t.image.startsWith("http")?t.image:t.image.includes("-")&&/^\d+-\w+\./.test(t.image)?"http://localhost:5000/uploads/".concat(t.image):"/IMAGES/".concat(t.image):"https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+")),alt:t.name,className:"product-img",onError:e=>{e.target.src="https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+"))}}),(0,d.jsxs)("div",{className:"product-info",children:[(0,d.jsx)("h3",{className:"product-title",children:t.name}),(0,d.jsxs)("div",{className:"product-vendor",children:[(0,d.jsx)("i",{className:"fas fa-store"})," ",(0,d.jsx)("span",{children:t.vendor})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"})," ",(0,d.jsx)("span",{children:t.distance||"Calculating..."})]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-actions",children:[(0,d.jsx)("button",{className:"like-btn",onClick:()=>r(t),style:{color:s?"var(--secondary)":"var(--gray)"},children:(0,d.jsx)("i",{className:s?"fas fa-heart":"far fa-heart"})}),i&&i.some(e=>(e._id||e.id)===(t._id||t.id))?(0,d.jsx)("button",{className:"btn go-to-cart",onClick:()=>o("cart"),children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn add-to-cart",onClick:()=>a(t),children:"Add to Cart"})]})]})]})},re=e=>{let{wishlistItems:t,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,cartItems:i,navigateTo:o,searchQuery:l,selectedVendor:u}=e;const[p,h]=(0,r.useState)([]),[m,g]=(0,r.useState)([]),[f,x]=(0,r.useState)(!0),[j,v]=(0,r.useState)(null),[y,b]=(0,r.useState)(0),[N,w]=(0,r.useState)(!1),[k,S]=(0,r.useState)({priceRange:{min:"",max:""},store:"",sortBy:""}),C=["/IMAGES/book-hero-1.jpg","/IMAGES/book-hero-2.jpg","/IMAGES/book-hero-3.jpg"];(0,r.useEffect)(()=>{const e=setInterval(()=>{b(e=>(e+1)%C.length)},5e3);return()=>clearInterval(e)},[C.length]);const P=(0,r.useCallback)((e,t,a,r)=>{const s=e=>e*(Math.PI/180),n=s(a-e),i=s(r-t),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(s(e))*Math.cos(s(a))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},[]);(0,r.useEffect)(()=>{(async()=>{try{x(!0);const e=await fetch("http://localhost:5000/api/products/category/Books");if(e.ok){const t=await e.json();console.log("Fetched Books products:",t),console.log("Selected Vendor:",u),h(t),g(t)}else console.error("Failed to fetch books products"),v("Failed to load products")}catch(j){console.error("Error fetching books products:",j),v(j.message)}finally{x(!1)}})()},[]),(0,r.useEffect)(()=>{if(p.length>0)if(navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const t=e.coords.latitude,a=e.coords.longitude,r=p.map(e=>{if(e.lat&&e.lon){const r=P(t,a,e.lat,e.lon);return c(c({},e),{},{distance:"".concat(r.toFixed(1)," km away"),distanceValue:parseFloat(r.toFixed(1))})}return c(c({},e),{},{distance:"Distance N/A",distanceValue:999})});h(r),g(r)},e=>{console.warn("Geolocation error: ".concat(e.message,"."));const t=p.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(t),g(t)});else{console.warn("Geolocation is not supported by this browser.");const e=p.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(e),g(e)}},[p.length,P]),(0,r.useEffect)(()=>{if(console.log("Books - Selected Vendor:",u),console.log("Books - Search Query:",l),console.log("Books - Products Count:",p.length),0===p.length)return;let e=[...p];if(u&&(console.log("Filtering products by vendor:",u),e=e.filter(e=>e.vendor===u),console.log("Products after vendor filter:",e.length)),l&&l.trim()){const t=l.toLowerCase().trim();e=e.filter(e=>{var a,r,s;const n=null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t),i=null===(r=e.vendor)||void 0===r?void 0:r.toLowerCase().includes(t),o=null===(s=e.category)||void 0===s?void 0:s.toLowerCase().includes(t);return n||i||o})}if(k.priceRange.min&&(e=e.filter(e=>e.price>=parseFloat(k.priceRange.min))),k.priceRange.max&&(e=e.filter(e=>e.price<=parseFloat(k.priceRange.max))),k.store&&(e=e.filter(e=>{var t;return null===(t=e.vendor)||void 0===t?void 0:t.toLowerCase().includes(k.store.toLowerCase())})),k.sortBy)switch(k.sortBy){case"price-low":e.sort((e,t)=>e.price-t.price);break;case"price-high":e.sort((e,t)=>t.price-e.price);break;case"distance":e.sort((e,t)=>(e.distanceValue||999)-(t.distanceValue||999));break;case"name-az":e.sort((e,t)=>e.name.localeCompare(t.name));break;case"name-za":e.sort((e,t)=>t.name.localeCompare(e.name))}console.log("Final Filtered Books Products Count:",e.length),g(e)},[l,p,u,k]);const T=(e,t)=>{S(a=>c(c({},a),{},{[e]:t}))},M=(e,t)=>{S(a=>c(c({},a),{},{priceRange:c(c({},a.priceRange),{},{[e]:t})}))},A=()=>{let e=0;return(k.priceRange.min||k.priceRange.max)&&e++,k.store&&e++,k.sortBy&&e++,e};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("section",{className:"hero",id:"hero",children:(0,d.jsx)("div",{className:"slider-container",children:(0,d.jsx)("div",{className:"bg-slider-track",style:{transform:"translateX(-".concat(100*y,"%)")},children:C.map((e,t)=>(0,d.jsx)("div",{className:"bg-slide ".concat(t===y?"active":""),style:{backgroundImage:"url('".concat(e,"')")}},t))})})}),(0,d.jsx)("section",{id:"books",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[u&&(0,d.jsx)("div",{style:{marginBottom:"20px"},children:(0,d.jsxs)("h2",{style:{color:"#333",fontSize:"2rem"},children:[u," - Books"]})}),!u&&(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Books"})}),!f&&!j&&(0,d.jsxs)("div",{className:"filter-section",children:[(0,d.jsxs)("button",{className:"filter-toggle-btn",onClick:()=>w(!N),children:[(0,d.jsx)("i",{className:"fas fa-filter"}),"Filters ",A()>0&&"(".concat(A(),")")]}),A()>0&&(0,d.jsxs)("button",{className:"clear-filters-btn",onClick:()=>{S({priceRange:{min:"",max:""},store:"",sortBy:""})},children:[(0,d.jsx)("i",{className:"fas fa-times"})," Clear All"]})]}),N&&(0,d.jsx)("div",{className:"filter-panel",children:(0,d.jsxs)("div",{className:"filter-grid",children:[(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-rupee-sign"})," Price Range"]}),(0,d.jsxs)("div",{className:"price-range-inputs",children:[(0,d.jsx)("input",{type:"number",placeholder:"Min",value:k.priceRange.min,onChange:e=>M("min",e.target.value)}),(0,d.jsx)("span",{children:"to"}),(0,d.jsx)("input",{type:"number",placeholder:"Max",value:k.priceRange.max,onChange:e=>M("max",e.target.value)})]})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-store"})," Store"]}),(0,d.jsx)("input",{type:"text",placeholder:"Search store",value:k.store,onChange:e=>T("store",e.target.value)})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-sort"})," Sort By"]}),(0,d.jsxs)("select",{value:k.sortBy,onChange:e=>T("sortBy",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"Default"}),(0,d.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,d.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,d.jsx)("option",{value:"distance",children:"Distance: Nearest First"}),(0,d.jsx)("option",{value:"name-az",children:"Name: A to Z"}),(0,d.jsx)("option",{value:"name-za",children:"Name: Z to A"})]})]})]})}),l&&(0,d.jsx)("div",{className:"search-results-info",style:{textAlign:"center",marginBottom:"20px"},children:(0,d.jsxs)("p",{children:[m.length," result",1!==m.length?"s":""," found",u?" in ".concat(u):"",' for "',l,'"']})}),f?(0,d.jsx)("div",{style:{textAlign:"center",padding:"50px"},children:(0,d.jsx)("p",{children:"Loading books products..."})}):j?(0,d.jsx)("div",{style:{textAlign:"center",padding:"50px",color:"red"},children:(0,d.jsxs)("p",{children:["Error loading products: ",j]})}):0===m.length?(0,d.jsx)("div",{className:"no-results-message",style:{textAlign:"center",padding:"50px"},children:(0,d.jsxs)("p",{children:["No books found",u?" in ".concat(u):"",l?' for "'.concat(l,'"'):"","."]})}):(0,d.jsx)("div",{className:"product-grid",children:m.map(e=>{return(0,d.jsx)(ae,{product:e,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,isWishlisted:(r=e._id||e.id,t.some(e=>(e._id||e.id)===r)),cartItems:i,navigateTo:o},e._id||e.id);var r})})]})})]})},se=e=>{let{product:t,onAddToCart:a,onToggleWishlist:r,isWishlisted:s,onViewProduct:n,cartItems:i,navigateTo:o}=e;return(0,d.jsxs)("div",{className:"product-card",draggable:"true",onClick:e=>{e.target.closest("button")||n(t)},style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:t.image?t.image.startsWith("http")?t.image:t.image.includes("-")&&/^\d+-\w+\./.test(t.image)?"http://localhost:5000/uploads/".concat(t.image):"/IMAGES/".concat(t.image):"https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+")),alt:t.name,className:"product-img",onError:e=>{e.target.src="https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+"))}}),(0,d.jsxs)("div",{className:"product-info",children:[(0,d.jsx)("h3",{className:"product-title",children:t.name}),(0,d.jsxs)("div",{className:"product-vendor",children:[(0,d.jsx)("i",{className:"fas fa-store"})," ",(0,d.jsx)("span",{children:t.vendor})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"})," ",(0,d.jsx)("span",{children:t.distance||"Calculating..."})]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-actions",children:[(0,d.jsx)("button",{className:"like-btn",onClick:()=>r(t),style:{color:s?"var(--secondary)":"var(--gray)"},children:(0,d.jsx)("i",{className:s?"fas fa-heart":"far fa-heart"})}),i&&i.some(e=>(e._id||e.id)===(t._id||t.id))?(0,d.jsx)("button",{className:"btn go-to-cart",onClick:()=>o("cart"),children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn add-to-cart",onClick:()=>a(t),children:"Add to Cart"})]})]})]})},ne=e=>{let{wishlistItems:t,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,cartItems:i,navigateTo:o,searchQuery:l,selectedVendor:u}=e;const[p,h]=(0,r.useState)([]),[m,g]=(0,r.useState)([]),[f,x]=(0,r.useState)(!0),[j,v]=(0,r.useState)(null),[y,b]=(0,r.useState)(0),[N,w]=(0,r.useState)(!1),[k,S]=(0,r.useState)({priceRange:{min:"",max:""},store:"",sortBy:""}),C=["/IMAGES/petfood-hero-1.jpg","/IMAGES/petfood-hero-2.png","/IMAGES/petfood-hero-3.jpg"];(0,r.useEffect)(()=>{const e=setInterval(()=>{b(e=>(e+1)%C.length)},5e3);return()=>clearInterval(e)},[C.length]);const P=(0,r.useCallback)((e,t,a,r)=>{const s=e=>e*(Math.PI/180),n=s(a-e),i=s(r-t),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(s(e))*Math.cos(s(a))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},[]);(0,r.useEffect)(()=>{(async()=>{try{x(!0);const e=await fetch("http://localhost:5000/api/products/category/".concat(encodeURIComponent("Pet Food")));if(!e.ok)throw new Error("Failed to fetch products");const t=await e.json();if(console.log("Fetched Pet Food products:",t),console.log("Selected Vendor:",u),navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const a=e.coords.latitude,r=e.coords.longitude,s=t.map(e=>{if(e.lat&&e.lon){const t=P(a,r,e.lat,e.lon);return c(c({},e),{},{distance:"".concat(t.toFixed(1)," km away"),distanceValue:parseFloat(t.toFixed(1))})}return c(c({},e),{},{distance:"Distance N/A",distanceValue:999})});h(s),g(s)},e=>{console.warn("Geolocation error: ".concat(e.message,"."));const a=t.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(a),g(a)});else{console.warn("Geolocation is not supported by this browser.");const e=t.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(e),g(e)}v(null)}catch(j){console.error("Error fetching pet food products:",j),v(j.message),g([])}finally{x(!1)}})()},[P]),(0,r.useEffect)(()=>{if(console.log("Petfood - Selected Vendor:",u),console.log("Petfood - Search Query:",l),console.log("Petfood - Products Count:",p.length),0===p.length)return;let e=[...p];if(u&&(console.log("Filtering products by vendor:",u),e=e.filter(e=>e.vendor===u),console.log("Products after vendor filter:",e.length)),l&&l.trim()){const t=l.toLowerCase().trim();e=e.filter(e=>{var a,r,s;const n=null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t),i=null===(r=e.vendor)||void 0===r?void 0:r.toLowerCase().includes(t),o=null===(s=e.category)||void 0===s?void 0:s.toLowerCase().includes(t);return n||i||o})}if(k.priceRange.min&&(e=e.filter(e=>e.price>=parseFloat(k.priceRange.min))),k.priceRange.max&&(e=e.filter(e=>e.price<=parseFloat(k.priceRange.max))),k.store&&(e=e.filter(e=>{var t;return null===(t=e.vendor)||void 0===t?void 0:t.toLowerCase().includes(k.store.toLowerCase())})),k.sortBy)switch(k.sortBy){case"price-low":e.sort((e,t)=>e.price-t.price);break;case"price-high":e.sort((e,t)=>t.price-e.price);break;case"distance":e.sort((e,t)=>(e.distanceValue||999)-(t.distanceValue||999));break;case"name-az":e.sort((e,t)=>e.name.localeCompare(t.name));break;case"name-za":e.sort((e,t)=>t.name.localeCompare(e.name))}console.log("Final Filtered Pet Food Products Count:",e.length),g(e)},[l,p,u,k]);const T=(e,t)=>{S(a=>c(c({},a),{},{[e]:t}))},M=(e,t)=>{S(a=>c(c({},a),{},{priceRange:c(c({},a.priceRange),{},{[e]:t})}))},A=()=>{let e=0;return(k.priceRange.min||k.priceRange.max)&&e++,k.store&&e++,k.sortBy&&e++,e};return(0,d.jsxs)("div",{children:[(0,d.jsx)("section",{className:"hero",id:"hero",children:(0,d.jsx)("div",{className:"hero-carousel",children:(0,d.jsx)("div",{className:"carousel-slides",style:{transform:"translateX(-".concat(100*y,"%)")},children:C.map((e,t)=>(0,d.jsx)("div",{className:"carousel-slide",children:(0,d.jsx)("img",{src:e,alt:"Pet Food slide ".concat(t+1)})},t))})})}),(0,d.jsx)("section",{id:"petfood",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[u&&(0,d.jsx)("div",{style:{marginBottom:"20px"},children:(0,d.jsxs)("h2",{style:{color:"#333",fontSize:"2rem",textAlign:"center"},children:[u," - Pet Food"]})}),!u&&(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Pet Food"})}),!f&&!j&&(0,d.jsxs)("div",{className:"filter-section",children:[(0,d.jsxs)("button",{className:"filter-toggle-btn",onClick:()=>w(!N),children:[(0,d.jsx)("i",{className:"fas fa-filter"}),"Filters ",A()>0&&"(".concat(A(),")")]}),A()>0&&(0,d.jsxs)("button",{className:"clear-filters-btn",onClick:()=>{S({priceRange:{min:"",max:""},store:"",sortBy:""})},children:[(0,d.jsx)("i",{className:"fas fa-times"})," Clear All"]}),l&&(0,d.jsxs)("div",{className:"search-results-info",children:[m.length," result",1!==m.length?"s":""," found",u?" in ".concat(u):"",' for "',l,'"']})]}),N&&(0,d.jsx)("div",{className:"filter-panel",children:(0,d.jsxs)("div",{className:"filter-grid",children:[(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-rupee-sign"})," Price Range"]}),(0,d.jsxs)("div",{className:"price-range-inputs",children:[(0,d.jsx)("input",{type:"number",placeholder:"Min",value:k.priceRange.min,onChange:e=>M("min",e.target.value)}),(0,d.jsx)("span",{children:"to"}),(0,d.jsx)("input",{type:"number",placeholder:"Max",value:k.priceRange.max,onChange:e=>M("max",e.target.value)})]})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-store"})," Store"]}),(0,d.jsx)("input",{type:"text",placeholder:"Search store",value:k.store,onChange:e=>T("store",e.target.value)})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-sort"})," Sort By"]}),(0,d.jsxs)("select",{value:k.sortBy,onChange:e=>T("sortBy",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"Default"}),(0,d.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,d.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,d.jsx)("option",{value:"distance",children:"Distance: Nearest First"}),(0,d.jsx)("option",{value:"name-az",children:"Name: A to Z"}),(0,d.jsx)("option",{value:"name-za",children:"Name: Z to A"})]})]})]})}),f?(0,d.jsx)("div",{style:{textAlign:"center",padding:"50px"},children:(0,d.jsx)("p",{children:"Loading pet food products..."})}):j?(0,d.jsx)("div",{style:{textAlign:"center",padding:"50px",color:"red"},children:(0,d.jsxs)("p",{children:["Error loading products: ",j]})}):0===m.length?(0,d.jsx)("div",{className:"no-results-message",style:{textAlign:"center",padding:"50px"},children:(0,d.jsxs)("p",{children:["No pet food products found",u?" in ".concat(u):"",l?' for "'.concat(l,'"'):"","."]})}):(0,d.jsx)("div",{className:"product-grid",children:m.map(e=>{return(0,d.jsx)(se,{product:e,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,isWishlisted:(r=e._id||e.id,t.some(e=>(e._id||e.id)===r)),cartItems:i,navigateTo:o},e._id||e.id);var r})})]})})]})},ie=e=>{let{product:t,onAddToCart:a,onToggleWishlist:r,isWishlisted:s,onViewProduct:n,cartItems:i,navigateTo:o}=e;return(0,d.jsxs)("div",{className:"product-card",draggable:"true",onClick:e=>{e.target.closest("button")||n(t)},style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:t.image?t.image.startsWith("http")?t.image:t.image.includes("-")&&/^\d+-\w+\./.test(t.image)?"http://localhost:5000/uploads/".concat(t.image):"/IMAGES/".concat(t.image):"https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+")),alt:t.name,className:"product-img",onError:e=>{e.target.src="https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+"))}}),(0,d.jsxs)("div",{className:"product-info",children:[(0,d.jsx)("h3",{className:"product-title",children:t.name}),(0,d.jsxs)("div",{className:"product-vendor",children:[(0,d.jsx)("i",{className:"fas fa-store"})," ",(0,d.jsx)("span",{children:t.vendor})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"})," ",(0,d.jsx)("span",{children:t.distance||"Calculating..."})]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-actions",children:[(0,d.jsx)("button",{className:"like-btn",onClick:()=>r(t),style:{color:s?"var(--secondary)":"var(--gray)"},children:(0,d.jsx)("i",{className:s?"fas fa-heart":"far fa-heart"})}),i&&i.some(e=>(e._id||e.id)===(t._id||t.id))?(0,d.jsx)("button",{className:"btn go-to-cart",onClick:()=>o("cart"),children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn add-to-cart",onClick:()=>a(t),children:"Add to Cart"})]})]})]})},oe=e=>{let{wishlistItems:t,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,cartItems:i,navigateTo:o,searchQuery:l,selectedVendor:u}=e;const[p,h]=(0,r.useState)([]),[m,g]=(0,r.useState)([]),[f,x]=(0,r.useState)(!0),[j,v]=(0,r.useState)(null),[y,b]=(0,r.useState)(0),[N,w]=(0,r.useState)(!1),[k,S]=(0,r.useState)({priceRange:{min:"",max:""},store:"",sortBy:""}),C=["IMAGES/musical-hero-1.jpg","IMAGES/musical-hero-1.jpg","IMAGES/musical-hero-1.jpg"];(0,r.useEffect)(()=>{const e=setInterval(()=>{b(e=>(e+1)%C.length)},5e3);return()=>clearInterval(e)},[C.length]);const P=(0,r.useCallback)((e,t,a,r)=>{const s=e=>e*(Math.PI/180),n=s(a-e),i=s(r-t),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(s(e))*Math.cos(s(a))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},[]);(0,r.useEffect)(()=>{(async()=>{try{x(!0);const e=await fetch("http://localhost:5000/api/products/category/".concat(encodeURIComponent("Musical Instruments")));if(!e.ok)throw new Error("Failed to fetch products");const t=await e.json();if(console.log("Fetched Musical Instruments products:",t),console.log("Selected Vendor:",u),navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const a=e.coords.latitude,r=e.coords.longitude,s=t.map(e=>{if(e.lat&&e.lon){const t=P(a,r,e.lat,e.lon);return c(c({},e),{},{distance:"".concat(t.toFixed(1)," km away"),distanceValue:parseFloat(t.toFixed(1))})}return c(c({},e),{},{distance:"Distance N/A",distanceValue:999})});h(s),g(s)},e=>{console.warn("Geolocation error: ".concat(e.message,"."));const a=t.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(a),g(a)});else{console.warn("Geolocation is not supported by this browser.");const e=t.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(e),g(e)}}catch(e){v(e.message),console.error("Error fetching products:",e),g([])}finally{x(!1)}})()},[P]),(0,r.useEffect)(()=>{if(console.log("Musical - Selected Vendor:",u),console.log("Musical - Search Query:",l),console.log("Musical - Products Count:",p.length),0===p.length)return;let e=[...p];if(u&&(console.log("Filtering products by vendor:",u),e=e.filter(e=>e.vendor===u),console.log("Products after vendor filter:",e.length)),l&&l.trim()){const t=l.toLowerCase().trim();e=e.filter(e=>{var a,r,s;const n=null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t),i=null===(r=e.vendor)||void 0===r?void 0:r.toLowerCase().includes(t),o=null===(s=e.category)||void 0===s?void 0:s.toLowerCase().includes(t);return n||i||o})}if(k.priceRange.min&&(e=e.filter(e=>e.price>=parseFloat(k.priceRange.min))),k.priceRange.max&&(e=e.filter(e=>e.price<=parseFloat(k.priceRange.max))),k.store&&(e=e.filter(e=>{var t;return null===(t=e.vendor)||void 0===t?void 0:t.toLowerCase().includes(k.store.toLowerCase())})),k.sortBy)switch(k.sortBy){case"price-low":e.sort((e,t)=>e.price-t.price);break;case"price-high":e.sort((e,t)=>t.price-e.price);break;case"distance":e.sort((e,t)=>(e.distanceValue||999)-(t.distanceValue||999));break;case"name-az":e.sort((e,t)=>e.name.localeCompare(t.name));break;case"name-za":e.sort((e,t)=>t.name.localeCompare(e.name))}console.log("Final Filtered Musical Products Count:",e.length),g(e)},[l,p,u,k]);const T=(e,t)=>{S(a=>c(c({},a),{},{[e]:t}))},M=(e,t)=>{S(a=>c(c({},a),{},{priceRange:c(c({},a.priceRange),{},{[e]:t})}))},A=()=>{let e=0;return(k.priceRange.min||k.priceRange.max)&&e++,k.store&&e++,k.sortBy&&e++,e};return f?(0,d.jsx)("section",{id:"musical",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Musical Instruments"})}),(0,d.jsx)("div",{className:"loading",children:"Loading products..."})]})}):j?(0,d.jsx)("section",{id:"musical",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Musical Instruments"})}),(0,d.jsxs)("div",{className:"error",children:["Error loading products: ",j]})]})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("section",{className:"hero",id:"hero",children:(0,d.jsx)("div",{className:"hero-carousel",children:(0,d.jsx)("div",{className:"carousel-slides",style:{transform:"translateX(-".concat(100*y,"%)")},children:C.map((e,t)=>(0,d.jsx)("div",{className:"carousel-slide",children:(0,d.jsx)("img",{src:e,alt:"Musical Instruments slide ".concat(t+1)})},t))})})}),(0,d.jsx)("section",{id:"musical",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[u&&(0,d.jsx)("div",{style:{marginBottom:"20px"},children:(0,d.jsxs)("h2",{style:{color:"#333",fontSize:"2rem",textAlign:"center"},children:[u," - Musical Instruments"]})}),!u&&(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Musical Instruments"})}),!f&&!j&&(0,d.jsxs)("div",{className:"filter-section",children:[(0,d.jsxs)("button",{className:"filter-toggle-btn",onClick:()=>w(!N),children:[(0,d.jsx)("i",{className:"fas fa-filter"}),"Filters ",A()>0&&"(".concat(A(),")")]}),A()>0&&(0,d.jsxs)("button",{className:"clear-filters-btn",onClick:()=>{S({priceRange:{min:"",max:""},store:"",sortBy:""})},children:[(0,d.jsx)("i",{className:"fas fa-times"})," Clear All"]}),l&&(0,d.jsxs)("div",{className:"search-results-info",children:[m.length," result",1!==m.length?"s":""," found",u?" in ".concat(u):"",' for "',l,'"']})]}),N&&(0,d.jsx)("div",{className:"filter-panel",children:(0,d.jsxs)("div",{className:"filter-grid",children:[(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-rupee-sign"})," Price Range"]}),(0,d.jsxs)("div",{className:"price-range-inputs",children:[(0,d.jsx)("input",{type:"number",placeholder:"Min",value:k.priceRange.min,onChange:e=>M("min",e.target.value)}),(0,d.jsx)("span",{children:"to"}),(0,d.jsx)("input",{type:"number",placeholder:"Max",value:k.priceRange.max,onChange:e=>M("max",e.target.value)})]})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-store"})," Store"]}),(0,d.jsx)("input",{type:"text",placeholder:"Search store",value:k.store,onChange:e=>T("store",e.target.value)})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-sort"})," Sort By"]}),(0,d.jsxs)("select",{value:k.sortBy,onChange:e=>T("sortBy",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"Default"}),(0,d.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,d.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,d.jsx)("option",{value:"distance",children:"Distance: Nearest First"}),(0,d.jsx)("option",{value:"name-az",children:"Name: A to Z"}),(0,d.jsx)("option",{value:"name-za",children:"Name: Z to A"})]})]})]})}),0===m.length?(0,d.jsx)("div",{className:"no-results-message",style:{textAlign:"center",padding:"50px"},children:(0,d.jsxs)("p",{children:["No musical instruments found",u?" in ".concat(u):"",l?' for "'.concat(l,'"'):"","."]})}):(0,d.jsx)("div",{className:"product-grid",children:m.map(e=>{return(0,d.jsx)(ie,{product:e,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,isWishlisted:(r=e._id,t.some(e=>(e._id||e.id)===r)),cartItems:i,navigateTo:o},e._id);var r})})]})})]})},le=e=>{let{product:t,onAddToCart:a,onToggleWishlist:r,isWishlisted:s,onViewProduct:n,cartItems:i,navigateTo:o}=e;return(0,d.jsxs)("div",{className:"product-card",draggable:"true",onClick:e=>{e.target.closest("button")||n&&n(t)},style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:t.image?t.image.startsWith("http")?t.image:t.image.includes("-")&&/^\d+-\w+\./.test(t.image)?"http://localhost:5000/uploads/".concat(t.image):"/IMAGES/".concat(t.image):"https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+")),alt:t.name,className:"product-img",onError:e=>{e.target.src="https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+"))}}),(0,d.jsxs)("div",{className:"product-info",children:[(0,d.jsx)("h3",{className:"product-title",children:t.name}),(0,d.jsxs)("div",{className:"product-vendor",children:[(0,d.jsx)("i",{className:"fas fa-store"}),(0,d.jsx)("span",{children:t.vendor})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,d.jsx)("span",{children:t.distance||"Calculating..."})]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-actions",children:[(0,d.jsx)("button",{className:"like-btn",onClick:e=>{e.stopPropagation(),r&&r(t)},title:s?"Remove from Wishlist":"Add to Wishlist",children:s?(0,d.jsx)("i",{className:"fas fa-heart",style:{fontSize:"24px"}}):(0,d.jsx)("i",{className:"far fa-heart",style:{fontSize:"24px"}})}),i&&i.some(e=>(e._id||e.id)===(t._id||t.id))?(0,d.jsx)("button",{className:"btn go-to-cart",onClick:e=>{e.stopPropagation(),o("cart")},children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn add-to-cart",onClick:e=>{e.stopPropagation(),a(t)},children:"Add to Cart"})]})]})]})},ce=e=>{let{cartItems:t,wishlistItems:a,onAddToCart:s,onToggleWishlist:n,onViewProduct:i,navigateTo:o,searchQuery:l,selectedVendor:u}=e;const[p,h]=(0,r.useState)({womens:[],mens:[],kids:[]}),[m,g]=(0,r.useState)({womens:[],mens:[],kids:[]}),[f,x]=(0,r.useState)(!0),[j,v]=(0,r.useState)(null),[y,b]=(0,r.useState)(0),[N,w]=(0,r.useState)(!1),[k,S]=(0,r.useState)({priceRange:{min:"",max:""},category:"",store:"",sortBy:""}),C=["../IMAGES/footweare-hero-1.jpg","../IMAGES/footwere-hero-22.jpg","../IMAGES/footeweare-hero-3.jpg"];(0,r.useEffect)(()=>{const e=setInterval(()=>{b(e=>(e+1)%C.length)},5e3);return()=>clearInterval(e)},[C.length]);const P=(0,r.useCallback)((e,t,a,r)=>{const s=e=>e*(Math.PI/180),n=s(a-e),i=s(r-t),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(s(e))*Math.cos(s(a))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},[]);(0,r.useEffect)(()=>{(async()=>{try{x(!0);const e=await fetch("http://localhost:5000/api/products/category/Footwear");if(!e.ok)throw new Error("Failed to fetch products");const t=await e.json(),a=t.filter(e=>"Women's Footwear"===e.subcategory),r=t.filter(e=>"Men's Footwear"===e.subcategory),s=t.filter(e=>"Kids' Footwear"===e.subcategory);if(navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const t=e.coords.latitude,n=e.coords.longitude,i=e=>e.map(e=>{if(e.lat&&e.lon){const a=P(t,n,e.lat,e.lon);return c(c({},e),{},{distance:"".concat(a.toFixed(1)," km away"),distanceValue:parseFloat(a.toFixed(1))})}return c(c({},e),{},{distance:"Distance N/A",distanceValue:999})}),o={womens:i(a),mens:i(r),kids:i(s)};h(o),g(o)},()=>{const e=e=>e.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5})),t={womens:e(a),mens:e(r),kids:e(s)};h(t),g(t)});else{const e=e=>e.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5})),t={womens:e(a),mens:e(r),kids:e(s)};h(t),g(t)}v(null)}catch(e){console.error(e),v("Failed to load products"),g({womens:[],mens:[],kids:[]})}finally{x(!1)}})()},[P]),(0,r.useEffect)(()=>{if(0===p.womens.length+p.mens.length+p.kids.length)return;let e=[...p.womens,...p.mens,...p.kids];if(u&&(e=e.filter(e=>e.vendor===u)),l&&l.trim()){const t=l.toLowerCase().trim();e=e.filter(e=>e.name.toLowerCase().includes(t)||e.vendor.toLowerCase().includes(t)||e.category.toLowerCase().includes(t))}if(k.priceRange.min&&(e=e.filter(e=>e.price>=parseFloat(k.priceRange.min))),k.priceRange.max&&(e=e.filter(e=>e.price<=parseFloat(k.priceRange.max))),k.category&&(e=e.filter(e=>e.subcategory===k.category)),k.store&&(e=e.filter(e=>{var t;return null===(t=e.vendor)||void 0===t?void 0:t.toLowerCase().includes(k.store.toLowerCase())})),k.sortBy)switch(k.sortBy){case"price-low":e.sort((e,t)=>e.price-t.price);break;case"price-high":e.sort((e,t)=>t.price-e.price);break;case"distance":e.sort((e,t)=>(e.distanceValue||999)-(t.distanceValue||999));break;case"name-az":e.sort((e,t)=>e.name.localeCompare(t.name));break;case"name-za":e.sort((e,t)=>t.name.localeCompare(e.name))}const t={womens:e.filter(e=>"Women's Footwear"===e.subcategory),mens:e.filter(e=>"Men's Footwear"===e.subcategory),kids:e.filter(e=>"Kids' Footwear"===e.subcategory)};g(t)},[l,u,p,k]);const T=(e,t)=>{S(a=>c(c({},a),{},{[e]:t}))},M=(e,t)=>{S(a=>c(c({},a),{},{priceRange:c(c({},a.priceRange),{},{[e]:t})}))},A=()=>{let e=0;return(k.priceRange.min||k.priceRange.max)&&e++,k.category&&e++,k.store&&e++,k.sortBy&&e++,e},I=e=>a.some(t=>(t._id||t.id)===(e._id||e.id)),E=e=>0===e.length?(0,d.jsx)("div",{className:"no-products-message",children:"No products found in this category."}):(0,d.jsx)("div",{className:"product-grid",children:e.map(e=>(0,d.jsx)(le,{product:e,onAddToCart:s,onToggleWishlist:n,onViewProduct:i,cartItems:t,navigateTo:o,isWishlisted:I(e)},e._id||e.id))});if(f)return(0,d.jsx)("div",{className:"container",children:(0,d.jsx)("div",{className:"loading",children:"Loading footwear..."})});if(j)return(0,d.jsx)("div",{className:"container",children:(0,d.jsx)("div",{className:"error",children:j})});const F=m.womens.length+m.mens.length+m.kids.length;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("section",{className:"hero",id:"hero",children:(0,d.jsx)("div",{className:"hero-carousel",children:(0,d.jsx)("div",{className:"carousel-slides",style:{transform:"translateX(-".concat(100*y,"%)")},children:C.map((e,t)=>(0,d.jsx)("div",{className:"carousel-slide",children:(0,d.jsx)("img",{src:e,alt:"Footwear slide ".concat(t+1)})},t))})})}),(0,d.jsxs)("div",{className:"container",children:[u&&(0,d.jsxs)("div",{style:{marginTop:"20px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[(0,d.jsx)("a",{href:"#footwear",onClick:e=>{e.preventDefault(),o("footwear")},className:"back-link",style:{position:"absolute",left:"0",color:"#007bff",textDecoration:"none",fontSize:"16px"},children:"\u2190 Back to Vendors"}),(0,d.jsxs)("h2",{style:{margin:0,fontSize:"2rem",color:"#333"},children:[u," - Footwear"]})]}),!f&&!j&&(0,d.jsxs)("div",{className:"filter-section",children:[(0,d.jsxs)("button",{className:"filter-toggle-btn",onClick:()=>w(!N),children:[(0,d.jsx)("i",{className:"fas fa-filter"}),"Filters ",A()>0&&"(".concat(A(),")")]}),A()>0&&(0,d.jsxs)("button",{className:"clear-filters-btn",onClick:()=>{S({priceRange:{min:"",max:""},category:"",store:"",sortBy:""})},children:[(0,d.jsx)("i",{className:"fas fa-times"})," Clear All"]}),l&&(0,d.jsxs)("div",{className:"search-results-info",children:[F," result",1!==F?"s":"",' found for "',l,'"']})]}),N&&(0,d.jsx)("div",{className:"filter-panel",children:(0,d.jsxs)("div",{className:"filter-grid",children:[(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-rupee-sign"})," Price Range"]}),(0,d.jsxs)("div",{className:"price-range-inputs",children:[(0,d.jsx)("input",{type:"number",placeholder:"Min",value:k.priceRange.min,onChange:e=>M("min",e.target.value)}),(0,d.jsx)("span",{children:"to"}),(0,d.jsx)("input",{type:"number",placeholder:"Max",value:k.priceRange.max,onChange:e=>M("max",e.target.value)})]})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-shoe-prints"})," Category"]}),(0,d.jsxs)("select",{value:k.category,onChange:e=>T("category",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"All Categories"}),(0,d.jsx)("option",{value:"Women's Footwear",children:"Women's Footwear"}),(0,d.jsx)("option",{value:"Men's Footwear",children:"Men's Footwear"}),(0,d.jsx)("option",{value:"Kids' Footwear",children:"Kids' Footwear"})]})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-store"})," Store"]}),(0,d.jsx)("input",{type:"text",placeholder:"Search store",value:k.store,onChange:e=>T("store",e.target.value)})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-sort"})," Sort By"]}),(0,d.jsxs)("select",{value:k.sortBy,onChange:e=>T("sortBy",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"Default"}),(0,d.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,d.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,d.jsx)("option",{value:"distance",children:"Distance: Nearest First"}),(0,d.jsx)("option",{value:"name-az",children:"Name: A to Z"}),(0,d.jsx)("option",{value:"name-za",children:"Name: Z to A"})]})]})]})})]}),(0,d.jsx)("section",{id:"womens-footwear",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:u?"".concat(u," - Women's Footwear"):"Women's Footwear"})}),E(m.womens)]})}),(0,d.jsx)("section",{id:"mens-footwear",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:u?"".concat(u," - Men's Footwear"):"Men's Footwear"})}),E(m.mens)]})}),(0,d.jsx)("section",{id:"kids-footwear",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:u?"".concat(u," - Kids' Footwear"):"Kids' Footwear"})}),E(m.kids)]})})]})},de=e=>{let{product:t,onAddToCart:a,onToggleWishlist:r,isWishlisted:s,onViewProduct:n,cartItems:i,navigateTo:o}=e;return(0,d.jsxs)("div",{className:"product-card",draggable:"true",onClick:e=>{e.target.closest("button")||n(t)},style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:t.image?t.image.startsWith("http")?t.image:t.image.includes("-")&&/^\d+-\w+\./.test(t.image)?"http://localhost:5000/uploads/".concat(t.image):"/IMAGES/".concat(t.image):"https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+")),alt:t.name,className:"product-img",onError:e=>{e.target.src="https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+"))}}),(0,d.jsxs)("div",{className:"product-info",children:[(0,d.jsx)("h3",{className:"product-title",children:t.name}),(0,d.jsxs)("div",{className:"product-vendor",children:[(0,d.jsx)("i",{className:"fas fa-store"})," ",(0,d.jsx)("span",{children:t.vendor})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"})," ",(0,d.jsx)("span",{children:t.distance||"Calculating..."})]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-actions",children:[(0,d.jsx)("button",{className:"like-btn",onClick:()=>r(t),style:{color:s?"var(--secondary)":"var(--gray)"},children:(0,d.jsx)("i",{className:s?"fas fa-heart":"far fa-heart"})}),i&&i.some(e=>(e._id||e.id)===(t._id||t.id))?(0,d.jsx)("button",{className:"btn go-to-cart",onClick:()=>o("cart"),children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn add-to-cart",onClick:()=>a(t),children:"Add to Cart"})]})]})]})},ue=e=>{let{wishlistItems:t,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,cartItems:i,navigateTo:o,searchQuery:l,selectedVendor:u}=e;const[p,h]=(0,r.useState)([]),[m,g]=(0,r.useState)([]),[f,x]=(0,r.useState)(!0),[j,v]=(0,r.useState)(null),[y,b]=(0,r.useState)(0),[N,w]=(0,r.useState)(!1),[k,S]=(0,r.useState)({priceRange:{min:"",max:""},store:"",sortBy:""}),C=["IMAGES/home-hero-1.jpg","IMAGES/home-hero-2.jpg","IMAGES/home-hero-3.jpg"];(0,r.useEffect)(()=>{const e=setInterval(()=>{b(e=>(e+1)%C.length)},5e3);return()=>clearInterval(e)},[C.length]);const P=(0,r.useCallback)((e,t,a,r)=>{const s=e=>e*(Math.PI/180),n=s(a-e),i=s(r-t),o=Math.sin(n/2)**2+Math.cos(s(e))*Math.cos(s(a))*Math.sin(i/2)**2;return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},[]);(0,r.useEffect)(()=>{(async()=>{try{x(!0);const e=await fetch("http://localhost:5000/api/products/category/Home Furniture");if(!e.ok)throw new Error("Failed to fetch furniture");const t=await e.json();if(navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const{latitude:a,longitude:r}=e.coords,s=t.map(e=>{if(e.lat&&e.lon){const t=P(a,r,e.lat,e.lon);return c(c({},e),{},{distance:"".concat(t.toFixed(1)," km away"),distanceValue:parseFloat(t.toFixed(1))})}return c(c({},e),{},{distance:"Distance N/A",distanceValue:999})});h(s),g(s)},()=>{const e=t.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(e),g(e)});else{const e=t.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(e),g(e)}}catch(e){console.error(e),v(e.message),g([])}finally{x(!1)}})()},[P]),(0,r.useEffect)(()=>{if(0===p.length)return;let e=[...p];if(u&&(e=e.filter(e=>e.vendor===u)),l&&l.trim()){const t=l.toLowerCase().trim();e=e.filter(e=>{var a,r,s;return(null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(r=e.vendor)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(s=e.category)||void 0===s?void 0:s.toLowerCase().includes(t))})}if(k.priceRange.min&&(e=e.filter(e=>e.price>=parseFloat(k.priceRange.min))),k.priceRange.max&&(e=e.filter(e=>e.price<=parseFloat(k.priceRange.max))),k.store&&(e=e.filter(e=>{var t;return null===(t=e.vendor)||void 0===t?void 0:t.toLowerCase().includes(k.store.toLowerCase())})),k.sortBy)switch(k.sortBy){case"price-low":e.sort((e,t)=>e.price-t.price);break;case"price-high":e.sort((e,t)=>t.price-e.price);break;case"distance":e.sort((e,t)=>(e.distanceValue||999)-(t.distanceValue||999));break;case"name-az":e.sort((e,t)=>e.name.localeCompare(t.name));break;case"name-za":e.sort((e,t)=>t.name.localeCompare(e.name))}g(e)},[l,u,p,k]);const T=(e,t)=>{S(a=>c(c({},a),{},{[e]:t}))},M=(e,t)=>{S(a=>c(c({},a),{},{priceRange:c(c({},a.priceRange),{},{[e]:t})}))},A=()=>{let e=0;return(k.priceRange.min||k.priceRange.max)&&e++,k.store&&e++,k.sortBy&&e++,e};return f?(0,d.jsx)("section",{id:"homefurniture",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Home Furniture"})}),(0,d.jsx)("div",{className:"loading",children:"Loading products..."})]})}):j?(0,d.jsx)("section",{id:"homefurniture",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Home Furniture"})}),(0,d.jsxs)("div",{className:"error",children:["Error loading products: ",j]})]})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("section",{className:"hero",id:"hero",children:(0,d.jsx)("div",{className:"hero-carousel",children:(0,d.jsx)("div",{className:"carousel-slides",style:{transform:"translateX(-".concat(100*y,"%)")},children:C.map((e,t)=>(0,d.jsx)("div",{className:"carousel-slide",children:(0,d.jsx)("img",{src:e,alt:"Furniture slide ".concat(t+1)})},t))})})}),(0,d.jsx)("section",{id:"homefurniture",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[u&&(0,d.jsxs)("div",{style:{marginTop:"20px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:[(0,d.jsx)("a",{href:"#",onClick:e=>{e.preventDefault(),o("homefurniture")},style:{position:"absolute",left:0,fontSize:16,color:"#007bff"},children:"\u2190 Back to Vendors"}),(0,d.jsxs)("h2",{style:{margin:0},children:[u," \u2013 Home Furniture"]})]}),!u&&(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Home Furniture"})}),!f&&!j&&(0,d.jsxs)("div",{className:"filter-section",children:[(0,d.jsxs)("button",{className:"filter-toggle-btn",onClick:()=>w(!N),children:[(0,d.jsx)("i",{className:"fas fa-filter"}),"Filters ",A()>0&&"(".concat(A(),")")]}),A()>0&&(0,d.jsxs)("button",{className:"clear-filters-btn",onClick:()=>{S({priceRange:{min:"",max:""},store:"",sortBy:""})},children:[(0,d.jsx)("i",{className:"fas fa-times"})," Clear All"]}),l&&(0,d.jsxs)("div",{className:"search-results-info",children:[m.length," result",1!==m.length?"s":""," found",u?" in ".concat(u):"",' for "',l,'"']})]}),N&&(0,d.jsx)("div",{className:"filter-panel",children:(0,d.jsxs)("div",{className:"filter-grid",children:[(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-rupee-sign"})," Price Range"]}),(0,d.jsxs)("div",{className:"price-range-inputs",children:[(0,d.jsx)("input",{type:"number",placeholder:"Min",value:k.priceRange.min,onChange:e=>M("min",e.target.value)}),(0,d.jsx)("span",{children:"to"}),(0,d.jsx)("input",{type:"number",placeholder:"Max",value:k.priceRange.max,onChange:e=>M("max",e.target.value)})]})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-store"})," Store"]}),(0,d.jsx)("input",{type:"text",placeholder:"Search store",value:k.store,onChange:e=>T("store",e.target.value)})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-sort"})," Sort By"]}),(0,d.jsxs)("select",{value:k.sortBy,onChange:e=>T("sortBy",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"Default"}),(0,d.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,d.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,d.jsx)("option",{value:"distance",children:"Distance: Nearest First"}),(0,d.jsx)("option",{value:"name-az",children:"Name: A to Z"}),(0,d.jsx)("option",{value:"name-za",children:"Name: Z to A"})]})]})]})}),0===m.length&&!f&&!j&&(0,d.jsx)("div",{className:"no-results-message",children:(0,d.jsxs)("p",{children:["No furniture found",u?" in ".concat(u):"",l?' for "'.concat(l,'"'):"","."]})}),m.length>0&&(0,d.jsx)("div",{className:"product-grid",children:m.map(e=>{return(0,d.jsx)(de,{product:e,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,isWishlisted:(r=e._id,t.some(e=>(e._id||e.id)===r)),cartItems:i,navigateTo:o},e._id);var r})})]})})]})},pe=e=>{let{product:t,onAddToCart:a,onToggleWishlist:r,onViewProduct:s,isWishlisted:n,cartItems:i,navigateTo:o}=e;return(0,d.jsxs)("div",{className:"product-card",onClick:e=>{e.target.closest("button")||s(t)},children:[(0,d.jsx)("img",{src:t.image?t.image.startsWith("http")?t.image:t.image.includes("-")&&/^\d+-\w+\./.test(t.image)?"http://localhost:5000/uploads/".concat(t.image):"/IMAGES/".concat(t.image):"https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+")),alt:t.name,className:"product-img"}),(0,d.jsxs)("div",{className:"product-info",children:[(0,d.jsx)("h3",{className:"product-title",children:t.name}),(0,d.jsxs)("p",{className:"product-vendor",children:[(0,d.jsx)("i",{className:"fas fa-store"})," ",t.vendor]}),(0,d.jsxs)("div",{className:"product-price",children:[t.originalPrice&&(0,d.jsxs)("span",{className:"original-price",children:["\u20b9",t.originalPrice.toLocaleString()]}),(0,d.jsxs)("span",{className:"discounted-price",children:["\u20b9",t.price.toLocaleString()]}),t.discount&&(0,d.jsxs)("span",{className:"discount-badge",children:[t.discount,"% off"]})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"})," ",t.distance||"Calculating..."]}),(0,d.jsxs)("div",{className:"product-actions",children:[(0,d.jsx)("button",{className:"like-btn",onClick:()=>r(t),style:{color:n?"var(--secondary)":"var(--gray)"},children:(0,d.jsx)("i",{className:n?"fas fa-heart":"far fa-heart"})}),i&&i.some(e=>(e._id||e.id)===(t._id||t.id))?(0,d.jsx)("button",{className:"btn go-to-cart",onClick:()=>o("cart"),children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn add-to-cart",onClick:()=>a(t),children:"Add to Cart"})]})]})]})},he=e=>{let{wishlistItems:t,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,cartItems:i,navigateTo:o,searchQuery:l,selectedVendor:u}=e;const[p,h]=(0,r.useState)([]),[m,g]=(0,r.useState)([]),[f,x]=(0,r.useState)(!0),[j,v]=(0,r.useState)(null),[y,b]=(0,r.useState)(0),[N,w]=(0,r.useState)(!1),[k,S]=(0,r.useState)({priceRange:{min:"",max:""},store:"",sortBy:""}),C=["IMAGES/home-decor-hero-1.jpg","IMAGES/home-decor-hero-2.jpg","IMAGES/home-decor-hero-3.jpg"],P=(0,r.useCallback)((e,t,a,r)=>{const s=e=>e*(Math.PI/180),n=s(a-e),i=s(r-t),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(s(e))*Math.cos(s(a))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},[]);(0,r.useEffect)(()=>{(async()=>{try{x(!0);const e=await fetch("http://localhost:5000/api/products/category/".concat(encodeURIComponent("Home Decor")));if(!e.ok)throw new Error("Failed to fetch products");const t=await e.json();if(console.log("Fetched Home Decor products:",t),console.log("Selected Vendor:",u),navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const a=e.coords.latitude,r=e.coords.longitude,s=t.map(e=>{if(e.lat&&e.lon){const t=P(a,r,e.lat,e.lon);return c(c({},e),{},{distance:"".concat(t.toFixed(1)," km away"),distanceValue:parseFloat(t.toFixed(1))})}return c(c({},e),{},{distance:"Distance N/A",distanceValue:999})});h(s)},e=>{console.warn("Geolocation error: ".concat(e.message,"."));const a=t.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(a),g(a)});else{console.warn("Geolocation is not supported by this browser.");const e=t.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(e),g(e)}}catch(e){v(e.message),console.error("Error fetching products:",e)}finally{x(!1)}})()},[P]),(0,r.useEffect)(()=>{if(console.log("HomeDecor - Selected Vendor:",u),console.log("HomeDecor - Search Query:",l),console.log("HomeDecor - Products Count:",p.length),0===p.length)return;let e=[...p];if(u&&(console.log("Filtering products by vendor:",u),e=e.filter(e=>e.vendor===u),console.log("Products after vendor filter:",e.length)),l&&l.trim()){const t=l.toLowerCase().trim();e=e.filter(e=>{var a,r,s;const n=null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t),i=null===(r=e.vendor)||void 0===r?void 0:r.toLowerCase().includes(t),o=null===(s=e.category)||void 0===s?void 0:s.toLowerCase().includes(t);return n||i||o})}if(k.priceRange.min&&(e=e.filter(e=>e.price>=parseFloat(k.priceRange.min))),k.priceRange.max&&(e=e.filter(e=>e.price<=parseFloat(k.priceRange.max))),k.store&&(e=e.filter(e=>{var t;return null===(t=e.vendor)||void 0===t?void 0:t.toLowerCase().includes(k.store.toLowerCase())})),k.sortBy)switch(k.sortBy){case"price-low":e.sort((e,t)=>e.price-t.price);break;case"price-high":e.sort((e,t)=>t.price-e.price);break;case"distance":e.sort((e,t)=>(e.distanceValue||999)-(t.distanceValue||999));break;case"name-az":e.sort((e,t)=>e.name.localeCompare(t.name));break;case"name-za":e.sort((e,t)=>t.name.localeCompare(e.name))}console.log("Final Filtered Home Decor Products Count:",e.length),g(e)},[l,p,u,k]);const T=(e,t)=>{S(a=>c(c({},a),{},{[e]:t}))},M=(e,t)=>{S(a=>c(c({},a),{},{priceRange:c(c({},a.priceRange),{},{[e]:t})}))},A=()=>{let e=0;return(k.priceRange.min||k.priceRange.max)&&e++,k.store&&e++,k.sortBy&&e++,e};return(0,r.useEffect)(()=>{const e=setInterval(()=>{b(e=>(e+1)%C.length)},5e3);return()=>clearInterval(e)},[C.length]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("section",{className:"hero",id:"hero",children:(0,d.jsx)("div",{className:"hero-carousel",children:(0,d.jsx)("div",{className:"carousel-slides",style:{transform:"translateX(-".concat(100*y,"%)")},children:C.map((e,t)=>(0,d.jsx)("div",{className:"carousel-slide",children:(0,d.jsx)("img",{src:e,alt:"Home Decor slide ".concat(t+1)})},t))})})}),(0,d.jsx)("section",{id:"homedecor",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[u&&(0,d.jsx)("div",{style:{marginBottom:"20px"},children:(0,d.jsxs)("h2",{style:{color:"#333",fontSize:"2rem"},children:[u," - Home Decor"]})}),!u&&(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Home Decor"})}),!f&&!j&&(0,d.jsxs)("div",{className:"filter-section",children:[(0,d.jsxs)("button",{className:"filter-toggle-btn",onClick:()=>w(!N),children:[(0,d.jsx)("i",{className:"fas fa-filter"}),"Filters ",A()>0&&"(".concat(A(),")")]}),A()>0&&(0,d.jsxs)("button",{className:"clear-filters-btn",onClick:()=>{S({priceRange:{min:"",max:""},store:"",sortBy:""})},children:[(0,d.jsx)("i",{className:"fas fa-times"})," Clear All"]})]}),N&&(0,d.jsx)("div",{className:"filter-panel",children:(0,d.jsxs)("div",{className:"filter-grid",children:[(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-rupee-sign"})," Price Range"]}),(0,d.jsxs)("div",{className:"price-range-inputs",children:[(0,d.jsx)("input",{type:"number",placeholder:"Min",value:k.priceRange.min,onChange:e=>M("min",e.target.value)}),(0,d.jsx)("span",{children:"to"}),(0,d.jsx)("input",{type:"number",placeholder:"Max",value:k.priceRange.max,onChange:e=>M("max",e.target.value)})]})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-store"})," Store"]}),(0,d.jsx)("input",{type:"text",placeholder:"Search store",value:k.store,onChange:e=>T("store",e.target.value)})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-sort"})," Sort By"]}),(0,d.jsxs)("select",{value:k.sortBy,onChange:e=>T("sortBy",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"Default"}),(0,d.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,d.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,d.jsx)("option",{value:"distance",children:"Distance: Nearest First"}),(0,d.jsx)("option",{value:"name-az",children:"Name: A to Z"}),(0,d.jsx)("option",{value:"name-za",children:"Name: Z to A"})]})]})]})}),l&&(0,d.jsx)("div",{className:"search-results-info",style:{textAlign:"center",marginBottom:"20px"},children:(0,d.jsxs)("p",{children:[m.length," result",1!==m.length?"s":""," found",u?" in ".concat(u):"",' for "',l,'"']})}),f?(0,d.jsx)("div",{className:"loading",children:"Loading products..."}):j?(0,d.jsxs)("div",{className:"error",children:["Error: ",j]}):0===m.length?(0,d.jsx)("div",{className:"no-results-message",style:{textAlign:"center",padding:"50px"},children:(0,d.jsxs)("p",{children:["No home decor products found",u?" in ".concat(u):"",l?' for "'.concat(l,'"'):"","."]})}):(0,d.jsx)("div",{className:"product-grid",children:m.map(e=>{return(0,d.jsx)(pe,{product:e,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,isWishlisted:(r=e._id,t.some(e=>e._id===r)),cartItems:i,navigateTo:o},e._id);var r})})]})})]})},me=e=>{let{product:t,onAddToCart:a,onToggleWishlist:r,isWishlisted:s,onViewProduct:n,cartItems:i,navigateTo:o}=e;return(0,d.jsxs)("div",{className:"product-card",draggable:"true",onClick:e=>{e.target.closest("button")||n(t)},style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:t.image?t.image.startsWith("http")?t.image:t.image.includes("-")&&/^\d+-\w+\./.test(t.image)?"http://localhost:5000/uploads/".concat(t.image):"/IMAGES/".concat(t.image):"https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+")),alt:t.name,className:"product-img",onError:e=>{e.target.src="https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+"))}}),(0,d.jsxs)("div",{className:"product-info",children:[(0,d.jsx)("h3",{className:"product-title",children:t.name}),(0,d.jsxs)("div",{className:"product-vendor",children:[(0,d.jsx)("i",{className:"fas fa-store"})," ",(0,d.jsx)("span",{children:t.vendor})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"})," ",(0,d.jsx)("span",{children:t.distance||"Calculating..."})]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-actions",children:[(0,d.jsx)("button",{className:"like-btn",onClick:()=>r(t),style:{color:s?"var(--secondary)":"var(--gray)"},children:(0,d.jsx)("i",{className:s?"fas fa-heart":"far fa-heart"})}),i&&i.some(e=>(e._id||e.id)===(t._id||t.id))?(0,d.jsx)("button",{className:"btn go-to-cart",onClick:()=>o("cart"),children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn add-to-cart",onClick:()=>a(t),children:"Add to Cart"})]})]})]})},ge=e=>{let{wishlistItems:t=[],onAddToCart:a,onToggleWishlist:s,navigateTo:n,onViewProduct:i,cartItems:o,searchQuery:l,selectedVendor:u}=e;const[p,h]=(0,r.useState)([]),[m,g]=(0,r.useState)([]),[f,x]=(0,r.useState)(!0),[j,v]=(0,r.useState)(null),[y,b]=(0,r.useState)(0),[N,w]=(0,r.useState)(!1),[k,S]=(0,r.useState)({priceRange:{min:"",max:""},store:"",sortBy:""}),C=["/IMAGES/bags-hero-1.jpg","/IMAGES/bags-hero-2.png","/IMAGES/bags-hero-3.jpg"],P=(0,r.useCallback)((e,t,a,r)=>{const s=e=>e*(Math.PI/180),n=s(a-e),i=s(r-t),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(s(e))*Math.cos(s(a))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},[]);(0,r.useEffect)(()=>{(async()=>{try{x(!0);const e=await fetch("http://localhost:5000/api/products/category/".concat(encodeURIComponent("Bags")));if(!e.ok)throw new Error("Failed to fetch products");const t=await e.json();if(console.log("Fetched Bags products:",t),console.log("Selected Vendor:",u),navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const a=e.coords.latitude,r=e.coords.longitude,s=t.map(e=>{if(e.lat&&e.lon){const t=P(a,r,e.lat,e.lon);return c(c({},e),{},{distance:"".concat(t.toFixed(1)," km away"),distanceValue:parseFloat(t.toFixed(1))})}return c(c({},e),{},{distance:"Distance N/A",distanceValue:999})});h(s)},e=>{console.warn("Geolocation error: ".concat(e.message));const a=t.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(a),g(a)});else{console.warn("Geolocation is not supported by this browser.");const e=t.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(e),g(e)}v(null)}catch(e){console.error("Error fetching products:",e),v(e.message),h([])}finally{x(!1)}})()},[P]),(0,r.useEffect)(()=>{const e=setInterval(()=>{b(e=>(e+1)%C.length)},5e3);return()=>clearInterval(e)},[C.length]),(0,r.useEffect)(()=>{if(console.log("Bags - Selected Vendor:",u),console.log("Bags - Search Query:",l),console.log("Bags - Products Count:",p.length),0===p.length)return;let e=[...p];if(u&&(console.log("Filtering products by vendor:",u),e=e.filter(e=>e.vendor===u),console.log("Products after vendor filter:",e.length)),l&&l.trim()){const t=l.toLowerCase().trim();e=e.filter(e=>{var a,r,s,n;const i=null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t),o=null===(r=e.vendor)||void 0===r?void 0:r.toLowerCase().includes(t),l=null===(s=e.category)||void 0===s?void 0:s.toLowerCase().includes(t),c=null===(n=e.brand)||void 0===n?void 0:n.toLowerCase().includes(t);return i||o||l||c})}if(k.priceRange.min&&(e=e.filter(e=>e.price>=parseFloat(k.priceRange.min))),k.priceRange.max&&(e=e.filter(e=>e.price<=parseFloat(k.priceRange.max))),k.store&&(e=e.filter(e=>{var t;return null===(t=e.vendor)||void 0===t?void 0:t.toLowerCase().includes(k.store.toLowerCase())})),k.sortBy)switch(k.sortBy){case"price-low":e.sort((e,t)=>e.price-t.price);break;case"price-high":e.sort((e,t)=>t.price-e.price);break;case"distance":e.sort((e,t)=>(e.distanceValue||999)-(t.distanceValue||999));break;case"name-az":e.sort((e,t)=>e.name.localeCompare(t.name));break;case"name-za":e.sort((e,t)=>t.name.localeCompare(e.name))}console.log("Final Filtered Bags Products Count:",e.length),g(e)},[l,p,u,k]);const T=e=>{a&&a(e)},M=e=>{s&&s(e)},A=(e,t)=>{S(a=>c(c({},a),{},{[e]:t}))},I=(e,t)=>{S(a=>c(c({},a),{},{priceRange:c(c({},a.priceRange),{},{[e]:t})}))},E=()=>{let e=0;return(k.priceRange.min||k.priceRange.max)&&e++,k.store&&e++,k.sortBy&&e++,e};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("section",{className:"hero",id:"hero",children:(0,d.jsx)("div",{className:"slider-container",children:(0,d.jsx)("div",{className:"bg-slider-track",style:{transform:"translateX(-".concat(100*y,"%)")},children:C.map((e,t)=>(0,d.jsx)("div",{className:"bg-slide ".concat(t===y?"active":""),style:{backgroundImage:"url('".concat(e,"')")}},t))})})}),(0,d.jsx)("section",{id:"bags",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[u&&(0,d.jsx)("div",{style:{marginBottom:"20px"},children:(0,d.jsxs)("h2",{style:{color:"#333",fontSize:"2rem"},children:[u," - Bags"]})}),!u&&(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Bags"})}),!f&&!j&&(0,d.jsxs)("div",{className:"filter-section",children:[(0,d.jsxs)("button",{className:"filter-toggle-btn",onClick:()=>w(!N),children:[(0,d.jsx)("i",{className:"fas fa-filter"}),"Filters ",E()>0&&"(".concat(E(),")")]}),E()>0&&(0,d.jsxs)("button",{className:"clear-filters-btn",onClick:()=>{S({priceRange:{min:"",max:""},store:"",sortBy:""})},children:[(0,d.jsx)("i",{className:"fas fa-times"})," Clear All"]})]}),N&&(0,d.jsx)("div",{className:"filter-panel",children:(0,d.jsxs)("div",{className:"filter-grid",children:[(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-rupee-sign"})," Price Range"]}),(0,d.jsxs)("div",{className:"price-range-inputs",children:[(0,d.jsx)("input",{type:"number",placeholder:"Min",value:k.priceRange.min,onChange:e=>I("min",e.target.value)}),(0,d.jsx)("span",{children:"to"}),(0,d.jsx)("input",{type:"number",placeholder:"Max",value:k.priceRange.max,onChange:e=>I("max",e.target.value)})]})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-store"})," Store"]}),(0,d.jsx)("input",{type:"text",placeholder:"Search store",value:k.store,onChange:e=>A("store",e.target.value)})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-sort"})," Sort By"]}),(0,d.jsxs)("select",{value:k.sortBy,onChange:e=>A("sortBy",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"Default"}),(0,d.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,d.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,d.jsx)("option",{value:"distance",children:"Distance: Nearest First"}),(0,d.jsx)("option",{value:"name-az",children:"Name: A to Z"}),(0,d.jsx)("option",{value:"name-za",children:"Name: Z to A"})]})]})]})}),l&&(0,d.jsx)("div",{className:"search-results-info",style:{textAlign:"center",marginBottom:"20px"},children:(0,d.jsxs)("p",{children:[m.length," result",1!==m.length?"s":""," found",u?" in ".concat(u):"",' for "',l,'"']})}),f&&(0,d.jsx)("p",{children:"Loading products..."}),j&&(0,d.jsxs)("p",{style:{color:"red"},children:["Error: ",j]}),!f&&!j&&0===m.length&&(0,d.jsx)("div",{className:"no-results-message",style:{textAlign:"center",padding:"50px"},children:(0,d.jsxs)("p",{children:["No bags found",u?" in ".concat(u):"",l?' for "'.concat(l,'"'):"","."]})}),!f&&!j&&m.length>0&&(0,d.jsx)("div",{className:"product-grid",children:m.map(e=>{return(0,d.jsx)(me,{product:e,onAddToCart:T,onToggleWishlist:M,isWishlisted:(a=e._id||e.id,t.some(e=>e._id===a||e.id===a)),cartItems:o,onViewProduct:i,navigateTo:n},e._id||e.id);var a})})]})})]})},fe=e=>{let{product:t,onAddToCart:a,onToggleWishlist:r,isWishlisted:s,onViewProduct:n,cartItems:i,navigateTo:o}=e;return(0,d.jsxs)("div",{className:"product-card",draggable:"true",onClick:e=>{e.target.closest("button")||n(t)},style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:t.image?t.image.startsWith("http")?t.image:t.image.includes("-")&&/^\d+-\w+\./.test(t.image)?"http://localhost:5000/uploads/".concat(t.image):"/IMAGES/".concat(t.image):"https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+")),alt:t.name,className:"product-img",onError:e=>{e.target.src="https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+"))}}),(0,d.jsxs)("div",{className:"product-info",children:[(0,d.jsx)("h3",{className:"product-title",children:t.name}),(0,d.jsxs)("div",{className:"product-vendor",children:[(0,d.jsx)("i",{className:"fas fa-store"})," ",(0,d.jsx)("span",{children:t.vendor})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"})," ",(0,d.jsx)("span",{children:t.distance||"Calculating..."})]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-actions",children:[(0,d.jsx)("button",{className:"like-btn",onClick:()=>r(t),style:{color:s?"var(--secondary)":"var(--gray)"},children:(0,d.jsx)("i",{className:s?"fas fa-heart":"far fa-heart"})}),i&&i.some(e=>(e._id||e.id)===(t._id||t.id))?(0,d.jsx)("button",{className:"btn go-to-cart",onClick:()=>o("cart"),children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn add-to-cart",onClick:()=>a(t),children:"Add to Cart"})]})]})]})},xe=e=>{let{wishlistItems:t,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,cartItems:i,navigateTo:o,searchQuery:l,selectedVendor:u}=e;const[p,h]=(0,r.useState)([]),[m,g]=(0,r.useState)([]),[f,x]=(0,r.useState)(!0),[j,v]=(0,r.useState)(null),[y,b]=(0,r.useState)(0),[N,w]=(0,r.useState)(!1),[k,S]=(0,r.useState)({priceRange:{min:"",max:""},store:"",sortBy:""}),C=["/IMAGES/kithchen-hero-3.webp","/IMAGES/kitchen-hero-2.webp","/IMAGES/kitchen-hero-1.webp"];(0,r.useEffect)(()=>{const e=setInterval(()=>{b(e=>(e+1)%C.length)},5e3);return()=>clearInterval(e)},[C.length]);const P=(0,r.useCallback)((e,t,a,r)=>{const s=e=>e*(Math.PI/180),n=s(a-e),i=s(r-t),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(s(e))*Math.cos(s(a))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},[]);(0,r.useEffect)(()=>{(async()=>{try{x(!0);const e=await fetch("http://localhost:5000/api/products/category/".concat(encodeURIComponent("Kitchen Products")));if(!e.ok)throw new Error("Failed to fetch products");const t=await e.json();if(console.log("Fetched Kitchen products:",t),console.log("Selected Vendor:",u),navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const a=e.coords.latitude,r=e.coords.longitude,s=t.map(e=>{if(e.lat&&e.lon){const t=P(a,r,e.lat,e.lon);return c(c({},e),{},{distance:"".concat(t.toFixed(1)," km away"),distanceValue:parseFloat(t.toFixed(1))})}return c(c({},e),{},{distance:"Distance N/A",distanceValue:999})});h(s),g(s)},e=>{console.warn("Geolocation error: ".concat(e.message,"."));const a=t.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(a),g(a)});else{console.warn("Geolocation is not supported by this browser.");const e=t.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(e),g(e)}}catch(e){v(e.message),console.error("Error fetching products:",e),g([])}finally{x(!1)}})()},[P]),(0,r.useEffect)(()=>{if(console.log("Kitchen - Selected Vendor:",u),console.log("Kitchen - Search Query:",l),console.log("Kitchen - Products Count:",p.length),0===p.length)return;let e=[...p];if(u&&(console.log("Filtering products by vendor:",u),e=e.filter(e=>e.vendor===u),console.log("Products after vendor filter:",e.length)),l&&l.trim()){const t=l.toLowerCase().trim();e=e.filter(e=>{var a,r,s;const n=null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t),i=null===(r=e.vendor)||void 0===r?void 0:r.toLowerCase().includes(t),o=null===(s=e.category)||void 0===s?void 0:s.toLowerCase().includes(t);return n||i||o})}if(k.priceRange.min&&(e=e.filter(e=>e.price>=parseFloat(k.priceRange.min))),k.priceRange.max&&(e=e.filter(e=>e.price<=parseFloat(k.priceRange.max))),k.store&&(e=e.filter(e=>{var t;return null===(t=e.vendor)||void 0===t?void 0:t.toLowerCase().includes(k.store.toLowerCase())})),k.sortBy)switch(k.sortBy){case"price-low":e.sort((e,t)=>e.price-t.price);break;case"price-high":e.sort((e,t)=>t.price-e.price);break;case"distance":e.sort((e,t)=>(e.distanceValue||999)-(t.distanceValue||999));break;case"name-az":e.sort((e,t)=>e.name.localeCompare(t.name));break;case"name-za":e.sort((e,t)=>t.name.localeCompare(e.name))}console.log("Final Filtered Kitchen Products Count:",e.length),g(e)},[l,p,u,k]);const T=(e,t)=>{S(a=>c(c({},a),{},{[e]:t}))},M=(e,t)=>{S(a=>c(c({},a),{},{priceRange:c(c({},a.priceRange),{},{[e]:t})}))},A=()=>{let e=0;return(k.priceRange.min||k.priceRange.max)&&e++,k.store&&e++,k.sortBy&&e++,e};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("section",{className:"hero",id:"hero",children:(0,d.jsx)("div",{className:"slider-container",children:(0,d.jsx)("div",{className:"bg-slider-track",style:{transform:"translateX(-".concat(100*y,"%)")},children:C.map((e,t)=>(0,d.jsx)("div",{className:"bg-slide ".concat(t===y?"active":""),style:{backgroundImage:"url('".concat(e,"')")}},t))})})}),(0,d.jsx)("section",{id:"Kitchen",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[u&&(0,d.jsx)("div",{style:{marginBottom:"20px"},children:(0,d.jsxs)("h2",{style:{color:"#333",fontSize:"2rem",textAlign:"center"},children:[u," - Kitchen Products"]})}),!u&&(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Kitchen Products"})}),!f&&!j&&(0,d.jsxs)("div",{className:"filter-section",children:[(0,d.jsxs)("button",{className:"filter-toggle-btn",onClick:()=>w(!N),children:[(0,d.jsx)("i",{className:"fas fa-filter"}),"Filters ",A()>0&&"(".concat(A(),")")]}),A()>0&&(0,d.jsxs)("button",{className:"clear-filters-btn",onClick:()=>{S({priceRange:{min:"",max:""},store:"",sortBy:""})},children:[(0,d.jsx)("i",{className:"fas fa-times"})," Clear All"]}),l&&(0,d.jsxs)("div",{className:"search-results-info",children:[m.length," result",1!==m.length?"s":""," found",u?" in ".concat(u):"",' for "',l,'"']})]}),N&&(0,d.jsx)("div",{className:"filter-panel",children:(0,d.jsxs)("div",{className:"filter-grid",children:[(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-rupee-sign"})," Price Range"]}),(0,d.jsxs)("div",{className:"price-range-inputs",children:[(0,d.jsx)("input",{type:"number",placeholder:"Min",value:k.priceRange.min,onChange:e=>M("min",e.target.value)}),(0,d.jsx)("span",{children:"to"}),(0,d.jsx)("input",{type:"number",placeholder:"Max",value:k.priceRange.max,onChange:e=>M("max",e.target.value)})]})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-store"})," Store"]}),(0,d.jsx)("input",{type:"text",placeholder:"Search store",value:k.store,onChange:e=>T("store",e.target.value)})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-sort"})," Sort By"]}),(0,d.jsxs)("select",{value:k.sortBy,onChange:e=>T("sortBy",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"Default"}),(0,d.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,d.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,d.jsx)("option",{value:"distance",children:"Distance: Nearest First"}),(0,d.jsx)("option",{value:"name-az",children:"Name: A to Z"}),(0,d.jsx)("option",{value:"name-za",children:"Name: Z to A"})]})]})]})}),f?(0,d.jsx)("div",{className:"loading",children:"Loading products..."}):j?(0,d.jsxs)("div",{className:"error",children:["Error loading products: ",j]}):0===m.length?(0,d.jsx)("div",{className:"no-results-message",style:{textAlign:"center",padding:"50px"},children:(0,d.jsxs)("p",{children:["No kitchen products found",u?" in ".concat(u):"",l?' for "'.concat(l,'"'):"","."]})}):(0,d.jsx)("div",{className:"product-grid",children:m.map(e=>{return(0,d.jsx)(fe,{product:e,onAddToCart:a,onToggleWishlist:s,isWishlisted:(r=e._id,t.some(e=>e._id===r)),cartItems:i,onViewProduct:n,navigateTo:o},e._id);var r})})]})})]})},je=e=>{let{product:t,onAddToCart:a,onToggleWishlist:r,isWishlisted:s,onViewProduct:n,cartItems:i,navigateTo:o}=e;return(0,d.jsxs)("div",{className:"product-card",draggable:"true",onClick:e=>{e.target.closest("button")||n(t)},style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:t.image?t.image.startsWith("http")?t.image:t.image.includes("-")&&/^\d+-\w+\./.test(t.image)?"http://localhost:5000/uploads/".concat(t.image):"/IMAGES/".concat(t.image):"https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+")),alt:t.name,className:"product-img",onError:e=>{e.target.src="https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+"))}}),(0,d.jsxs)("div",{className:"product-info",children:[(0,d.jsx)("h3",{className:"product-title",children:t.name}),(0,d.jsxs)("div",{className:"product-vendor",children:[(0,d.jsx)("i",{className:"fas fa-store"})," ",(0,d.jsx)("span",{children:t.vendor})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"})," ",(0,d.jsx)("span",{children:t.distance||"Calculating..."})]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-actions",children:[(0,d.jsx)("button",{className:"like-btn",onClick:()=>r(t),style:{color:s?"var(--secondary)":"var(--gray)"},children:(0,d.jsx)("i",{className:s?"fas fa-heart":"far fa-heart"})}),i&&i.some(e=>(e._id||e.id)===(t._id||t.id))?(0,d.jsx)("button",{className:"btn go-to-cart",onClick:()=>o("cart"),children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn add-to-cart",onClick:()=>a(t),children:"Add to Cart"})]})]})]})},ve=e=>{let{wishlistItems:t,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,cartItems:i,navigateTo:o,searchQuery:l,selectedVendor:u}=e;const[p,h]=(0,r.useState)([]),[m,g]=(0,r.useState)([]),[f,x]=(0,r.useState)(!0),[j,v]=(0,r.useState)(null),[y,b]=(0,r.useState)(0),[N,w]=(0,r.useState)(!1),[k,S]=(0,r.useState)({priceRange:{min:"",max:""},store:"",sortBy:""}),C=["IMAGES/organic-hero-1.jpg","IMAGES/organi-hero-2.webp","IMAGES/organi-hero-3.jpg"];(0,r.useEffect)(()=>{const e=setInterval(()=>{b(e=>(e+1)%C.length)},5e3);return()=>clearInterval(e)},[C.length]);const P=(0,r.useCallback)((e,t,a,r)=>{const s=e=>e*(Math.PI/180),n=s(a-e),i=s(r-t),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(s(e))*Math.cos(s(a))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},[]);(0,r.useEffect)(()=>{(async()=>{try{x(!0);const e=await fetch("http://localhost:5000/api/products/category/".concat(encodeURIComponent("Organic Veggies&Fruits")));if(!e.ok)throw new Error("Failed to fetch products");const t=await e.json();if(console.log("Fetched Organic products:",t),console.log("Selected Vendor:",u),navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const a=e.coords.latitude,r=e.coords.longitude,s=t.map(e=>{if(e.lat&&e.lon){const t=P(a,r,e.lat,e.lon);return c(c({},e),{},{distance:"".concat(t.toFixed(1)," km away"),distanceValue:parseFloat(t.toFixed(1))})}return c(c({},e),{},{distance:"Distance N/A",distanceValue:999})});h(s),g(s)},e=>{console.warn("Geolocation error: ".concat(e.message,"."));const a=t.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(a),g(a)});else{console.warn("Geolocation is not supported by this browser.");const e=t.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(e),g(e)}}catch(e){v(e.message),console.error("Error fetching products:",e),g([])}finally{x(!1)}})()},[P]),(0,r.useEffect)(()=>{if(console.log("Organic - Selected Vendor:",u),console.log("Organic - Search Query:",l),console.log("Organic - Products Count:",p.length),0===p.length)return;let e=[...p];if(u&&(console.log("Filtering products by vendor:",u),e=e.filter(e=>e.vendor===u),console.log("Products after vendor filter:",e.length)),l&&l.trim()){const t=l.toLowerCase().trim();e=e.filter(e=>{var a,r,s;const n=null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t),i=null===(r=e.vendor)||void 0===r?void 0:r.toLowerCase().includes(t),o=null===(s=e.category)||void 0===s?void 0:s.toLowerCase().includes(t);return n||i||o})}if(k.priceRange.min&&(e=e.filter(e=>e.price>=parseFloat(k.priceRange.min))),k.priceRange.max&&(e=e.filter(e=>e.price<=parseFloat(k.priceRange.max))),k.store&&(e=e.filter(e=>{var t;return null===(t=e.vendor)||void 0===t?void 0:t.toLowerCase().includes(k.store.toLowerCase())})),k.sortBy)switch(k.sortBy){case"price-low":e.sort((e,t)=>e.price-t.price);break;case"price-high":e.sort((e,t)=>t.price-e.price);break;case"distance":e.sort((e,t)=>(e.distanceValue||999)-(t.distanceValue||999));break;case"name-az":e.sort((e,t)=>e.name.localeCompare(t.name));break;case"name-za":e.sort((e,t)=>t.name.localeCompare(e.name))}console.log("Final Filtered Organic Products Count:",e.length),g(e)},[l,p,u,k]);const T=(e,t)=>{S(a=>c(c({},a),{},{[e]:t}))},M=(e,t)=>{S(a=>c(c({},a),{},{priceRange:c(c({},a.priceRange),{},{[e]:t})}))},A=()=>{let e=0;return(k.priceRange.min||k.priceRange.max)&&e++,k.store&&e++,k.sortBy&&e++,e};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("section",{className:"hero",id:"hero",children:(0,d.jsx)("div",{className:"hero-carousel",children:(0,d.jsx)("div",{className:"carousel-slides",style:{transform:"translateX(-".concat(100*y,"%)")},children:C.map((e,t)=>(0,d.jsx)("div",{className:"carousel-slide",children:(0,d.jsx)("img",{src:e,alt:"Organic slide ".concat(t+1)})},t))})})}),(0,d.jsx)("section",{id:"organic",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[u&&(0,d.jsx)("div",{style:{marginBottom:"20px"},children:(0,d.jsxs)("h2",{style:{color:"#333",fontSize:"2rem",textAlign:"center"},children:[u," - Organic Veggies & Fruits"]})}),!u&&(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Organic Veggies & Fruits"})}),!f&&!j&&(0,d.jsxs)("div",{className:"filter-section",children:[(0,d.jsxs)("button",{className:"filter-toggle-btn",onClick:()=>w(!N),children:[(0,d.jsx)("i",{className:"fas fa-filter"}),"Filters ",A()>0&&"(".concat(A(),")")]}),A()>0&&(0,d.jsxs)("button",{className:"clear-filters-btn",onClick:()=>{S({priceRange:{min:"",max:""},store:"",sortBy:""})},children:[(0,d.jsx)("i",{className:"fas fa-times"})," Clear All"]}),l&&(0,d.jsxs)("div",{className:"search-results-info",children:[m.length," result",1!==m.length?"s":""," found",u?" in ".concat(u):"",' for "',l,'"']})]}),N&&(0,d.jsx)("div",{className:"filter-panel",children:(0,d.jsxs)("div",{className:"filter-grid",children:[(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-rupee-sign"})," Price Range"]}),(0,d.jsxs)("div",{className:"price-range-inputs",children:[(0,d.jsx)("input",{type:"number",placeholder:"Min",value:k.priceRange.min,onChange:e=>M("min",e.target.value)}),(0,d.jsx)("span",{children:"to"}),(0,d.jsx)("input",{type:"number",placeholder:"Max",value:k.priceRange.max,onChange:e=>M("max",e.target.value)})]})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-store"})," Store"]}),(0,d.jsx)("input",{type:"text",placeholder:"Search store",value:k.store,onChange:e=>T("store",e.target.value)})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-sort"})," Sort By"]}),(0,d.jsxs)("select",{value:k.sortBy,onChange:e=>T("sortBy",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"Default"}),(0,d.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,d.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,d.jsx)("option",{value:"distance",children:"Distance: Nearest First"}),(0,d.jsx)("option",{value:"name-az",children:"Name: A to Z"}),(0,d.jsx)("option",{value:"name-za",children:"Name: Z to A"})]})]})]})}),f&&(0,d.jsx)("div",{className:"loading",children:"Loading products..."}),j&&(0,d.jsxs)("div",{className:"error",children:["Error: ",j]}),!f&&!j&&0===m.length&&(0,d.jsx)("div",{className:"no-results-message",style:{textAlign:"center",padding:"50px"},children:(0,d.jsxs)("p",{children:["No organic products found",u?" in ".concat(u):"",l?' for "'.concat(l,'"'):"","."]})}),!f&&!j&&m.length>0&&(0,d.jsx)("div",{className:"product-grid",children:m.map(e=>{return(0,d.jsx)(je,{product:e,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,isWishlisted:(r=e._id||e.id,t.some(e=>(e._id||e.id)===r)),cartItems:i,navigateTo:o},e._id||e.id);var r})})]})})]})},ye=e=>{let{product:t,onAddToCart:a,onToggleWishlist:r,isWishlisted:s,onViewProduct:n,cartItems:i,navigateTo:o}=e;return(0,d.jsxs)("div",{className:"product-card",draggable:"true",onClick:e=>{e.target.closest("button")||n(t)},style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:t.image&&/^\d+-\d+\./.test(t.image)?"http://localhost:5000/uploads/".concat(t.image):"/IMAGES/".concat(t.image),alt:t.name,className:"product-img",onError:e=>{e.target.src="https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+"))}}),(0,d.jsxs)("div",{className:"product-info",children:[(0,d.jsx)("h3",{className:"product-title",children:t.name}),(0,d.jsxs)("div",{className:"product-vendor",children:[(0,d.jsx)("i",{className:"fas fa-store"})," ",(0,d.jsx)("span",{children:t.vendor})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"})," ",(0,d.jsx)("span",{children:t.distance||"N/A"})]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price]}),(0,d.jsxs)("div",{className:"product-actions",children:[(0,d.jsx)("button",{className:"like-btn",onClick:()=>r(t),style:{color:s?"var(--secondary)":"var(--gray)"},children:(0,d.jsx)("i",{className:s?"fas fa-heart":"far fa-heart",style:{fontSize:"24px"}})}),i&&i.some(e=>(e._id||e.id)===(t._id||t.id))?(0,d.jsx)("button",{className:"btn go-to-cart",onClick:e=>{e.stopPropagation(),o("cart")},children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn add-to-cart",onClick:e=>{e.stopPropagation(),a(t)},children:"Add to Cart"})]})]})]})},be=e=>{let{wishlistItems:t,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,cartItems:i,navigateTo:o,searchQuery:l,selectedVendor:u}=e;const[p,h]=(0,r.useState)([]),[m,g]=(0,r.useState)(!0),[f,x]=(0,r.useState)(null),[j,v]=(0,r.useState)(0),[y,b]=(0,r.useState)([]),[N,w]=(0,r.useState)(""),[k,S]=(0,r.useState)(!1),[C,P]=(0,r.useState)({priceRange:{min:"",max:""},store:"",sortBy:""}),T=["/IMAGES/automotive-hero-1.jpg","/IMAGES/automotive-hero-2.jpg","/IMAGES/automotive-hero-3.jpg"],M=(0,r.useCallback)((e,t,a,r)=>{const s=e=>e*(Math.PI/180),n=s(a-e),i=s(r-t),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(s(e))*Math.cos(s(a))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},[]);(0,r.useEffect)(()=>{(async()=>{try{g(!0);const e=await fetch("http://localhost:5000/api/products/category/Automotive");if(!e.ok)throw new Error("Failed to fetch products");const t=await e.json();let a=t;if(u&&(a=t.filter(e=>e.vendor===u),w(u)),navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const t=e.coords.latitude,r=e.coords.longitude,s=a.map(e=>{if(e.lat&&e.lon){const a=M(t,r,e.lat,e.lon);return c(c({},e),{},{distance:"".concat(a.toFixed(1)," km away"),distanceValue:parseFloat(a.toFixed(1))})}return c(c({},e),{},{distance:"Distance N/A",distanceValue:999})});h(s)},e=>{console.warn("Geolocation error: ".concat(e.message));const t=a.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(t),b(t)});else{console.warn("Geolocation is not supported by this browser.");const e=a.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(e),b(e)}x(null)}catch(e){console.error("Error fetching products:",e),x("Failed to load products. Please try again later."),h([])}finally{g(!1)}})();const e=setInterval(()=>{v(e=>(e+1)%T.length)},5e3);return()=>clearInterval(e)},[T.length,u,M]),(0,r.useEffect)(()=>{if(console.log("Automotive - Selected Vendor:",u),console.log("Automotive - Search Query:",l),console.log("Automotive - Products Count:",p.length),0===p.length)return;let e=[...p];if(u&&(e=e.filter(e=>e.vendor===u)),l&&l.trim()){const t=l.toLowerCase().trim();e=e.filter(e=>{var a,r,s;const n=null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t),i=null===(r=e.vendor)||void 0===r?void 0:r.toLowerCase().includes(t),o=null===(s=e.category)||void 0===s?void 0:s.toLowerCase().includes(t);return n||i||o})}if(C.priceRange.min&&(e=e.filter(e=>e.price>=parseFloat(C.priceRange.min))),C.priceRange.max&&(e=e.filter(e=>e.price<=parseFloat(C.priceRange.max))),C.store&&(e=e.filter(e=>{var t;return null===(t=e.vendor)||void 0===t?void 0:t.toLowerCase().includes(C.store.toLowerCase())})),C.sortBy)switch(C.sortBy){case"price-low":e.sort((e,t)=>e.price-t.price);break;case"price-high":e.sort((e,t)=>t.price-e.price);break;case"distance":e.sort((e,t)=>(e.distanceValue||999)-(t.distanceValue||999));break;case"name-az":e.sort((e,t)=>e.name.localeCompare(t.name));break;case"name-za":e.sort((e,t)=>t.name.localeCompare(e.name))}console.log("Filtered Automotive Products Count:",e.length),b(e)},[l,p,u,C]);const A=(e,t)=>{P(a=>c(c({},a),{},{[e]:t}))},I=(e,t)=>{P(a=>c(c({},a),{},{priceRange:c(c({},a.priceRange),{},{[e]:t})}))},E=()=>{let e=0;return(C.priceRange.min||C.priceRange.max)&&e++,C.store&&e++,C.sortBy&&e++,e};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("section",{className:"hero",id:"hero",children:(0,d.jsx)("div",{className:"hero-carousel",children:(0,d.jsx)("div",{className:"carousel-slides",style:{transform:"translateX(-".concat(100*j,"%)")},children:T.map((e,t)=>(0,d.jsx)("div",{className:"carousel-slide",children:(0,d.jsx)("img",{src:e,alt:"Automotive slide ".concat(t+1)})},t))})})}),(0,d.jsx)("section",{id:"automotive",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[u&&(0,d.jsxs)("div",{className:"vendor-header",children:[(0,d.jsx)("button",{className:"back-button",onClick:()=>{o("automotive")},children:"\u2190 Back to Vendors"}),(0,d.jsx)("h3",{className:"vendor-title",children:N})]}),(0,d.jsxs)("div",{className:"section-title",children:[(0,d.jsx)("h2",{children:u?"Products":"Automotive"}),l&&(0,d.jsxs)("p",{className:"search-results-info",children:[y.length," result",1!==y.length?"s":"",' found for "',l,'"']})]}),!m&&!f&&(0,d.jsxs)("div",{className:"filter-section",children:[(0,d.jsxs)("button",{className:"filter-toggle-btn",onClick:()=>S(!k),children:[(0,d.jsx)("i",{className:"fas fa-filter"}),"Filters ",E()>0&&"(".concat(E(),")")]}),E()>0&&(0,d.jsxs)("button",{className:"clear-filters-btn",onClick:()=>{P({priceRange:{min:"",max:""},store:"",sortBy:""})},children:[(0,d.jsx)("i",{className:"fas fa-times"})," Clear All"]})]}),k&&(0,d.jsx)("div",{className:"filter-panel",children:(0,d.jsxs)("div",{className:"filter-grid",children:[(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-rupee-sign"})," Price Range"]}),(0,d.jsxs)("div",{className:"price-range-inputs",children:[(0,d.jsx)("input",{type:"number",placeholder:"Min",value:C.priceRange.min,onChange:e=>I("min",e.target.value)}),(0,d.jsx)("span",{children:"to"}),(0,d.jsx)("input",{type:"number",placeholder:"Max",value:C.priceRange.max,onChange:e=>I("max",e.target.value)})]})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-store"})," Store"]}),(0,d.jsx)("input",{type:"text",placeholder:"Search store",value:C.store,onChange:e=>A("store",e.target.value)})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-sort"})," Sort By"]}),(0,d.jsxs)("select",{value:C.sortBy,onChange:e=>A("sortBy",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"Default"}),(0,d.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,d.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,d.jsx)("option",{value:"distance",children:"Distance: Nearest First"}),(0,d.jsx)("option",{value:"name-az",children:"Name: A to Z"}),(0,d.jsx)("option",{value:"name-za",children:"Name: Z to A"})]})]})]})}),m&&(0,d.jsx)("div",{className:"loading-message",children:(0,d.jsx)("p",{children:"Loading automotive products..."})}),f&&(0,d.jsx)("div",{className:"error-message",children:(0,d.jsx)("p",{children:f})}),!m&&!f&&0===y.length&&l&&(0,d.jsx)("div",{className:"no-results-message",children:(0,d.jsxs)("p",{children:['No products found for "',l,'". Try a different search term.']})}),!m&&!f&&0===y.length&&!l&&u&&(0,d.jsx)("div",{className:"no-results-message",children:(0,d.jsx)("p",{children:"This vendor hasn't added any products yet."})}),!m&&!f&&y.length>0&&(0,d.jsx)("div",{className:"product-grid",children:y.map(e=>{return(0,d.jsx)(ye,{product:e,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,isWishlisted:(r=e._id||e.id,t.some(e=>(e._id||e.id)===r)),cartItems:i,navigateTo:o},e._id||e.id);var r})})]})})]})},Ne=e=>{let{product:t,onAddToCart:a,onToggleWishlist:r,isWishlisted:s,onViewProduct:n,cartItems:i,navigateTo:o}=e;return(0,d.jsxs)("div",{className:"product-card",draggable:"true",onClick:e=>{e.target.closest("button")||n(t)},style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:t.image?t.image.startsWith("http")?t.image:t.image.includes("-")&&/^\d+-\w+\./.test(t.image)?"http://localhost:5000/uploads/".concat(t.image):"/IMAGES/".concat(t.image):"https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+")),alt:t.name,className:"product-img",onError:e=>{e.target.src="https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+"))}}),(0,d.jsxs)("div",{className:"product-info",children:[(0,d.jsx)("h3",{className:"product-title",children:t.name}),(0,d.jsxs)("div",{className:"product-vendor",children:[(0,d.jsx)("i",{className:"fas fa-store"})," ",(0,d.jsx)("span",{children:t.vendor})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"})," ",(0,d.jsx)("span",{children:t.distance||"Calculating..."})]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-actions",children:[(0,d.jsx)("button",{className:"like-btn",onClick:e=>{e.stopPropagation(),r(t)},children:(0,d.jsx)("i",{className:s?"fas fa-heart":"far fa-heart",style:{color:s?"var(--secondary)":"var(--gray)"}})}),i&&i.some(e=>(e._id||e.id)===(t._id||t.id))?(0,d.jsx)("button",{className:"btn go-to-cart",onClick:e=>{e.stopPropagation(),o("cart")},children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn add-to-cart",onClick:e=>{e.stopPropagation(),a(t)},children:"Add to Cart"})]})]})]})},we=e=>{let{wishlistItems:t,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,cartItems:i,navigateTo:o,searchQuery:l,selectedVendor:u}=e;const[p,h]=(0,r.useState)([]),[m,g]=(0,r.useState)([]),[f,x]=(0,r.useState)(!0),[j,v]=(0,r.useState)(null),[y,b]=(0,r.useState)(0),[N,w]=(0,r.useState)(!1),[k,S]=(0,r.useState)({priceRange:{min:"",max:""},store:"",sortBy:""}),C=["IMAGES/sportes-hero-1.jpg","IMAGES/sportes-hero-2.jpg","IMAGES/sportes-hero-3.jpg"];(0,r.useEffect)(()=>{const e=setInterval(()=>{b(e=>(e+1)%C.length)},5e3);return()=>clearInterval(e)},[C.length]);const P=(0,r.useCallback)((e,t,a,r)=>{const s=e=>e*(Math.PI/180),n=s(a-e),i=s(r-t),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(s(e))*Math.cos(s(a))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},[]);(0,r.useEffect)(()=>{(async()=>{try{x(!0);const e=await fetch("http://localhost:5000/api/products/category/".concat(encodeURIComponent("Sports & Fitness")));if(!e.ok)throw new Error("Failed to fetch products");const t=await e.json();if(console.log("Fetched Sports & Fitness products:",t),console.log("Selected Vendor:",u),navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const a=e.coords.latitude,r=e.coords.longitude,s=t.map(e=>{if(e.lat&&e.lon){const t=P(a,r,e.lat,e.lon);return c(c({},e),{},{distance:"".concat(t.toFixed(1)," km away"),distanceValue:parseFloat(t.toFixed(1))})}return c(c({},e),{},{distance:"Distance N/A",distanceValue:999})});h(s),g(s)},e=>{console.warn("Geolocation error: ".concat(e.message,"."));const a=t.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(a),g(a)});else{console.warn("Geolocation is not supported by this browser.");const e=t.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}));h(e),g(e)}}catch(e){v(e.message),console.error("Error fetching products:",e),g([])}finally{x(!1)}})()},[P]),(0,r.useEffect)(()=>{if(console.log("SportsAndFitness - Selected Vendor:",u),console.log("SportsAndFitness - Search Query:",l),console.log("SportsAndFitness - Products Count:",p.length),0===p.length)return;let e=[...p];if(u&&(console.log("Filtering products by vendor:",u),e=e.filter(e=>e.vendor===u),console.log("Products after vendor filter:",e.length)),l&&l.trim()){const t=l.toLowerCase().trim();e=e.filter(e=>{var a,r,s;const n=null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t),i=null===(r=e.vendor)||void 0===r?void 0:r.toLowerCase().includes(t),o=null===(s=e.category)||void 0===s?void 0:s.toLowerCase().includes(t);return n||i||o})}if(k.priceRange.min&&(e=e.filter(e=>e.price>=parseFloat(k.priceRange.min))),k.priceRange.max&&(e=e.filter(e=>e.price<=parseFloat(k.priceRange.max))),k.store&&(e=e.filter(e=>{var t;return null===(t=e.vendor)||void 0===t?void 0:t.toLowerCase().includes(k.store.toLowerCase())})),k.sortBy)switch(k.sortBy){case"price-low":e.sort((e,t)=>e.price-t.price);break;case"price-high":e.sort((e,t)=>t.price-e.price);break;case"distance":e.sort((e,t)=>(e.distanceValue||999)-(t.distanceValue||999));break;case"name-az":e.sort((e,t)=>e.name.localeCompare(t.name));break;case"name-za":e.sort((e,t)=>t.name.localeCompare(e.name))}console.log("Final Filtered Sports & Fitness Products Count:",e.length),g(e)},[l,p,u,k]);const T=(e,t)=>{S(a=>c(c({},a),{},{[e]:t}))},M=(e,t)=>{S(a=>c(c({},a),{},{priceRange:c(c({},a.priceRange),{},{[e]:t})}))},A=()=>{let e=0;return(k.priceRange.min||k.priceRange.max)&&e++,k.store&&e++,k.sortBy&&e++,e};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("section",{className:"hero",id:"hero",children:(0,d.jsx)("div",{className:"hero-carousel",children:(0,d.jsx)("div",{className:"carousel-slides",style:{transform:"translateX(-".concat(100*y,"%)")},children:C.map((e,t)=>(0,d.jsx)("div",{className:"carousel-slide",children:(0,d.jsx)("img",{src:e,alt:"Sports & Fitness slide ".concat(t+1)})},t))})})}),(0,d.jsx)("section",{id:"sports-fitness",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[u&&(0,d.jsx)("div",{style:{marginBottom:"20px"},children:(0,d.jsxs)("h2",{style:{color:"#333",fontSize:"2rem",textAlign:"center"},children:[u," - Sports & Fitness"]})}),!u&&(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Sports & Fitness"})}),!f&&!j&&(0,d.jsxs)("div",{className:"filter-section",children:[(0,d.jsxs)("button",{className:"filter-toggle-btn",onClick:()=>w(!N),children:[(0,d.jsx)("i",{className:"fas fa-filter"}),"Filters ",A()>0&&"(".concat(A(),")")]}),A()>0&&(0,d.jsxs)("button",{className:"clear-filters-btn",onClick:()=>{S({priceRange:{min:"",max:""},store:"",sortBy:""})},children:[(0,d.jsx)("i",{className:"fas fa-times"})," Clear All"]}),l&&(0,d.jsxs)("div",{className:"search-results-info",children:[m.length," result",1!==m.length?"s":""," found",u?" in ".concat(u):"",' for "',l,'"']})]}),N&&(0,d.jsx)("div",{className:"filter-panel",children:(0,d.jsxs)("div",{className:"filter-grid",children:[(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-rupee-sign"})," Price Range"]}),(0,d.jsxs)("div",{className:"price-range-inputs",children:[(0,d.jsx)("input",{type:"number",placeholder:"Min",value:k.priceRange.min,onChange:e=>M("min",e.target.value)}),(0,d.jsx)("span",{children:"to"}),(0,d.jsx)("input",{type:"number",placeholder:"Max",value:k.priceRange.max,onChange:e=>M("max",e.target.value)})]})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-store"})," Store"]}),(0,d.jsx)("input",{type:"text",placeholder:"Search store",value:k.store,onChange:e=>T("store",e.target.value)})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-sort"})," Sort By"]}),(0,d.jsxs)("select",{value:k.sortBy,onChange:e=>T("sortBy",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"Default"}),(0,d.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,d.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,d.jsx)("option",{value:"distance",children:"Distance: Nearest First"}),(0,d.jsx)("option",{value:"name-az",children:"Name: A to Z"}),(0,d.jsx)("option",{value:"name-za",children:"Name: Z to A"})]})]})]})}),f&&(0,d.jsx)("div",{className:"loading",children:"Loading products..."}),j&&(0,d.jsxs)("div",{className:"error",children:["Error: ",j]}),!f&&!j&&0===m.length&&(0,d.jsx)("div",{className:"no-results-message",style:{textAlign:"center",padding:"50px"},children:(0,d.jsxs)("p",{children:["No sports & fitness products found",u?" in ".concat(u):"",l?' for "'.concat(l,'"'):"","."]})}),!f&&!j&&m.length>0&&(0,d.jsx)("div",{className:"product-grid",children:m.map(e=>{return(0,d.jsx)(Ne,{product:e,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,isWishlisted:(r=e._id||e.id,t.some(e=>(e._id||e.id)===r)),cartItems:i,navigateTo:o},e._id||e.id);var r})})]})})]})},ke=e=>{let{product:t,onAddToCart:a,onToggleWishlist:r,isWishlisted:s,onViewProduct:n,cartItems:i,navigateTo:o}=e;return(0,d.jsxs)("div",{className:"product-card",draggable:"true",onClick:e=>{e.target.closest("button")||n(t)},style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:t.image?t.image.startsWith("http")?t.image:t.image.includes("-")&&/^\d+-\w+\./.test(t.image)?"http://localhost:5000/uploads/".concat(t.image):"/IMAGES/".concat(t.image):"https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+")),alt:t.name,className:"product-img",onError:e=>{e.target.src="https://via.placeholder.com/200x200?text=".concat(t.name.replace(/\s/g,"+"))}}),(0,d.jsxs)("div",{className:"product-info",children:[(0,d.jsx)("h3",{className:"product-title",children:t.name}),(0,d.jsxs)("div",{className:"product-vendor",children:[(0,d.jsx)("i",{className:"fas fa-store"})," ",(0,d.jsx)("span",{children:t.vendor})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"})," ",(0,d.jsx)("span",{children:t.distance||"Calculating..."})]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-actions",children:[(0,d.jsx)("button",{className:"like-btn",onClick:()=>r(t),style:{color:s?"var(--secondary)":"var(--gray)"},children:(0,d.jsx)("i",{className:s?"fas fa-heart":"far fa-heart"})}),i&&i.some(e=>(e._id||e.id)===(t._id||t.id))?(0,d.jsx)("button",{className:"btn go-to-cart",onClick:()=>o("cart"),children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn add-to-cart",onClick:()=>a(t),children:"Add to Cart"})]})]})]})},Se=e=>{let{wishlistItems:t,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,cartItems:i,navigateTo:o,searchQuery:l,selectedVendor:u}=e;const[p,h]=(0,r.useState)({womens:[],mens:[],kids:[]}),[m,g]=(0,r.useState)({womens:[],mens:[],kids:[]}),[f,x]=(0,r.useState)(!0),[j,v]=(0,r.useState)(null),[y,b]=(0,r.useState)(0),[N,w]=(0,r.useState)(!1),[k,S]=(0,r.useState)({priceRange:{min:"",max:""},category:"",store:"",sortBy:""}),C=["IMAGES/watches-hero-11.jpg","IMAGES/watches-hero-2.jpg","IMAGES/wateches-hero-3.jpeg"];(0,r.useEffect)(()=>{const e=setInterval(()=>{b(e=>(e+1)%C.length)},5e3);return()=>clearInterval(e)},[C.length]);const P=(0,r.useCallback)((e,t,a,r)=>{const s=e=>e*(Math.PI/180),n=s(a-e),i=s(r-t),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(s(e))*Math.cos(s(a))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},[]);(0,r.useEffect)(()=>{(async()=>{try{x(!0);const e=await fetch("http://localhost:5000/api/products/category/Watches");if(!e.ok)throw new Error("Failed to fetch products");const t=await e.json();console.log("Fetched Watches products:",t),console.log("Selected Vendor:",u);const a=t.filter(e=>"Women's Watches"===e.subcategory),r=t.filter(e=>"Men's Watches"===e.subcategory),s=t.filter(e=>"Kids' Watches"===e.subcategory);if(navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const t=e.coords.latitude,n=e.coords.longitude,i=e=>e.map(e=>{if(e.lat&&e.lon){const a=P(t,n,e.lat,e.lon);return c(c({},e),{},{distance:"".concat(a.toFixed(1)," km away"),distanceValue:parseFloat(a.toFixed(1))})}return c(c({},e),{},{distance:"Distance N/A",distanceValue:999})}),o={womens:i(a),mens:i(r),kids:i(s)};h(o),g(o)},e=>{console.warn("Geolocation error: ".concat(e.message,"."));const t={womens:a.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5})),mens:r.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5})),kids:s.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}))};h(t),g(t)});else{console.warn("Geolocation is not supported by this browser.");const e={womens:a.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5})),mens:r.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5})),kids:s.map(e=>c(c({},e),{},{distance:"Within 5km",distanceValue:5}))};h(e),g(e)}v(null)}catch(e){console.error("Error fetching products:",e),v("Failed to load products"),g({womens:[],mens:[],kids:[]})}finally{x(!1)}})()},[P]),(0,r.useEffect)(()=>{console.log("Watches - Selected Vendor:",u),console.log("Watches - Search Query:",l);if(0===p.womens.length+p.mens.length+p.kids.length)return;let e=[...p.womens,...p.mens,...p.kids];if(u&&(console.log("Filtering products by vendor:",u),e=e.filter(e=>e.vendor===u)),l&&l.trim()){const t=l.toLowerCase().trim();e=e.filter(e=>{var a,r,s;const n=null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t),i=null===(r=e.vendor)||void 0===r?void 0:r.toLowerCase().includes(t),o=null===(s=e.category)||void 0===s?void 0:s.toLowerCase().includes(t);return n||i||o})}if(k.priceRange.min&&(e=e.filter(e=>e.price>=parseFloat(k.priceRange.min))),k.priceRange.max&&(e=e.filter(e=>e.price<=parseFloat(k.priceRange.max))),k.category&&(e=e.filter(e=>e.subcategory===k.category)),k.store&&(e=e.filter(e=>{var t;return null===(t=e.vendor)||void 0===t?void 0:t.toLowerCase().includes(k.store.toLowerCase())})),k.sortBy)switch(k.sortBy){case"price-low":e.sort((e,t)=>e.price-t.price);break;case"price-high":e.sort((e,t)=>t.price-e.price);break;case"distance":e.sort((e,t)=>(e.distanceValue||999)-(t.distanceValue||999));break;case"name-az":e.sort((e,t)=>e.name.localeCompare(t.name));break;case"name-za":e.sort((e,t)=>t.name.localeCompare(e.name))}const t={womens:e.filter(e=>"Women's Watches"===e.subcategory),mens:e.filter(e=>"Men's Watches"===e.subcategory),kids:e.filter(e=>"Kids' Watches"===e.subcategory)};g(t)},[l,p,u,k]);const T=(e,t)=>{S(a=>c(c({},a),{},{[e]:t}))},M=(e,t)=>{S(a=>c(c({},a),{},{priceRange:c(c({},a.priceRange),{},{[e]:t})}))},A=()=>{let e=0;return(k.priceRange.min||k.priceRange.max)&&e++,k.category&&e++,k.store&&e++,k.sortBy&&e++,e},I=e=>(0,d.jsx)("div",{className:"product-grid",children:e.map(e=>{return(0,d.jsx)(ke,{product:e,onAddToCart:a,onToggleWishlist:s,onViewProduct:n,isWishlisted:(r=e._id||e.id,t.some(e=>(e._id||e.id)===r)),cartItems:i,navigateTo:o},e._id||e.id);var r})});if(f)return(0,d.jsx)("div",{className:"container",children:(0,d.jsx)("div",{className:"loading",children:"Loading watches products..."})});if(j)return(0,d.jsx)("div",{className:"container",children:(0,d.jsx)("div",{className:"error",children:j})});const E=m.womens.length+m.mens.length+m.kids.length;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("section",{className:"hero",id:"hero",children:(0,d.jsx)("div",{className:"hero-carousel",children:(0,d.jsx)("div",{className:"carousel-slides",style:{transform:"translateX(-".concat(100*y,"%)")},children:C.map((e,t)=>(0,d.jsx)("div",{className:"carousel-slide",children:(0,d.jsx)("img",{src:e,alt:"Watches slide ".concat(t+1)})},t))})})}),(0,d.jsxs)("div",{className:"container",children:[u&&(0,d.jsx)("div",{style:{marginTop:"20px"},children:(0,d.jsxs)("h2",{style:{color:"#333",fontSize:"2rem",textAlign:"center"},children:[u," - Watches"]})}),!f&&!j&&(0,d.jsxs)("div",{className:"filter-section",children:[(0,d.jsxs)("button",{className:"filter-toggle-btn",onClick:()=>w(!N),children:[(0,d.jsx)("i",{className:"fas fa-filter"}),"Filters ",A()>0&&"(".concat(A(),")")]}),A()>0&&(0,d.jsxs)("button",{className:"clear-filters-btn",onClick:()=>{S({priceRange:{min:"",max:""},category:"",store:"",sortBy:""})},children:[(0,d.jsx)("i",{className:"fas fa-times"})," Clear All"]}),l&&(0,d.jsxs)("div",{className:"search-results-info",children:[E," result",1!==E?"s":""," found",u?" in ".concat(u):"",' for "',l,'"']})]}),N&&(0,d.jsx)("div",{className:"filter-panel",children:(0,d.jsxs)("div",{className:"filter-grid",children:[(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-rupee-sign"})," Price Range"]}),(0,d.jsxs)("div",{className:"price-range-inputs",children:[(0,d.jsx)("input",{type:"number",placeholder:"Min",value:k.priceRange.min,onChange:e=>M("min",e.target.value)}),(0,d.jsx)("span",{children:"to"}),(0,d.jsx)("input",{type:"number",placeholder:"Max",value:k.priceRange.max,onChange:e=>M("max",e.target.value)})]})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-clock"})," Category"]}),(0,d.jsxs)("select",{value:k.category,onChange:e=>T("category",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"All Categories"}),(0,d.jsx)("option",{value:"Women's Watches",children:"Women's Watches"}),(0,d.jsx)("option",{value:"Men's Watches",children:"Men's Watches"}),(0,d.jsx)("option",{value:"Kids' Watches",children:"Kids' Watches"})]})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-store"})," Store"]}),(0,d.jsx)("input",{type:"text",placeholder:"Search store",value:k.store,onChange:e=>T("store",e.target.value)})]}),(0,d.jsxs)("div",{className:"filter-group",children:[(0,d.jsxs)("label",{children:[(0,d.jsx)("i",{className:"fas fa-sort"})," Sort By"]}),(0,d.jsxs)("select",{value:k.sortBy,onChange:e=>T("sortBy",e.target.value),children:[(0,d.jsx)("option",{value:"",children:"Default"}),(0,d.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,d.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,d.jsx)("option",{value:"distance",children:"Distance: Nearest First"}),(0,d.jsx)("option",{value:"name-az",children:"Name: A to Z"}),(0,d.jsx)("option",{value:"name-za",children:"Name: Z to A"})]})]})]})})]}),0===E&&(0,d.jsx)("div",{className:"container",children:(0,d.jsx)("div",{className:"no-results-message",style:{textAlign:"center",padding:"50px"},children:(0,d.jsxs)("p",{children:["No watches found",u?" in ".concat(u):"",l?' for "'.concat(l,'"'):"","."]})})}),m.womens.length>0&&(0,d.jsx)("section",{id:"womens-watches",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Women's Watches"})}),I(m.womens)]})}),m.mens.length>0&&(0,d.jsx)("section",{id:"mens-watches",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Men's Watches"})}),I(m.mens)]})}),m.kids.length>0&&(0,d.jsx)("section",{id:"kids-watches",className:"section",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("div",{className:"section-title",children:(0,d.jsx)("h2",{children:"Kids' Watches"})}),I(m.kids)]})})]})},Ce=e=>{let{product:t,onAddToCart:a,onToggleWishlist:s,cartItems:n,wishlistItems:i,navigateTo:o,onViewProduct:l}=e;const u=e=>e?e.includes("-")?"http://localhost:5000/uploads/".concat(e):"/IMAGES/".concat(e):"https://via.placeholder.com/200x150?text=No+Image",[p,h]=(0,r.useState)(""),[m,g]=(0,r.useState)(t),[f,x]=(0,r.useState)([]),[j,v]=(0,r.useState)([]),y=(0,r.useCallback)((e,t,a,r)=>{const s=e=>e*(Math.PI/180),n=s(a-e),i=s(r-t),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(s(e))*Math.cos(s(a))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},[]);(0,r.useEffect)(()=>{(async()=>{try{console.log("\ud83c\udf55 Fetching Food & Dining products for related...");const e=await fetch("http://localhost:5000/api/products/category/Food%20%26%20Dining");if(e.ok){const t=await e.json();console.log("\u2705 Fetched",t.length,"Food & Dining products"),v(t)}else console.error("\u274c Failed to fetch food products:",e.status)}catch(e){console.error("\u274c Error fetching food products:",e)}})()},[]),(0,r.useEffect)(()=>{t&&(h(u(t.image)),console.log("\ud83d\udd0d FoodDineProductDetail - Rendering product:",t.name),console.log("\ud83d\udce6 Product category:",t.category)),window.scrollTo(0,0)},[t]),(0,r.useEffect)(()=>{if(t&&0!==j.length)if(console.log("\ud83c\udfaf Starting distance calculation..."),console.log("   Product:",t.name),console.log("   Available products:",j.length),navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const a=e.coords.latitude,r=e.coords.longitude;if(console.log("\ud83d\udccd User location:",a,r),t.lat&&t.lon){const e=y(a,r,t.lat,t.lon);g(c(c({},t),{},{distance:"".concat(e.toFixed(1)," km away")}))}else g(c(c({},t),{},{distance:"Distance N/A"}));const s=j.filter(e=>(e._id||e.id)!==(t._id||t.id)).sort(()=>.5-Math.random()).slice(0,4);console.log("\ud83d\udd17 Found",s.length,"related products");const n=s.map(e=>{if(e.lat&&e.lon){const t=y(a,r,e.lat,e.lon);return c(c({},e),{},{distance:"".concat(t.toFixed(1)," km away")})}return c(c({},e),{},{distance:"Distance N/A"})});x(n),console.log("\u2705 Related products with distance set:",n.length)},e=>{console.warn("\u26a0\ufe0f Geolocation error:",e.message),g(c(c({},t),{},{distance:"Within 5km"}));const a=j.filter(e=>(e._id||e.id)!==(t._id||t.id)).sort(()=>.5-Math.random()).slice(0,4);x(a.map(e=>c(c({},e),{},{distance:"Within 5km"}))),console.log("\u2705 Related products set (no geolocation):",a.length)});else{console.warn("\u26a0\ufe0f Geolocation not supported"),g(c(c({},t),{},{distance:"Distance N/A"}));const e=j.filter(e=>(e._id||e.id)!==(t._id||t.id)).sort(()=>.5-Math.random()).slice(0,4);x(e.map(e=>c(c({},e),{},{distance:"Distance N/A"}))),console.log("\u2705 Related products set (no browser support):",e.length)}else console.log("\u23f3 Waiting for product or food products...")},[t,j,y]);const b=(0,r.useMemo)(()=>n.some(e=>(e._id||e.id)===((null===t||void 0===t?void 0:t._id)||(null===t||void 0===t?void 0:t.id))),[n,t]),N=(0,r.useMemo)(()=>i.some(e=>(e._id||e.id)===(t._id||t.id)),[i,t]),w=(0,r.useMemo)(()=>{if(!t)return[];const e=[u(t.image)];return t.otherImages&&t.otherImages.length>0?e.concat(t.otherImages.map(e=>u(e))):e},[t]);return t?(console.log("\ud83c\udfa8 Rendering UI - Related products count:",f.length),(0,d.jsxs)("div",{className:"container",children:[(0,d.jsxs)("a",{href:"#back",onClick:e=>{e.preventDefault(),o("food-products",{vendor:t.vendor})},className:"back-link",children:["\u2190 Back to ",t.vendor]}),(0,d.jsxs)("div",{className:"product-detail-container",children:[(0,d.jsxs)("div",{className:"product-images",children:[(0,d.jsx)("div",{className:"main-image",children:(0,d.jsx)("img",{id:"main-product-image",src:p,alt:t.name})}),(0,d.jsx)("div",{className:"thumbnail-track",children:w.map((e,a)=>(0,d.jsx)("img",{src:e,alt:"".concat(t.name," thumbnail ").concat(a+1),className:"thumbnail ".concat(p===e?"active":""),onClick:()=>h(e),onError:e=>e.target.src="https://via.placeholder.com/80x80?text=No+Img"},a))})]}),(0,d.jsxs)("div",{className:"product-details",children:[(0,d.jsx)("h1",{children:t.name}),(0,d.jsxs)("p",{className:"product-vendor",children:["by ",t.vendor]}),(0,d.jsxs)("div",{className:"product-price-details",children:["\u20b9",t.price]}),(0,d.jsxs)("div",{className:"product-description",children:[(0,d.jsx)("h3",{children:"Description"}),(0,d.jsx)("p",{children:t.description||"Delicious and freshly prepared. Made with high-quality ingredients to satisfy your cravings."})]}),t.warranty&&(0,d.jsxs)("div",{className:"product-warranty",style:{marginTop:"15px",padding:"12px",backgroundColor:"#e8f5e9",borderLeft:"4px solid #4CAF50",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#2e7d32"},children:[(0,d.jsx)("i",{className:"fas fa-shield-alt",style:{marginRight:"8px"}}),"Warranty:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:t.warranty})]}),t.expiryDate&&(0,d.jsxs)("div",{className:"product-expiry",style:{marginTop:"15px",padding:"12px",backgroundColor:"#fff3e0",borderLeft:"4px solid #ff9800",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#e65100"},children:[(0,d.jsx)("i",{className:"fas fa-calendar-alt",style:{marginRight:"8px"}}),"Expiry Date:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:(e=>{if(!e)return null;return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})(t.expiryDate)})]}),t.diet&&(0,d.jsxs)("div",{className:"diet-info",style:{marginTop:"15px"},children:[(0,d.jsx)("strong",{children:"Dietary Type:"}),(0,d.jsx)("span",{className:"diet-indicator ".concat("Veg"===t.diet?"diet-veg":"diet-non-veg"),title:t.diet,style:{marginLeft:"10px"}})]}),(0,d.jsxs)("div",{className:"product-distance",style:{marginTop:"15px"},children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,d.jsx)("span",{children:m.distance||"Calculating..."})]}),(0,d.jsxs)("div",{className:"product-actions",style:{marginTop:"20px"},children:[b?(0,d.jsx)("button",{onClick:()=>o("cart"),className:"btn go-to-cart",children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn",onClick:()=>a(t),children:"Add to Cart"}),(0,d.jsx)("button",{className:"wishlist-heart-btn ".concat(N?"active":""),title:"Add to Wishlist",onClick:()=>s(t),children:(0,d.jsx)("i",{className:N?"fas fa-heart":"far fa-heart"})})]})]})]}),f.length>0?(0,d.jsxs)("div",{className:"related-products-section",children:[(0,d.jsx)("h2",{children:"Related Products"}),(0,d.jsx)("div",{className:"related-product-grid",children:f.map(e=>(0,d.jsxs)("div",{className:"related-product-card",onClick:()=>l(e),style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:u(e.image),alt:e.name,onError:e=>e.target.src="https://via.placeholder.com/200x150?text=No+Img"}),(0,d.jsxs)("div",{className:"related-product-info",children:[(0,d.jsx)("h4",{children:e.name}),(0,d.jsx)("p",{style:{fontSize:"14px",color:"var(--gray)"},children:e.vendor}),(0,d.jsxs)("div",{className:"product-price",style:{fontSize:"18px",marginTop:"10px"},children:["\u20b9",e.price]}),(0,d.jsxs)("div",{className:"product-distance",style:{fontSize:"14px",color:"var(--gray)",marginTop:"5px"},children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,d.jsx)("span",{children:e.distance||"N/A"})]})]})]},e._id||e.id))})]}):(0,d.jsxs)("div",{className:"related-products-section",children:[(0,d.jsx)("h2",{children:"Related Products"}),(0,d.jsx)("p",{style:{textAlign:"center",color:"#666",padding:"40px"},children:0===j.length?"Loading related products...":"No related products available"})]})]})):(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("h1",{children:"Product not found"}),(0,d.jsx)("a",{href:"#home",onClick:e=>{e.preventDefault(),o("home")},className:"back-link",children:"\u2190 Back to Home"})]})},Pe=[{id:1401,name:"Vitamin D3 2000IU",price:49,vendor:"MediCare Pharmacy",image:"Vitamin D3 2000IU1.jpeg",type:"Tablet",description:"Vitamin D3 2000IU is essential for bone health, immune function, and calcium absorption. Benefits include stronger bones and reduced risk of deficiency. Precautions: Consult a doctor if pregnant, nursing, or on medication.",otherImages:["Vitamin D3 2000IU3.jpeg","Vitamin D3 2000IU1.jpeg","Vitamin D3 2000IU3.jpeg"],lat:17.4486,lon:78.3908,category:"Medicines"},{id:1402,name:"Pain Relief",price:129,vendor:"HealthPlus",image:"pain relif.jpg",type:"Capsule",description:"Pain Relief capsules provide fast relief from headaches, muscle pain, and inflammation. Benefits: Effective pain management without drowsiness. Precautions: Do not exceed recommended dosage; avoid if allergic to NSAIDs.",otherImages:["pain relif1.jpg","pain relif2.jpg","pain relif3.jpg"],lat:17.4512,lon:78.3855,category:"Medicines"},{id:1403,name:"Vitamin C 1000mg",price:299,vendor:"NutriWell",image:"Vitamin-C-1000-mg-20-tablets-Orange_o.jpg",type:"Supplement",description:"Vitamin C 1000mg supplement boosts immunity, collagen production, and antioxidant protection. Benefits: Enhanced immune response and skin health. Precautions: High doses may cause stomach upset; consult a doctor if on blood thinners.",otherImages:["Vitamin-C-1000-mg-20-tablets-Orange_o1.jpg","Vitamin-C-1000-mg-20-tablets-Orange_o2.jpg","Vitamin-C-1000-mg-20-tablets-Orange_o3.jpg"],lat:17.4421,lon:78.3882,category:"Medicines"},{id:1404,name:"Blood Pressure Monitor",price:1499,vendor:"MediTech",image:"BPMonitor.jpg",type:"Medical Device",description:"Blood Pressure Monitor accurately measures systolic and diastolic pressure at home. Benefits: Helps monitor hypertension and prevent complications. Precautions: Ensure proper cuff size; consult a healthcare provider for interpretation.",otherImages:["BPMonitor1.jpg","BPMonitor2.jpg","BPMonitor3.jpg"],lat:17.455,lon:78.392,category:"Medicines"},{id:1405,name:"Atorvastatin 10mg",price:189,vendor:"PharmaCare",image:"Atorvastatin.jpg",type:"Tablet",description:"Atorvastatin 10mg lowers cholesterol levels and reduces the risk of cardiovascular disease. Benefits: Reduces LDL cholesterol and triglyceride levels. Precautions: May cause muscle pain; monitor liver function; avoid grapefruit juice.",otherImages:["Atorvastatin1.jpg","Atorvastatin2.jpg","Atorvastatin3.jpg"],lat:17.4399,lon:78.4421,category:"Medicines"},{id:1406,name:"Omeprazole 20mg",price:159,vendor:"MediExpress",image:"Omeprazole.jpg",type:"Capsule",description:"Omeprazole 20mg reduces stomach acid production for acid reflux and ulcers. Benefits: Relieves heartburn and promotes healing. Precautions: Long-term use may affect vitamin B12 absorption; consult a doctor if symptoms persist.",otherImages:["Omeprazole1.jpg","Omeprazole2.jpg","Omeprazole3.jpg"],lat:17.4455,lon:78.38,category:"Medicines"},{id:1407,name:"Diabetes Test Strips",price:799,vendor:"DiabeCare",image:"TestStrips.jpg",type:"Medical Supply",description:"Diabetes Test Strips measure blood glucose levels for diabetes management. Benefits: Enables self-monitoring and better control. Precautions: Use with a compatible glucometer; store properly to maintain accuracy.",otherImages:["TestStrips1.jpg","TestStrips2.jpg","TestStrips3.jpg"],lat:17.448,lon:78.389,category:"Medicines"},{id:1408,name:"Metformin 500mg",price:99,vendor:"HealthFirst",image:"Metformin.jpg",type:"Tablet",description:"Metformin 500mg helps control blood sugar in type 2 diabetes. Benefits: Improves insulin sensitivity and reduces glucose production. Precautions: May cause digestive side effects; monitor kidney function.",otherImages:["Metformin1.jpg","Metformin2.jpg","Metformin3.jpg"],lat:17.452,lon:78.387,category:"Medicines"},{id:1409,name:"First Aid Kit",price:499,vendor:"SafeLife",image:"FirstAidKit.jpg",type:"Medical Kit",description:"First Aid Kit contains essential supplies for minor injuries and emergencies. Benefits: Quick response for cuts, burns, and sprains. Precautions: Check expiration dates; restock used items regularly.",otherImages:["FirstAidKit1.jpg","FirstAidKit2.jpg","FirstAidKit3.jpg"],lat:17.44,lon:78.385,category:"Medicines"},{id:1410,name:"Ibuprofen 400mg",price:79,vendor:"QuickMeds",image:"ibprofen 400mg.jpg",type:"Tablet",description:"Ibuprofen 400mg relieves pain, fever, and inflammation. Benefits: Effective for arthritis and menstrual cramps. Precautions: Avoid if allergic to NSAIDs; long-term use may increase heart risks.",otherImages:["ibprofen 400mg1.jpg","ibprofen 400mg2.jpg","ibprofen 400mg3.jpg"],lat:17.449,lon:78.395,category:"Medicines"},{id:1411,name:"Vitamin D3 1000IU",price:349,vendor:"WellnessPlus",image:"VitaminD3.jpg",type:"Supplement",description:"Vitamin D3 1000IU supports bone density and immune health. Benefits: Prevents rickets and osteomalacia. Precautions: Overdose can cause hypercalcemia; consult a doctor for dosage.",otherImages:["VitaminD31.jpg","VitaminD32.jpg","VitaminD33.jpg"],lat:17.455,lon:78.392,category:"Medicines"},{id:1412,name:"Thermometer Digital",price:249,vendor:"HealthGadgets",image:"Thermometer.jpg",type:"Medical Device",description:"Digital Thermometer provides accurate body temperature readings. Benefits: Fast and hygienic measurement. Precautions: Clean after use; ensure battery is functional.",otherImages:["Thermometer1.jpg","Thermometer2.jpg","Thermometer3.jpg"],lat:17.443,lon:78.386,category:"Medicines"},{id:1413,name:"Cetirizine 10mg",price:59,vendor:"AllergyCare",image:"Cetirizine.jpg",type:"Tablet",description:"Cetirizine 10mg reduces allergy symptoms like runny nose and itching. Benefits: Non-drowsy antihistamine for hay fever. Precautions: May cause dry mouth; avoid alcohol.",otherImages:["Cetirizine1.jpg","Cetirizine2.jpg","Cetirizine3.jpg"],lat:17.45,lon:78.384,category:"Medicines"},{id:1414,name:"Nebulizer Machine",price:1899,vendor:"BreathEasy",image:"Nebulizer.jpg",type:"Medical Equipment",description:"Nebulizer Machine converts liquid medicine into a mist for respiratory treatment. Benefits: Effective for asthma and COPD. Precautions: Clean regularly; use only prescribed medications.",otherImages:["Nebulizer1.jpg","Nebulizer2.jpg","Nebulizer3.jpg"],lat:17.447,lon:78.391,category:"Medicines"},{id:1415,name:"Aspirin 75mg",price:69,vendor:"HeartCare",image:"Aspirin.jpg",type:"Tablet",description:"Aspirin 75mg prevents blood clots and reduces the risk of heart attack. Benefits: Anti-platelet action for cardiovascular disease. Precautions: May cause stomach bleeding; not for everyone; consult a doctor.",otherImages:["Aspirin1.jpg","Aspirin2.jpg","Aspirin3.jpg"],lat:17.44,lon:78.385,category:"Medicines"}],Te=e=>{let{product:t,onAddToCart:a,onToggleWishlist:s,cartItems:n,wishlistItems:i,navigateTo:o,onViewProduct:l}=e;const u=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.includes("-")&&/^\d+-\w+\./.test(e)?"http://localhost:5000/uploads/".concat(e):"/IMAGES/".concat(e):"https://via.placeholder.com/200x150?text=No+Image",[p,h]=(0,r.useState)(""),[m,g]=(0,r.useState)(t),[f,x]=(0,r.useState)([]),j=(0,r.useCallback)((e,t,a,r)=>{const s=e=>e*(Math.PI/180),n=s(a-e),i=s(r-t),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(s(e))*Math.cos(s(a))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},[]);(0,r.useEffect)(()=>{t&&(h(u(t.image)),console.log("\ud83d\udd0d MedicineProductDetail - Rendering product:",t.name),console.log("\ud83d\udee1\ufe0f Warranty:",t.warranty),console.log("\ud83d\udcc5 Expiry:",t.expiryDate)),window.scrollTo(0,0)},[t]),(0,r.useEffect)(()=>{if(navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const a=e.coords.latitude,r=e.coords.longitude;if(t&&t.lat&&t.lon){const e=j(a,r,t.lat,t.lon);g(c(c({},t),{},{distance:"".concat(e.toFixed(1)," km away")}))}else g(c(c({},t),{},{distance:"Distance N/A"}));const s=Pe.filter(e=>e.id!==t.id).sort(()=>.5-Math.random()).slice(0,4).map(e=>{if(e.lat&&e.lon){const t=j(a,r,e.lat,e.lon);return c(c({},e),{},{distance:"".concat(t.toFixed(1)," km away")})}return c(c({},e),{},{distance:"Distance N/A"})});x(s)},e=>{console.warn("Geolocation error: ".concat(e.message,".")),g(c(c({},t),{},{distance:"Distance N/A"}));const a=Pe.filter(e=>e.id!==t.id).sort(()=>.5-Math.random()).slice(0,4);x(a.map(e=>c(c({},e),{},{distance:"Distance N/A"})))});else{console.warn("Geolocation is not supported by this browser."),g(c(c({},t),{},{distance:"Distance N/A"}));const e=Pe.filter(e=>e.id!==t.id).sort(()=>.5-Math.random()).slice(0,4);x(e.map(e=>c(c({},e),{},{distance:"Distance N/A"})))}},[t,j]);const v=(0,r.useMemo)(()=>n.some(e=>(e._id||e.id)===(t._id||t.id)),[n,t]),y=(0,r.useMemo)(()=>i.some(e=>(e._id||e.id)===(t._id||t.id)),[i,t]),b=(0,r.useMemo)(()=>{if(!t)return[];const e=[u(t.image)];return t.otherImages&&t.otherImages.length>0?e.concat(t.otherImages.map(e=>u(e))):e},[t]);return t?(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("a",{href:"#medicines",onClick:e=>{e.preventDefault(),o("medicines")},className:"back-link",children:"\u2190 Back to Medicines"}),(0,d.jsxs)("div",{className:"product-detail-container",children:[(0,d.jsxs)("div",{className:"product-images",children:[(0,d.jsx)("div",{className:"main-image",children:(0,d.jsx)("img",{src:p,alt:t.name,onError:e=>console.log("Image failed to load:",p)})}),(0,d.jsx)("div",{className:"thumbnail-track",children:b.map((e,a)=>(0,d.jsx)("img",{src:e,alt:"".concat(t.name," thumbnail ").concat(a+1),className:"thumbnail ".concat(p===e?"active":""),onClick:()=>h(e),onError:e=>e.target.src="https://via.placeholder.com/80x80?text=No+Img"},a))})]}),(0,d.jsxs)("div",{className:"product-details",children:[(0,d.jsx)("h1",{children:t.name}),(0,d.jsxs)("p",{className:"product-vendor",children:["by ",t.vendor]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price]}),(0,d.jsxs)("div",{className:"product-description",children:[(0,d.jsx)("h3",{children:"Description"}),(0,d.jsx)("p",{children:t.description})]}),t.warranty&&(0,d.jsxs)("div",{className:"product-warranty",style:{marginTop:"15px",padding:"12px",backgroundColor:"#e8f5e9",borderLeft:"4px solid #4CAF50",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#2e7d32"},children:[(0,d.jsx)("i",{className:"fas fa-shield-alt",style:{marginRight:"8px"}}),"Warranty:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:t.warranty})]}),t.expiryDate&&(0,d.jsxs)("div",{className:"product-expiry",style:{marginTop:"15px",padding:"12px",backgroundColor:"#fff3e0",borderLeft:"4px solid #ff9800",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#e65100"},children:[(0,d.jsx)("i",{className:"fas fa-calendar-alt",style:{marginRight:"8px"}}),"Expiry Date:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:(e=>{if(!e)return null;return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})(t.expiryDate)})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,d.jsx)("span",{children:m.distance||"Calculating..."})]}),(0,d.jsxs)("div",{className:"product-actions",children:[v?(0,d.jsx)("button",{onClick:()=>o("cart"),className:"btn go-to-cart",children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn",onClick:()=>a(t),children:"Add to Cart"}),(0,d.jsx)("button",{className:"wishlist-heart-btn ".concat(y?"active":""),title:"Add to Wishlist",onClick:()=>s(t),children:(0,d.jsx)("i",{className:y?"fas fa-heart":"far fa-heart"})})]})]})]}),(0,d.jsxs)("div",{className:"related-products-section",children:[(0,d.jsx)("h2",{children:"Related Products"}),(0,d.jsx)("div",{className:"related-product-grid",children:f.map(e=>(0,d.jsxs)("div",{className:"related-product-card",onClick:()=>l(e),style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:u(e.image),alt:e.name,onError:e=>e.target.src="https://via.placeholder.com/200x150?text=No+Img"}),(0,d.jsxs)("div",{className:"related-product-info",children:[(0,d.jsx)("h4",{children:e.name}),(0,d.jsx)("p",{style:{fontSize:"14px",color:"var(--gray)"},children:e.vendor}),(0,d.jsxs)("div",{className:"product-price",style:{fontSize:"18px",marginTop:"10px"},children:["\u20b9",e.price]}),(0,d.jsxs)("div",{className:"product-distance",style:{fontSize:"14px",color:"var(--gray)",marginTop:"5px"},children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"})," ",(0,d.jsx)("span",{children:e.distance||"N/A"})]})]})]},e.id))})]})]}):(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("h1",{children:"Product not found"}),(0,d.jsx)("a",{href:"#medicines",onClick:e=>{e.preventDefault(),o("medicines")},className:"back-link",children:"\u2190 Back to Medicines"})]})},Me=[{id:1801,name:"Smartphone Screen Repair",price:2999,vendor:"TechFix",image:"smartphonerepair.jpg",timing:"Mon-Sat, 10 AM - 7 PM",otherImages:["smartphonerepair1.jpg","smartphonerepair2.jpg","smartphonerepair3.jpg"],lat:17.4486,lon:78.3908,category:"Services"},{id:1802,name:"Laptop Repair",price:4999,vendor:"GadgetCare",image:"laptop repair.jpg",timing:"Mon-Fri, 9 AM - 6 PM",otherImages:["laptop repair1.jpg","laptop repair2.jpg","laptop repair3.jpg"],lat:17.4512,lon:78.3855,category:"Services"},{id:1803,name:"Tablet Repair",price:3999,vendor:"DeviceMasters",image:"tablet repair.jpg",timing:"Mon-Sat, 11 AM - 8 PM",otherImages:["tablet repair1.jpg","tablet repair2.jpg","tablet repair3.jpg"],lat:17.4421,lon:78.3882,category:"Services"},{id:1804,name:"Smartwatch Repair",price:2499,vendor:"RepairPro",image:"smartwatch repair.jpg",timing:"Tue-Sun, 10 AM - 6 PM",otherImages:["smartwatch repair1.jpg","smartwatch repair2.jpg","smartwatch repair3.jpg"],lat:17.455,lon:78.392,category:"Services"},{id:1805,name:"AC Repair",price:1999,vendor:"CoolFix",image:"ac repair.jpg",timing:"Mon-Sun, 9 AM - 9 PM",otherImages:["ac repair1.jpg","ac repair2.jpg","ac repair3.jpg"],lat:17.4399,lon:78.4421,category:"Services"},{id:1806,name:"Washing Machine Repair",price:3499,vendor:"WashTech",image:"washing machine repair.jpg",timing:"Mon-Sat, 9 AM - 7 PM",otherImages:["washing machine repair1.jpg","washing machine repair2.jpg","washing machine repair3.jpg"],lat:17.4455,lon:78.38,category:"Services"},{id:1807,name:"Refrigerator Repair",price:2999,vendor:"FridgeMasters",image:"refrigerator repair.jpg",timing:"Mon-Sun, 8 AM - 8 PM",otherImages:["refrigerator repair1.jpg","refrigerator repair2.jpg","refrigerator repair3.jpg"],lat:17.448,lon:78.389,category:"Services"},{id:1808,name:"Microwave Repair",price:1499,vendor:"OvenFix",image:"microwave repair.jpg",timing:"Mon-Fri, 10 AM - 5 PM",otherImages:["microwave repair1.jpg","microwave repair2.jpg","microwave repair3.jpg"],lat:17.452,lon:78.387,category:"Services"},{id:1809,name:"Home Cleaning",price:1999,vendor:"CleanMasters",image:"home cleaning.jpg",timing:"Mon-Sun, 8 AM - 6 PM",otherImages:["home cleaning1.jpg","home cleaning2.jpg","home cleaning3.jpg"],lat:17.44,lon:78.385,category:"Services"},{id:1810,name:"Office Cleaning",price:3499,vendor:"OfficeShine",image:"office cleaning.jpg",timing:"Mon-Fri, 6 PM - 10 PM",otherImages:["office cleaning1.jpg","office cleaning2.jpg","office cleaning3.jpg"],lat:17.449,lon:78.395,category:"Services"},{id:1811,name:"Carpet Cleaning",price:2499,vendor:"CarpetPro",image:"carpet cleaning.jpg",timing:"Mon-Sat, 9 AM - 5 PM",otherImages:["carpet cleaning1.jpg","carpet cleaning2.jpg","carpet cleaning3.jpg"],lat:17.455,lon:78.392,category:"Services"},{id:1812,name:"Window Cleaning",price:1799,vendor:"WindowGlow",image:"window cleaning.jpg",timing:"Mon-Fri, 9 AM - 4 PM",otherImages:["window cleaning1.jpg","window cleaning2.jpg","window cleaning3.jpeg"],lat:17.443,lon:78.386,category:"Services"},{id:1813,name:"Deep Cleaning",price:2999,vendor:"DeepCleaners",image:"deep cleaning.jpg",timing:"Mon-Sun, 9 AM - 7 PM",otherImages:["deep cleaning1.jpg","deep cleaning2.jpg","deep cleaning3.jpg"],lat:17.45,lon:78.384,category:"Services"},{id:1814,name:"Bathroom Cleaning",price:1499,vendor:"BathSpark",image:"bathroom cleaning.jpg",timing:"Mon-Sat, 10 AM - 6 PM",otherImages:["bathroom cleaning1.jpg","bathroom cleaning2.jpg","bathroom cleaning3.jpg"],lat:17.447,lon:78.391,category:"Services"},{id:1815,name:"Kitchen Cleaning",price:1999,vendor:"KitchenBright",image:"kitchen cleaning.jpeg",timing:"Mon-Sat, 10 AM - 6 PM",otherImages:["kitchen cleaning1.jpeg","kitchen cleaning2.jpeg","kitchen cleaning3.jpeg"],lat:17.44,lon:78.385,category:"Services"},{id:1816,name:"Sofa Cleaning",price:2499,vendor:"SofaFresh",image:"sofa cleaning.jpeg",timing:"Mon-Sun, 9 AM - 5 PM",otherImages:["sofa cleaning1.jpeg","sofa cleaning2.jpeg","sofa cleaning3.jpeg"],lat:17.4486,lon:78.3908,category:"Services"},{id:1817,name:"Salon at Home",price:1999,vendor:"BeautyHome",image:"salon at home.jpeg",timing:"Mon-Sun, 10 AM - 8 PM",otherImages:["salon at home2.jpeg","salon at home.jpeg","salon at home2.jpeg"],lat:17.4512,lon:78.3855,category:"Services"},{id:1818,name:"Spa at Home",price:2999,vendor:"SpaRelax",image:"spa at home.jpeg",timing:"Mon-Sun, 11 AM - 9 PM",otherImages:["spa at home1.jpeg","spa at home2.jpeg","spa at home3.jpeg"],lat:17.4421,lon:78.3882,category:"Services"},{id:1819,name:"Massage Therapy",price:2499,vendor:"MassagePro",image:"massage therapy.jpeg",timing:"Mon-Sun, 10 AM - 10 PM",otherImages:["massage therapy1.jpeg","massage therapy2.jpeg","massage therapy3.jpeg"],lat:17.455,lon:78.392,category:"Services"},{id:1820,name:"Haircut for Men",price:999,vendor:"HairStyle",image:"haircut men.jpg",timing:"Tue-Sun, 10 AM - 9 PM",otherImages:["haircut men1.jpeg","haircut men2.jpeg","haircut men3.jpeg"],lat:17.4399,lon:78.4421,category:"Services"},{id:1821,name:"Manicure",price:1499,vendor:"NailArt",image:"manicure.jpeg",timing:"Mon-Sat, 11 AM - 7 PM",otherImages:["manicure1.jpeg","manicure2.jpeg","manicure3.jpeg"],lat:17.4455,lon:78.38,category:"Services"},{id:1822,name:"Pedicure",price:1499,vendor:"FootCare",image:"pedicure.jpeg",timing:"Mon-Sat, 11 AM - 7 PM",otherImages:["pedicure1.jpeg","pedicure2.jpeg","pedicure3.jpeg"],lat:17.448,lon:78.389,category:"Services"},{id:1823,name:"Facial",price:1999,vendor:"FaceGlow",image:"facial.jpeg",timing:"Mon-Sun, 10 AM - 8 PM",otherImages:["facial1.jpeg","facial2.jpeg","facial3.jpeg"],lat:17.452,lon:78.387,category:"Services"},{id:1824,name:"Waxing",price:999,vendor:"WaxSmooth",image:"Waxing Service.jpg",timing:"Mon-Sat, 10 AM - 7 PM",otherImages:["Waxing Service1.jpeg","Waxing Service2.jpeg","Waxing Service3.jpeg"],lat:17.44,lon:78.385,category:"Services"}],Ae=e=>{let{product:t,onAddToCart:a,onToggleWishlist:s,cartItems:n,wishlistItems:i,navigateTo:o,onViewProduct:l}=e;const[u,p]=(0,r.useState)(""),[h,m]=(0,r.useState)(t),[g,f]=(0,r.useState)([]),x=(0,r.useCallback)((e,t,a,r)=>{const s=e=>e*(Math.PI/180),n=s(a-e),i=s(r-t),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(s(e))*Math.cos(s(a))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},[]),j=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.includes("-")&&/^\d+-\w+\./.test(e)?"http://localhost:5000/uploads/".concat(e):"/IMAGES/".concat(e):"https://via.placeholder.com/200x150?text=No+Image";(0,r.useEffect)(()=>{t&&(p(j(t.image)),console.log("\ud83d\udd0d ServiceProductDetail - Rendering product:",t.name),console.log("\ud83d\udee1\ufe0f Warranty:",t.warranty),console.log("\ud83d\udcc5 Expiry:",t.expiryDate)),window.scrollTo(0,0)},[t]),(0,r.useEffect)(()=>{if(navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const a=e.coords.latitude,r=e.coords.longitude;if(t&&t.lat&&t.lon){const e=x(a,r,t.lat,t.lon);m(c(c({},t),{},{distance:"".concat(e.toFixed(1)," km away")}))}else m(c(c({},t),{},{distance:"Distance N/A"}));const s=Me.filter(e=>e.id!==t.id).sort(()=>.5-Math.random()).slice(0,4).map(e=>{if(e.lat&&e.lon){const t=x(a,r,e.lat,e.lon);return c(c({},e),{},{distance:"".concat(t.toFixed(1)," km away")})}return c(c({},e),{},{distance:"Distance N/A"})});f(s)},e=>{console.warn("Geolocation error: ".concat(e.message,".")),m(c(c({},t),{},{distance:"Distance N/A"}));const a=Me.filter(e=>e.id!==t.id).sort(()=>.5-Math.random()).slice(0,4);f(a.map(e=>c(c({},e),{},{distance:"Distance N/A"})))});else{console.warn("Geolocation is not supported by this browser."),m(c(c({},t),{},{distance:"Distance N/A"}));const e=Me.filter(e=>e.id!==t.id).sort(()=>.5-Math.random()).slice(0,4);f(e.map(e=>c(c({},e),{},{distance:"Distance N/A"})))}},[t,x]);const v=(0,r.useMemo)(()=>n.some(e=>(e._id||e.id)===(t._id||t.id)),[n,t]),y=(0,r.useMemo)(()=>i.some(e=>(e._id||e.id)===(t._id||t.id)),[i,t]),b=(0,r.useMemo)(()=>{if(!t)return[];const e=[j(t.image)];return t.otherImages&&t.otherImages.length>0?e.concat(t.otherImages.map(e=>j(e))):e},[t]);return t?(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("a",{href:"#services",onClick:e=>{e.preventDefault(),o("services")},className:"back-link",children:"\u2190 Back to Services"}),(0,d.jsxs)("div",{className:"product-detail-container",children:[(0,d.jsxs)("div",{className:"product-images",children:[(0,d.jsx)("div",{className:"main-image",children:(0,d.jsx)("img",{src:u,alt:t.name,onError:e=>console.log("Image failed to load:",u)})}),(0,d.jsx)("div",{className:"thumbnail-track",children:b.map((e,a)=>(0,d.jsx)("img",{src:e,alt:"".concat(t.name," thumbnail ").concat(a+1),className:"thumbnail ".concat(u===e?"active":""),onClick:()=>p(e),onError:e=>e.target.src="https://via.placeholder.com/80x80?text=No+Img"},a))})]}),(0,d.jsxs)("div",{className:"product-details",children:[(0,d.jsx)("h1",{children:t.name}),(0,d.jsxs)("p",{className:"product-vendor",children:["by ",t.vendor]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price]}),(0,d.jsxs)("div",{className:"product-description",children:[(0,d.jsx)("h3",{children:"Description"}),(0,d.jsx)("p",{children:t.description||"High-quality service provided by a trusted professional to meet your needs."})]}),t.warranty&&(0,d.jsxs)("div",{className:"product-warranty",style:{marginTop:"15px",padding:"12px",backgroundColor:"#e8f5e9",borderLeft:"4px solid #4CAF50",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#2e7d32"},children:[(0,d.jsx)("i",{className:"fas fa-shield-alt",style:{marginRight:"8px"}}),"Warranty:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:t.warranty})]}),t.expiryDate&&(0,d.jsxs)("div",{className:"product-expiry",style:{marginTop:"15px",padding:"12px",backgroundColor:"#fff3e0",borderLeft:"4px solid #ff9800",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#e65100"},children:[(0,d.jsx)("i",{className:"fas fa-calendar-alt",style:{marginRight:"8px"}}),"Expiry Date:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:(e=>{if(!e)return null;return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})(t.expiryDate)})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,d.jsx)("span",{children:h.distance||"Calculating..."})]}),(0,d.jsxs)("div",{className:"timing-info",children:[(0,d.jsx)("h3",{children:"Available Timings"}),(0,d.jsx)("p",{children:t.timing||"Timings not available"})]}),(0,d.jsxs)("div",{className:"product-actions",children:[v?(0,d.jsx)("button",{onClick:()=>o("cart"),className:"btn go-to-cart",children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn",onClick:()=>a(t),children:"Book Now"}),(0,d.jsx)("button",{className:"wishlist-heart-btn ".concat(y?"active":""),title:"Add to Wishlist",onClick:()=>s(t),children:(0,d.jsx)("i",{className:y?"fas fa-heart":"far fa-heart"})})]})]})]}),(0,d.jsxs)("div",{className:"related-products-section",children:[(0,d.jsx)("h2",{children:"You might also like"}),(0,d.jsx)("div",{className:"related-product-grid",children:g.map(e=>(0,d.jsxs)("div",{className:"related-product-card",onClick:()=>l(e),style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:j(e.image),alt:e.name,onError:e=>e.target.src="https://via.placeholder.com/200x150?text=No+Img"}),(0,d.jsxs)("div",{className:"related-product-info",children:[(0,d.jsx)("h4",{children:e.name}),(0,d.jsx)("p",{style:{fontSize:"14px",color:"var(--gray)"},children:e.vendor}),(0,d.jsxs)("div",{className:"product-price",style:{fontSize:"18px",marginTop:"10px"},children:["\u20b9",e.price]})]})]},e.id))})]})]}):(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("h1",{children:"Service not found"}),(0,d.jsx)("a",{href:"#services",onClick:e=>{e.preventDefault(),o("services")},className:"back-link",children:"\u2190 Back to Services"})]})},Ie=[{id:101,name:"Car Wax",price:799,vendor:"Auto Shine",image:"Car Wax.jpg",description:"High-gloss carnauba wax for a brilliant, long-lasting shine and protection.",brand:"ShineX",compatibility:"All paint types",otherImages:["Car Wax1.jpg","Car Wax2.jpg","Car Wax3.jpg"],lat:17.4486,lon:78.3908,category:"Automotive"},{id:102,name:"Tire Cleaner",price:499,vendor:"Wheel Works",image:"Tire Cleaner.jpg",description:"Powerful foam cleaner that removes brake dust and road grime, leaving tires with a deep black finish.",brand:"GripClean",compatibility:"All tire types",otherImages:["Tire Cleaner1.jpg","Tire Cleaner2.jpg","Tire Cleaner3.jpg"],lat:17.4512,lon:78.3855,category:"Automotive"},{id:103,name:"Car Air Freshener",price:299,vendor:"Fresh Drive",image:"Car Air Freshener.jpg",description:"Long-lasting new car scent to keep your vehicle's interior smelling fresh.",brand:"AuraScent",compatibility:"Universal",otherImages:["Car Air Freshener1.jpg","Car Air Freshener2.jpg","Car Air Freshener3.jpg"],lat:17.4421,lon:78.3882,category:"Automotive"},{id:104,name:"Engine Oil",price:999,vendor:"Motor Mate",image:"Engine Oil.jpg",description:"Synthetic 5W-30 engine oil for improved performance and engine protection.",brand:"MotorLube",compatibility:"Most gasoline engines",otherImages:["Engine Oil1.jpg","Engine Oil2.jpg","Engine Oil3.jpg"],lat:17.455,lon:78.392,category:"Automotive"},{id:105,name:"Car Floor Mats",price:1499,vendor:"Auto Comfort",image:"Car Floor Mats.jpg",description:"All-weather heavy-duty rubber floor mats to protect your car's interior.",brand:"FitRight",compatibility:"Universal trim-to-fit",otherImages:["Car Floor Mats1.jpg","Car Floor Mats2.jpg","Car Floor Mats3.jpg"],lat:17.4399,lon:78.4421,category:"Automotive"},{id:106,name:"Car Battery",price:3999,vendor:"Power Plus",image:"Car Battery.jpg",description:"Reliable 12V car battery with a 3-year warranty for consistent starting power.",brand:"DuraStart",compatibility:"Check vehicle model",otherImages:["Car Battery1.jpg","Car Battery2.jpg","Car Battery3.jpg"],lat:17.4455,lon:78.38,category:"Automotive"},{id:107,name:"Brake Pads",price:1999,vendor:"Stop Safe",image:"Brake Pads.jpg",description:"Set of ceramic front brake pads for quiet and reliable stopping power.",brand:"StopSure",compatibility:"Fits most sedans",otherImages:["Brake Pads1.jpg","Brake Pads2.jpg","Brake Pads3.jpg"],lat:17.448,lon:78.389,category:"Automotive"},{id:108,name:"Car Wash Shampoo",price:399,vendor:"Clean Ride",image:"Car Wash Shampoo.jpg",description:"pH-neutral car wash shampoo that safely lifts dirt without stripping wax.",brand:"SudsUp",compatibility:"All paint types",otherImages:["Car Wash Shampoo1.jpg","Car Wash Shampoo2.jpg","Car Wash Shampoo3.jpg"],lat:17.452,lon:78.387,category:"Automotive"},{id:109,name:"Oil Filter",price:599,vendor:"Engine Care",image:"Oil Filter.jpg",description:"High-efficiency oil filter designed to protect your engine from contaminants.",brand:"PureFlow",compatibility:"Check vehicle model",otherImages:["Oil Filter1.jpg","Oil Filter2.jpg","Oil Filter3.jpg"],lat:17.44,lon:78.385,category:"Automotive"},{id:110,name:"Car Seat Covers",price:2499,vendor:"Interior Style",image:"Car Seat Covers.jpg",description:"Premium leatherette car seat covers for a stylish and protective upgrade.",brand:"CoverLuxe",compatibility:"Universal fit",otherImages:["Car Seat Covers1.jpg","Car Seat Covers2.jpg","Car Seat Covers3.jpg"],lat:17.449,lon:78.395,category:"Automotive"},{id:111,name:"Air Filter",price:499,vendor:"Pure Air",image:"Air Filter.jpg",description:"Engine air filter that improves airflow and prevents harmful particles from entering the engine.",brand:"BreatheClean",compatibility:"Check vehicle model",otherImages:["Air Filter1.jpg","Air Filter2.jpg","Air Filter3.jpg"],lat:17.455,lon:78.392,category:"Automotive"},{id:112,name:"Car Polisher",price:1299,vendor:"Shine Pro",image:"Car Polisher.jpg",description:"Orbital car polisher for applying wax and sealant for a swirl-free finish.",brand:"BuffMaster",compatibility:"N/A",otherImages:["Car Polisher1.jpg","Car Polisher2.jpg","Car Polisher3.jpg"],lat:17.443,lon:78.386,category:"Automotive"},{id:113,name:"Windshield Cleaner",price:399,vendor:"Clear View",image:"Windshield Cleaner.jpg",description:"Streak-free glass cleaner for crystal clear visibility.",brand:"GlassGleam",compatibility:"All glass surfaces",otherImages:["Windshield Cleaner1.jpg","Windshield Cleaner2.jpg","Windshield Cleaner3.jpg"],lat:17.45,lon:78.384,category:"Automotive"},{id:114,name:"Car Vacuum Cleaner",price:1999,vendor:"Clean Cabin",image:"Car Vacuum Cleaner.jpg",description:"Portable 12V car vacuum cleaner with multiple attachments for a thorough clean.",brand:"VacuPro",compatibility:"12V car outlet",otherImages:["Car Vacuum Cleaner1.jpg","Car Vacuum Cleaner2.jpg","Car Vacuum Cleaner3.jpg"],lat:17.447,lon:78.391,category:"Automotive"},{id:115,name:"Car Cover",price:999,vendor:"Protect Plus",image:"Car Cover.jpg",description:"Water-resistant and UV-protective car cover for all-season protection.",brand:"ShieldAll",compatibility:"Fits sedans up to 190 inches",otherImages:["Car Cover1.jpg","Car Cover2.jpg","Car Cover3.jpg"],lat:17.44,lon:78.385,category:"Automotive"}],Ee=e=>{let{product:t,onAddToCart:a,onToggleWishlist:s,cartItems:n,wishlistItems:i,navigateTo:o,onViewProduct:l}=e;const u=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.includes("-")&&/^\d+-\w+\./.test(e)?"http://localhost:5000/uploads/".concat(e):"/IMAGES/".concat(e):"https://via.placeholder.com/200x150?text=No+Image",[p,h]=(0,r.useState)(""),[m,g]=(0,r.useState)(t),[f,x]=(0,r.useState)([]),j=(0,r.useCallback)((e,t,a,r)=>{const s=e=>e*(Math.PI/180),n=s(a-e),i=s(r-t),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(s(e))*Math.cos(s(a))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},[]);(0,r.useEffect)(()=>{t&&(h(u(t.image)),console.log("\ud83d\udd0d AutomotiveProductDetail - Rendering product:",t.name),console.log("\ud83d\udee1\ufe0f Warranty:",t.warranty),console.log("\ud83d\udcc5 Expiry:",t.expiryDate)),window.scrollTo(0,0)},[t]),(0,r.useEffect)(()=>{if(navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const a=e.coords.latitude,r=e.coords.longitude;if(t&&t.lat&&t.lon){const e=j(a,r,t.lat,t.lon);g(c(c({},t),{},{distance:"".concat(e.toFixed(1)," km away")}))}else g(c(c({},t),{},{distance:"Distance N/A"}));const s=Ie.filter(e=>e.id!==t.id).sort(()=>.5-Math.random()).slice(0,4).map(e=>{if(e.lat&&e.lon){const t=j(a,r,e.lat,e.lon);return c(c({},e),{},{distance:"".concat(t.toFixed(1)," km away")})}return c(c({},e),{},{distance:"Distance N/A"})});x(s)},e=>{console.warn("Geolocation error: ".concat(e.message,".")),g(c(c({},t),{},{distance:"Distance N/A"}));const a=Ie.filter(e=>e.id!==t.id).sort(()=>.5-Math.random()).slice(0,4);x(a.map(e=>c(c({},e),{},{distance:"Distance N/A"})))});else{console.warn("Geolocation is not supported by this browser."),g(c(c({},t),{},{distance:"Distance N/A"}));const e=Ie.filter(e=>e.id!==t.id).sort(()=>.5-Math.random()).slice(0,4);x(e.map(e=>c(c({},e),{},{distance:"Distance N/A"})))}},[t,j]);const v=(0,r.useMemo)(()=>n.some(e=>e.id===(null===t||void 0===t?void 0:t.id)),[n,t]),y=(0,r.useMemo)(()=>i.some(e=>(e._id||e.id)===(t._id||t.id)),[i,t]),b=(0,r.useMemo)(()=>{if(!t)return[];const e=[u(t.image)];return t.otherImages&&t.otherImages.length>0?e.concat(t.otherImages.map(e=>u(e))):e},[t]);return t?(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("a",{href:"#automotive",onClick:e=>{e.preventDefault(),o("automotive")},className:"back-link",children:"\u2190 Back to Automotive"}),(0,d.jsxs)("div",{className:"product-detail-container",children:[(0,d.jsxs)("div",{className:"product-images",children:[(0,d.jsx)("div",{className:"main-image",children:(0,d.jsx)("img",{src:p,alt:t.name,onError:e=>console.log("Image failed to load:",p)})}),(0,d.jsx)("div",{className:"thumbnail-track",children:b.map((e,a)=>(0,d.jsx)("img",{src:e,alt:"".concat(t.name," thumbnail ").concat(a+1),className:"thumbnail ".concat(p===e?"active":""),onClick:()=>h(e),onError:e=>e.target.src="https://via.placeholder.com/80x80?text=No+Img"},a))})]}),(0,d.jsxs)("div",{className:"product-details",children:[(0,d.jsx)("h1",{children:m.name}),(0,d.jsxs)("p",{className:"product-vendor",children:["by ",m.vendor]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",m.price]}),(0,d.jsxs)("div",{className:"product-description",children:[(0,d.jsx)("h3",{children:"Description"}),(0,d.jsx)("p",{children:m.description})]}),m.warranty&&(0,d.jsxs)("div",{className:"product-warranty",style:{marginTop:"15px",padding:"12px",backgroundColor:"#e8f5e9",borderLeft:"4px solid #4CAF50",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#2e7d32"},children:[(0,d.jsx)("i",{className:"fas fa-shield-alt",style:{marginRight:"8px"}}),"Warranty:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:m.warranty})]}),m.expiryDate&&(0,d.jsxs)("div",{className:"product-expiry",style:{marginTop:"15px",padding:"12px",backgroundColor:"#fff3e0",borderLeft:"4px solid #ff9800",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#e65100"},children:[(0,d.jsx)("i",{className:"fas fa-calendar-alt",style:{marginRight:"8px"}}),"Expiry Date:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:(e=>{if(!e)return null;return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})(m.expiryDate)})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,d.jsx)("span",{children:m.distance||"Calculating..."})]}),(0,d.jsxs)("div",{className:"product-specs",children:[(0,d.jsx)("h3",{children:"Details"}),(0,d.jsxs)("div",{className:"spec-grid",children:[(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Brand"}),(0,d.jsx)("span",{children:m.brand})]}),(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Compatibility"}),(0,d.jsx)("span",{children:m.compatibility})]})]})]}),(0,d.jsxs)("div",{className:"product-actions",children:[v?(0,d.jsx)("button",{onClick:()=>o("cart"),className:"btn go-to-cart",children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn",onClick:()=>a(t),children:"Add to Cart"}),(0,d.jsx)("button",{className:"wishlist-heart-btn ".concat(y?"active":""),title:"Add to Wishlist",onClick:()=>s(t),children:(0,d.jsx)("i",{className:y?"fas fa-heart":"far fa-heart"})})]})]})]}),(0,d.jsxs)("div",{className:"related-products-section",children:[(0,d.jsx)("h2",{children:"Related Products"}),(0,d.jsx)("div",{className:"related-product-grid",children:f.map(e=>(0,d.jsxs)("div",{className:"related-product-card",onClick:()=>l(e),style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:u(e.image),alt:e.name,onError:e=>e.target.src="https://via.placeholder.com/200x150?text=No+Img"}),(0,d.jsxs)("div",{className:"related-product-info",children:[(0,d.jsx)("h4",{children:e.name}),(0,d.jsx)("p",{style:{fontSize:"14px",color:"var(--gray)"},children:e.vendor}),(0,d.jsxs)("div",{className:"product-price",style:{fontSize:"18px",marginTop:"10px"},children:["\u20b9",e.price]})]})]},e.id))})]})]}):(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("h1",{children:"Product not found"}),(0,d.jsx)("a",{href:"#automotive",onClick:e=>{e.preventDefault(),o("automotive")},className:"back-link",children:"\u2190 Back to Automotive"})]})},Fe=e=>{let{product:t,onAddToCart:a,onToggleWishlist:s,cartItems:n,wishlistItems:i,navigateTo:o,onViewProduct:l}=e;const c=e=>{if(!e)return console.log("No image provided for product"),"https://via.placeholder.com/200x150?text=No+Image";if(e.startsWith("http://")||e.startsWith("https://"))return console.log("Using full URL image:",e),e;if(e.includes("-")&&/^\d+-\w+\./.test(e)){const t="http://localhost:5000/uploads/".concat(e);return console.log("Using uploaded image path:",t),t}const t="/IMAGES/".concat(e);return console.log("Using static image path:",t),t},[u,p]=(0,r.useState)("");(0,r.useEffect)(()=>{t&&p(c(t.image)),window.scrollTo(0,0)},[t]);const h=(0,r.useMemo)(()=>n.some(e=>(e._id||e.id)===((null===t||void 0===t?void 0:t._id)||(null===t||void 0===t?void 0:t.id))),[n,t]),m=(0,r.useMemo)(()=>i.some(e=>(e._id||e.id)===((null===t||void 0===t?void 0:t._id)||(null===t||void 0===t?void 0:t.id))),[i,t]),g=(0,r.useMemo)(()=>{if(!t)return[];const e=[c(t.image)];return t.otherImages&&t.otherImages.length>0?e.concat(t.otherImages.map(e=>c(e))):e},[t]),[f,x]=(0,r.useState)([]);return(0,r.useEffect)(()=>{t&&(async()=>{try{const e=await fetch("http://localhost:5000/api/products/category/Jewellery");if(e.ok){const a=(await e.json()).filter(e=>(e._id||e.id)!==(t._id||t.id));x(a.sort(()=>.5-Math.random()).slice(0,4))}}catch(e){console.error("Error fetching related products:",e)}})()},[t]),t?(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("a",{href:"#jewellery",onClick:e=>{e.preventDefault(),o("jewellery")},className:"back-link",children:"\u2190 Back to Jewellery"}),(0,d.jsxs)("div",{className:"product-detail-container",children:[(0,d.jsxs)("div",{className:"product-images",children:[(0,d.jsx)("div",{className:"main-image",children:(0,d.jsx)("img",{src:u,alt:t.name,onError:e=>console.log("Image failed to load:",u)})}),(0,d.jsx)("div",{className:"thumbnail-track",children:g.map((e,a)=>(0,d.jsx)("img",{src:e,alt:"".concat(t.name," thumbnail ").concat(a+1),className:"thumbnail ".concat(u===e?"active":""),onClick:()=>p(e),onError:e=>e.target.src="https://via.placeholder.com/80x80?text=No+Img"},a))})]}),(0,d.jsxs)("div",{className:"product-details",children:[(0,d.jsx)("h1",{children:t.name}),(0,d.jsxs)("p",{className:"product-vendor",children:["by ",t.vendor]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-description",children:[(0,d.jsx)("h3",{children:"Description"}),(0,d.jsx)("p",{children:"An exquisite piece of jewellery, crafted with the finest materials. Perfect for any occasion."})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,d.jsx)("span",{children:t.distance||"Distance N/A"})]}),(0,d.jsxs)("div",{className:"product-specs",children:[(0,d.jsx)("h3",{children:"Specifications"}),(0,d.jsxs)("div",{className:"spec-grid",children:[(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Material"}),(0,d.jsx)("span",{children:t.material||"N/A"})]}),(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Shape"}),(0,d.jsx)("span",{children:t.shape||"N/A"})]}),(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Stone"}),(0,d.jsx)("span",{children:t.stone||"N/A"})]}),(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Plating"}),(0,d.jsx)("span",{children:t.plating||"N/A"})]}),(0,d.jsxs)("div",{className:"spec-item",style:{gridColumn:"1 / -1"},children:[(0,d.jsx)("strong",{children:"Material & Care"}),(0,d.jsx)("span",{children:t.care||"N/A"})]})]})]}),(0,d.jsxs)("div",{className:"product-actions",children:[h?(0,d.jsx)("button",{onClick:()=>o("cart"),className:"btn go-to-cart",children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn",onClick:()=>a(t),children:"Add to Cart"}),(0,d.jsx)("button",{className:"wishlist-heart-btn ".concat(m?"active":""),title:"Add to Wishlist",onClick:()=>s(t),children:(0,d.jsx)("i",{className:m?"fas fa-heart":"far fa-heart"})})]})]})]}),(0,d.jsxs)("div",{className:"related-products-section",children:[(0,d.jsx)("h2",{children:"Related Products"}),(0,d.jsx)("div",{className:"related-product-grid",children:f.map(e=>(0,d.jsxs)("div",{className:"related-product-card",onClick:()=>l(e),style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:c(e.image),alt:e.name,onError:e=>e.target.src="https://via.placeholder.com/200x150?text=No+Img"}),(0,d.jsxs)("div",{className:"related-product-info",children:[(0,d.jsx)("h4",{children:e.name}),(0,d.jsx)("p",{style:{fontSize:"14px",color:"var(--gray)"},children:e.vendor}),(0,d.jsxs)("div",{className:"product-price",style:{fontSize:"18px",marginTop:"10px"},children:["\u20b9",e.price.toLocaleString()]})]})]},e.id))})]})]}):(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("h1",{children:"Product not found"}),(0,d.jsx)("a",{href:"#jewellery",onClick:e=>{e.preventDefault(),o("jewellery")},className:"back-link",children:"\u2190 Back to Jewellery"})]})},De=[{id:501,name:"Saree",price:2499,vendor:"Elegant Threads",image:"Saree.jpg",category:"Clothes",material:"Silk",color:"Red",size:["S","M","L"],otherImages:["Saree1.jpg","Saree2.jpg","Saree3.jpg"],lat:17.4486,lon:78.3908},{id:502,name:"Kurti",price:1999,vendor:"Graceful Attire",image:"Kurti.jpg",category:"Clothes",material:"Cotton",color:"Blue",size:["S","M","L","XL"],otherImages:["Kurti1.jpg","Kurti2.jpg","Kurti3.jpg"],lat:17.4512,lon:78.3855},{id:503,name:"Lehenga",price:2699,vendor:"Fashion Boutique",image:"Lehenga.jpg",category:"Clothes",material:"Georgette",color:"Pink",size:["Free Size"],otherImages:["Lehenga1.jpg","Lehenga2.jpg","Lehenga3.jpg"],lat:17.4421,lon:78.3882},{id:504,name:"Anarkali Suit",price:2499,vendor:"Chic Styles",image:"Anarkali Suit.jpg",category:"Clothes",material:"Chiffon",color:"Green",size:["M","L","XL"],otherImages:["Anarkali Suit1.jpg","Anarkali Suit2.jpg","Anarkali Suit3.jpg"],lat:17.455,lon:78.392},{id:505,name:"Western Dress",price:3499,vendor:"Trendy Threads",image:"Western Dress.jpg",category:"Clothes",material:"Polyester",color:"Black",size:["S","M","L"],otherImages:["Western Dress1.jpg","Western Dress2.jpg","Western Dress3.jpg"],lat:17.4399,lon:78.4421},{id:506,name:"Casual Top",price:1799,vendor:"Cool Trends",image:"Casual Top.jpg",category:"Clothes",material:"Cotton",color:"White",size:["S","M","L","XL"],otherImages:["Casual Top1.jpg","Casual Top2.jpg","Casual Top3.jpg"],lat:17.4455,lon:78.38},{id:507,name:"Leggings",price:799,vendor:"Active Wear",image:"Leggings.jpg",category:"Clothes",material:"Lycra",color:"Black",size:["S","M","L","XL"],otherImages:["Leggings1.jpg","Leggings2.jpg","Leggings3.jpg"],lat:17.448,lon:78.389},{id:508,name:"Evening Gown",price:2999,vendor:"Elegant Threads",image:"Evening Gown.jpg",category:"Clothes",material:"Satin",color:"Navy Blue",size:["S","M","L"],otherImages:["Evening Gown1.jpg","Evening Gown2.jpg","Evening Gown3.jpg"],lat:17.452,lon:78.387},{id:509,name:"Formal Shirt",price:2999,vendor:"Dapper Threads",image:"Formal Shirt.jpg",category:"Clothes",material:"Cotton",color:"White",size:["M","L","XL"],otherImages:["Formal Shirt1.jpg","Formal Shirt2.jpg","Formal Shirt3.jpg"],lat:17.44,lon:78.385},{id:510,name:"Blazer",price:3499,vendor:"Sharp Attire",image:"Blazer.jpg",category:"Clothes",material:"Wool Blend",color:"Gray",size:["M","L","XL"],otherImages:["Blazer1.jpg","Blazer2.jpg","Blazer3.jpg"],lat:17.449,lon:78.395},{id:511,name:"Casual Shirt",price:1999,vendor:"Comfort Threads",image:"Casual Shirt.jpg",category:"Clothes",material:"Linen",color:"Beige",size:["M","L","XL"],otherImages:["Casual Shirt1.jpg","Casual Shirt2.jpg","Casual Shirt3.jpg"],lat:17.455,lon:78.392},{id:512,name:"Suit",price:3999,vendor:"Classy Attire",image:"Suit.jpg",category:"Clothes",material:"Terry Rayon",color:"Black",size:["M","L","XL"],otherImages:["Suit1.jpg","Suit2.jpg","Suit3.jpg"],lat:17.443,lon:78.386},{id:513,name:"Jacket",price:4999,vendor:"Trendy Outerwear",image:"Jacket.jpg",category:"Clothes",material:"Leather",color:"Brown",size:["M","L","XL"],otherImages:["Jacket1.jpg","Jacket2.jpg","Jacket3.jpg"],lat:17.45,lon:78.384},{id:514,name:"Sweater",price:3999,vendor:"Cozy Threads",image:"Sweater.jpg",category:"Clothes",material:"Wool",color:"Maroon",size:["M","L","XL"],otherImages:["Sweater1.jpg","Sweater2.jpg","Sweater3.jpg"],lat:17.447,lon:78.391},{id:515,name:"Jeans",price:2299,vendor:"Denim Hub",image:"Men's Jeans.jpg",category:"Clothes",material:"Denim",color:"Blue",size:["30","32","34","36"],otherImages:["Men's Jeans1.jpg","Men's Jeans2.jpg","Men's Jeans3.jpg"],lat:17.44,lon:78.385},{id:516,name:"T-Shirt",price:1499,vendor:"Casual Trends",image:"Men's T-Shirt.jpg",category:"Clothes",material:"Cotton",color:"Black",size:["S","M","L","XL"],otherImages:["Men's T-Shirt1.jpg","Men's T-Shirt2.jpg","Men's T-Shirt3.jpg"],lat:17.4486,lon:78.3908},{id:517,name:"Kids T-Shirt",price:1299,vendor:"Tiny Trends",image:"Kids T-Shirt.jpg",category:"Clothes",material:"Cotton",color:"Yellow",size:["2-4Y","4-6Y","6-8Y"],otherImages:["Kids T-Shirt1.jpg","Kids T-Shirt2.jpg","Kids T-Shirt3.jpg"],lat:17.4512,lon:78.3855},{id:518,name:"Kids Shorts",price:799,vendor:"Little Threads",image:"Kids Shorts.jpg",category:"Clothes",material:"Cotton",color:"Blue",size:["2-4Y","4-6Y","6-8Y"],otherImages:["Kids Shorts1.jpg","Kids Shorts2.jpg","Kids Shorts3.jpg"],lat:17.4421,lon:78.3882},{id:519,name:"Kids Jacket",price:1499,vendor:"Tiny Trends",image:"Kids Jacket.jpg",category:"Clothes",material:"Denim",color:"Blue",size:["2-4Y","4-6Y","6-8Y"],otherImages:["Kids Jacket1.jpg","Kids Jacket2.jpg","Kids Jacket3.jpg"],lat:17.455,lon:78.392},{id:520,name:"Kids Pajamas",price:599,vendor:"Cozy Kids",image:"Kids Pajamas.jpg",category:"Clothes",material:"Cotton",color:"Printed",size:["2-4Y","4-6Y","6-8Y"],otherImages:["Kids Pajamas1.jpg","Kids Pajamas2.jpg","Kids Pajamas3.jpg"],lat:17.4399,lon:78.4421},{id:521,name:"Kids Sports Wear",price:1399,vendor:"Active Kids",image:"Kids Sports Wear.jpg",category:"Clothes",material:"Polyester",color:"Red",size:["4-6Y","6-8Y","8-10Y"],otherImages:["Kids Sports Wear1.jpg","Kids Sports Wear2.jpg","Kids Sports Wear3.jpg"],lat:17.4455,lon:78.38},{id:522,name:"Kids Jeans",price:999,vendor:"Tiny Trends",image:"Kids Jeans.jpg",category:"Clothes",material:"Denim",color:"Blue",size:["4-6Y","6-8Y","8-10Y"],otherImages:["Kids Jeans1.jpg","Kids Jeans2.jpg","Kids Jeans3.jpg"],lat:17.448,lon:78.389},{id:523,name:"Kids Cap",price:499,vendor:"Little Threads",image:"Kids Cap.jpg",category:"Clothes",material:"Cotton",color:"Black",size:["Free Size"],otherImages:["Kids Cap1.jpg","Kids Cap2.jpg","Kids Cap3.jpg"],lat:17.452,lon:78.387},{id:524,name:"Kids Dress",price:1599,vendor:"Tiny Trends",image:"Kids Dress.jpg",category:"Clothes",material:"Cotton",color:"Pink",size:["2-4Y","4-6Y","6-8Y"],otherImages:["Kids Dress1.jpg","Kids Dress2.jpg","Kids Dress3.jpg"],lat:17.44,lon:78.385}],Be=e=>{var t;let{product:a,onAddToCart:s,onToggleWishlist:n,cartItems:i,wishlistItems:o,navigateTo:l,onViewProduct:c}=e;const u=e=>{if(!e)return console.log("No image provided for product"),"https://via.placeholder.com/200x150?text=No+Image";if(e.startsWith("http://")||e.startsWith("https://"))return console.log("Using full URL image:",e),e;if(e.includes("-")&&/^\d+-\w+\./.test(e)){const t="http://localhost:5000/uploads/".concat(e);return console.log("Using uploaded image path:",t),t}const t="/IMAGES/".concat(e);return console.log("Using static image path:",t),t},[p,h]=(0,r.useState)(""),[m,g]=(0,r.useState)("");(0,r.useEffect)(()=>{var e;a&&(h(u(a.image)),g((null===(e=a.size)||void 0===e?void 0:e[0])||""));window.scrollTo(0,0)},[a]);const f=(0,r.useMemo)(()=>i&&i.some(e=>(e._id||e.id)===(a._id||a.id)),[i,a]),x=(0,r.useMemo)(()=>o.some(e=>(e._id||e.id)===(a._id||a.id)),[o,a]),j=(0,r.useMemo)(()=>{if(!a)return[];const e=[u(a.image)];return a.otherImages&&a.otherImages.length>0?e.concat(a.otherImages.map(e=>u(e))):e},[a]),[v,y]=(0,r.useState)(null),[b,N]=(0,r.useState)(!1),w=v||a,k=(0,r.useMemo)(()=>a?De.filter(e=>e.id!==a.id).sort(()=>.5-Math.random()).slice(0,4):[],[a]);(0,r.useEffect)(()=>{if(a&&a._id){(async()=>{N(!0);try{const e=await fetch("http://localhost:5000/api/products/".concat(a._id));if(e.ok){const t=await e.json();y(t)}}catch(e){console.error("Error fetching product details:",e)}finally{N(!1)}})()}},[a]);return a?(console.log("\ud83d\udd0d ClothesProductDetail - Rendering product:",w.name),console.log("\ud83d\udce6 Full product object:",w),console.log("\ud83d\udee1\ufe0f Warranty:",w.warranty),console.log("\ud83d\udcc5 Expiry:",w.expiryDate),(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("a",{href:"#clothes",onClick:e=>{e.preventDefault(),l("clothes")},className:"back-link",children:"\u2190 Back to Clothes"}),(0,d.jsxs)("div",{className:"product-detail-container",children:[(0,d.jsxs)("div",{className:"product-images",children:[(0,d.jsx)("div",{className:"main-image",children:(0,d.jsx)("img",{src:p,alt:w.name})}),(0,d.jsx)("div",{className:"thumbnail-track",children:j.map((e,t)=>(0,d.jsx)("img",{src:e,alt:"".concat(w.name," thumbnail ").concat(t+1),className:"thumbnail ".concat(p===e?"active":""),onClick:()=>h(e),onError:e=>e.target.src="https://via.placeholder.com/80x80?text=No+Img"},t))})]}),(0,d.jsxs)("div",{className:"product-details",children:[(0,d.jsx)("h1",{children:a.name}),(0,d.jsxs)("p",{className:"product-vendor",children:["by ",a.vendor]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",a.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-description",children:[(0,d.jsx)("h3",{children:"Description"}),(0,d.jsx)("p",{children:a.description||"A stylish piece of clothing made from high-quality ".concat(a.material||"material",". Perfect for any occasion.")})]}),w.warranty&&(0,d.jsxs)("div",{className:"product-warranty",style:{marginTop:"15px",padding:"12px",backgroundColor:"#e8f5e9",borderLeft:"4px solid #4CAF50",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#2e7d32"},children:[(0,d.jsx)("i",{className:"fas fa-shield-alt",style:{marginRight:"8px"}}),"Warranty:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:w.warranty})]}),w.expiryDate&&(0,d.jsxs)("div",{className:"product-expiry",style:{marginTop:"15px",padding:"12px",backgroundColor:"#fff3e0",borderLeft:"4px solid #ff9800",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#e65100"},children:[(0,d.jsx)("i",{className:"fas fa-calendar-alt",style:{marginRight:"8px"}}),"Expiry Date:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:(e=>{if(!e)return null;return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})(w.expiryDate)})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,d.jsx)("span",{children:a.distance||"Distance N/A"})]}),(0,d.jsxs)("div",{className:"product-specs",children:[(0,d.jsx)("h3",{children:"Specifications"}),(0,d.jsxs)("div",{className:"spec-grid",children:[(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Material"}),(0,d.jsx)("span",{children:a.material||"N/A"})]}),(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Color"}),(0,d.jsx)("span",{children:a.color||"N/A"})]})]})]}),(0,d.jsxs)("div",{className:"size-selector",children:[(0,d.jsx)("h3",{children:"Size"}),(0,d.jsx)("div",{className:"size-options",children:null===(t=a.size)||void 0===t?void 0:t.map(e=>(0,d.jsx)("button",{className:"size-btn ".concat(m===e?"active":""),onClick:()=>g(e),children:e},e))})]}),(0,d.jsxs)("div",{className:"product-actions",children:[f?(0,d.jsx)("button",{onClick:()=>l("cart"),className:"btn go-to-cart",children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn",onClick:()=>s(a),children:"Add to Cart"}),(0,d.jsx)("button",{className:"wishlist-heart-btn ".concat(x?"active":""),title:"Add to Wishlist",onClick:()=>n(a),children:(0,d.jsx)("i",{className:x?"fas fa-heart":"far fa-heart"})})]})]})]}),(0,d.jsxs)("div",{className:"related-products-section",children:[(0,d.jsx)("h2",{children:"Related Products"}),(0,d.jsx)("div",{className:"related-product-grid",children:k.map(e=>(0,d.jsxs)("div",{className:"related-product-card",onClick:()=>c(e),style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:u(e.image),alt:e.name,onError:e=>e.target.src="https://via.placeholder.com/200x150?text=No+Img"}),(0,d.jsxs)("div",{className:"related-product-info",children:[(0,d.jsx)("h4",{children:e.name}),(0,d.jsx)("p",{style:{fontSize:"14px",color:"var(--gray)"},children:e.vendor}),(0,d.jsxs)("div",{className:"product-price",style:{fontSize:"18px",marginTop:"10px"},children:["\u20b9",e.price.toLocaleString()]})]})]},e.id))})]})]})):(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("h1",{children:"Product not found"}),(0,d.jsx)("a",{href:"#clothes",onClick:e=>{e.preventDefault(),l("clothes")},className:"back-link",children:"\u2190 Back to Clothes"})]})},Re=e=>{let{product:t,onAddToCart:a,onToggleWishlist:s,cartItems:n,wishlistItems:i,navigateTo:o,onViewProduct:l}=e;const c=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.includes("-")&&/^\d+-\w+\./.test(e)?"http://localhost:5000/uploads/".concat(e):"/IMAGES/".concat(e):"https://via.placeholder.com/200x150?text=No+Image",[u,p]=(0,r.useState)("");(0,r.useEffect)(()=>{t&&(p(c(t.image)),console.log("\ud83d\udd0d BeautyProductDetail - Rendering product:",t.name),console.log("\ud83d\udee1\ufe0f Warranty:",t.warranty),console.log("\ud83d\udcc5 Expiry:",t.expiryDate)),window.scrollTo(0,0)},[t]);const h=(0,r.useMemo)(()=>n.some(e=>(e._id||e.id)===((null===t||void 0===t?void 0:t._id)||(null===t||void 0===t?void 0:t.id))),[n,t]),m=(0,r.useMemo)(()=>i.some(e=>(e._id||e.id)===((null===t||void 0===t?void 0:t._id)||(null===t||void 0===t?void 0:t.id))),[i,t]),g=(0,r.useMemo)(()=>{if(!t)return[];const e=[c(t.image)];return t.otherImages&&t.otherImages.length>0?e.concat(t.otherImages.map(e=>c(e))):e},[t]),[f,x]=(0,r.useState)([]);return(0,r.useEffect)(()=>{t&&(async()=>{try{const e=await fetch("http://localhost:5000/api/products/category/Beauty Products");if(e.ok){const a=(await e.json()).filter(e=>(e._id||e.id)!==(t._id||t.id));x(a.sort(()=>.5-Math.random()).slice(0,4))}}catch(e){console.error("Error fetching related products:",e)}})()},[t]),t?(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("a",{href:"#beauty",onClick:e=>{e.preventDefault(),o("beauty")},className:"back-link",children:"\u2190 Back to Beauty Products"}),(0,d.jsxs)("div",{className:"product-detail-container",children:[(0,d.jsxs)("div",{className:"product-images",children:[(0,d.jsx)("div",{className:"main-image",children:(0,d.jsx)("img",{src:u,alt:t.name})}),(0,d.jsx)("div",{className:"thumbnail-track",children:g.map((e,a)=>(0,d.jsx)("img",{src:e,alt:"".concat(t.name," thumbnail ").concat(a+1),className:"thumbnail ".concat(u===e?"active":""),onClick:()=>p(e),onError:e=>e.target.src="https://via.placeholder.com/80x80?text=No+Img"},a))})]}),(0,d.jsxs)("div",{className:"product-details",children:[(0,d.jsx)("h1",{children:t.name}),(0,d.jsxs)("p",{className:"product-vendor",children:["by ",t.vendor]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-description",children:[(0,d.jsx)("h3",{children:"Description"}),(0,d.jsx)("p",{children:t.description||"A high-quality beauty product to enhance your natural glow. Made with the finest ingredients for the best results."})]}),t.warranty&&(0,d.jsxs)("div",{className:"product-warranty",style:{marginTop:"15px",padding:"12px",backgroundColor:"#e8f5e9",borderLeft:"4px solid #4CAF50",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#2e7d32"},children:[(0,d.jsx)("i",{className:"fas fa-shield-alt",style:{marginRight:"8px"}}),"Warranty:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:t.warranty})]}),t.expiryDate&&(0,d.jsxs)("div",{className:"product-expiry",style:{marginTop:"15px",padding:"12px",backgroundColor:"#fff3e0",borderLeft:"4px solid #ff9800",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#e65100"},children:[(0,d.jsx)("i",{className:"fas fa-calendar-alt",style:{marginRight:"8px"}}),"Expiry Date:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:(e=>{if(!e)return null;return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})(t.expiryDate)})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,d.jsx)("span",{children:t.distance||"Distance N/A"})]}),(0,d.jsxs)("div",{className:"product-specs",children:[(0,d.jsx)("h3",{children:"Specifications"}),(0,d.jsxs)("div",{className:"spec-grid",children:[(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Skin Types"}),(0,d.jsx)("span",{children:t.skinType||"N/A"})]}),(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Sustainable"}),(0,d.jsx)("span",{children:t.sustainable||"N/A"})]}),(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Net Quantity"}),(0,d.jsx)("span",{children:t.netQuantity||"N/A"})]}),(0,d.jsxs)("div",{className:"spec-item",style:{gridColumn:"1 / -1"},children:[(0,d.jsx)("strong",{children:"Features"}),(0,d.jsx)("span",{children:t.features||"N/A"})]})]})]}),(0,d.jsxs)("div",{className:"product-actions",children:[h?(0,d.jsx)("button",{onClick:()=>o("cart"),className:"btn go-to-cart",children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn",onClick:()=>a(t),children:"Add to Cart"}),(0,d.jsx)("button",{className:"wishlist-heart-btn ".concat(m?"active":""),title:"Add to Wishlist",onClick:()=>s(t),children:(0,d.jsx)("i",{className:m?"fas fa-heart":"far fa-heart"})})]})]})]}),(0,d.jsxs)("div",{className:"related-products-section",children:[(0,d.jsx)("h2",{children:"Related Products"}),(0,d.jsx)("div",{className:"related-product-grid",children:f.map(e=>(0,d.jsxs)("div",{className:"related-product-card",onClick:()=>l(e),style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:c(e.image),alt:e.name,onError:e=>e.target.src="https://via.placeholder.com/200x150?text=No+Img"}),(0,d.jsxs)("div",{className:"related-product-info",children:[(0,d.jsx)("h4",{children:e.name}),(0,d.jsx)("p",{style:{fontSize:"14px",color:"var(--gray)"},children:e.vendor}),(0,d.jsxs)("div",{className:"product-price",style:{fontSize:"18px",marginTop:"10px"},children:["\u20b9",e.price.toLocaleString()]})]})]},e._id||e.id))})]})]}):(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("h1",{children:"Product not found"}),(0,d.jsx)("a",{href:"#beauty",onClick:e=>{e.preventDefault(),o("beauty")},className:"back-link",children:"\u2190 Back to Beauty Products"})]})},Le=[{id:701,name:"High Heels",price:2499,vendor:"Elegant Steps",category:"Women's Footwear",image:"High Heels.jpg",lat:17.4486,lon:78.3908,stock:12,description:"Elegant high heels perfect for formal occasions, made with faux leather for comfort and style."},{id:702,name:"Ballet Flats",price:1999,vendor:"Graceful Steps",category:"Women's Footwear",image:"Ballet Flats.jpg",lat:17.4512,lon:78.3855,stock:15,description:"Comfortable ballet flats in nude color, ideal for everyday wear."},{id:703,name:"Wedge Sandals",price:2699,vendor:"Fashion Feet",category:"Women's Footwear",image:"Wedge Sandals.jpg",lat:17.4421,lon:78.3882,stock:10,description:"Stylish wedge sandals made with cork for a trendy look."},{id:704,name:"Dress Sandals",price:2499,vendor:"Chic Soles",category:"Women's Footwear",image:"Dress Sandals.jpg",lat:17.455,lon:78.392,stock:8,description:"Elegant dress sandals in silver synthetic material."},{id:705,name:"Ankle Boots",price:3499,vendor:"Trendy Treads",category:"Women's Footwear",image:"Ankle Boots.jpg",lat:17.4399,lon:78.4421,stock:6,description:"Fashionable ankle boots in faux suede for versatile styling."},{id:706,name:"Canvas Sneakers",price:1799,vendor:"Cool Kicks",category:"Women's Footwear",image:"Canvas Sneakers.jpg",lat:17.4455,lon:78.38,stock:20,description:"Casual canvas sneakers in white, machine washable for easy care."},{id:707,name:"Flip Flops",price:799,vendor:"Beach Walk",category:"Women's Footwear",image:"Flip Flops.jpg",lat:17.448,lon:78.389,stock:25,description:"Comfortable rubber flip flops in blue for beach or casual wear."},{id:708,name:"Stilettos",price:2999,vendor:"Elegant Steps",category:"Women's Footwear",image:"Stilettos.jpg",lat:17.452,lon:78.387,stock:9,description:"Classic red patent leather stilettos for special occasions."},{id:709,name:"Leather Sneakers",price:2999,vendor:"Step Style",category:"Men's Footwear",image:"Leather Sneakers.jpg",lat:17.44,lon:78.385,stock:14,description:"Premium white leather sneakers for men, wipe clean for maintenance."},{id:710,name:"Running Shoes",price:3499,vendor:"Speed Stride",category:"Men's Footwear",image:"Running Shoes.jpg",lat:17.449,lon:78.395,stock:11,description:"High-performance mesh running shoes in black/red for active lifestyles."},{id:711,name:"Casual Loafers",price:1999,vendor:"Comfort Walk",category:"Men's Footwear",image:"Casual Loafers.jpg",lat:17.455,lon:78.392,stock:16,description:"Navy suede loafers, use a suede brush for care."},{id:712,name:"Formal Shoes",price:3999,vendor:"Classy Steps",category:"Men's Footwear",image:"Formal Shoes.jpg",lat:17.443,lon:78.386,stock:7,description:"Brown leather formal shoes, polish regularly for shine."},{id:713,name:"Hiking Boots",price:4999,vendor:"Trail Trek",category:"Men's Footwear",image:"Hiking Boots.jpg",lat:17.45,lon:78.384,stock:5,description:"Durable waterproof leather hiking boots in brown."},{id:714,name:"Chelsea Boots",price:3999,vendor:"Urban Walk",category:"Men's Footwear",image:"Chelsea Boots.jpg",lat:17.447,lon:78.391,stock:8,description:"Black leather Chelsea boots, polish regularly."},{id:715,name:"Slip-On Sneakers",price:2299,vendor:"Easy Stride",category:"Men's Footwear",image:"Slip-On Sneakers.jpg",lat:17.44,lon:78.385,stock:18,description:"Grey canvas slip-on sneakers, machine washable."},{id:716,name:"Sports Sandals",price:1499,vendor:"Active Feet",category:"Men's Footwear",image:"Sports Sandals.jpg",lat:17.4486,lon:78.3908,stock:13,description:"Blue/black synthetic sports sandals for outdoor activities."},{id:717,name:"Kids Sneakers",price:1299,vendor:"Tiny Treads",category:"Kids' Footwear",image:"Kids Sneakers.jpg",lat:17.4512,lon:78.3855,stock:22,description:"Blue canvas sneakers for kids, machine washable."},{id:718,name:"Kids Sandals",price:799,vendor:"Little Steps",category:"Kids' Footwear",image:"Kids Sandals.jpg",lat:17.4421,lon:78.3882,stock:28,description:"Pink rubber sandals for kids, easy to clean."},{id:719,name:"Kids Boots",price:1499,vendor:"Tiny Treads",category:"Kids' Footwear",image:"Kids Boots.jpg",lat:17.455,lon:78.392,stock:10,description:"Brown faux leather boots for kids."},{id:720,name:"Kids Slippers",price:599,vendor:"Cozy Kids",category:"Kids' Footwear",image:"Kids Slippers.jpg",lat:17.4399,lon:78.4421,stock:30,description:"Blue fleece slippers for kids, machine washable."},{id:721,name:"Kids Running Shoes",price:1399,vendor:"Speedy Steps",category:"Kids' Footwear",image:"Kids Running Shoes.jpg",lat:17.4455,lon:78.38,stock:15,description:"Green mesh running shoes for active kids."},{id:722,name:"Kids Canvas Shoes",price:999,vendor:"Tiny Treads",category:"Kids' Footwear",image:"Kids Canvas Shoes.jpg",lat:17.448,lon:78.389,stock:20,description:"Red canvas shoes for kids, machine washable."},{id:723,name:"Kids Flip Flops",price:499,vendor:"Little Steps",category:"Kids' Footwear",image:"Kids Flip Flops.jpg",lat:17.452,lon:78.387,stock:25,description:"Yellow rubber flip flops for kids."},{id:724,name:"Kids Dress Shoes",price:1599,vendor:"Tiny Steps",category:"Kids' Footwear",image:"Kids Dress Shoes.jpg",lat:17.44,lon:78.385,stock:12,description:"Black faux leather dress shoes for kids."}],We=e=>{var t,a;let{product:s,onAddToCart:n,onToggleWishlist:i,cartItems:o,wishlistItems:l,navigateTo:u,onViewProduct:p}=e;const h=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.includes("-")&&/^\d+-\w+\./.test(e)?"http://localhost:5000/uploads/".concat(e):"/IMAGES/".concat(e):"https://via.placeholder.com/200x150?text=No+Image",[m,g]=(0,r.useState)(""),[f,x]=(0,r.useState)((null===s||void 0===s||null===(t=s.size)||void 0===t?void 0:t[0])||""),[j,v]=(0,r.useState)(s),[y,b]=(0,r.useState)([]),N=(0,r.useCallback)((e,t,a,r)=>{const s=e=>e*(Math.PI/180),n=s(a-e),i=s(r-t),o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(s(e))*Math.cos(s(a))*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},[]);(0,r.useEffect)(()=>{var e;s&&(g(h(s.image)),x((null===(e=s.size)||void 0===e?void 0:e[0])||""),console.log("\ud83d\udd0d FootwearProductDetail - Rendering product:",s.name),console.log("\ud83d\udee1\ufe0f Warranty:",s.warranty),console.log("\ud83d\udcc5 Expiry:",s.expiryDate));window.scrollTo(0,0)},[s]),(0,r.useEffect)(()=>{if(navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const t=e.coords.latitude,a=e.coords.longitude;if(s&&s.lat&&s.lon){const e=N(t,a,s.lat,s.lon);v(c(c({},s),{},{distance:"".concat(e.toFixed(1)," km away")}))}else v(c(c({},s),{},{distance:"Distance N/A"}));const r=Le.filter(e=>e.id!==s.id).sort(()=>.5-Math.random()).slice(0,4).map(e=>{if(e.lat&&e.lon){const r=N(t,a,e.lat,e.lon);return c(c({},e),{},{distance:"".concat(r.toFixed(1)," km away")})}return c(c({},e),{},{distance:"Distance N/A"})});b(r)},e=>{v(c(c({},s),{},{distance:"Distance N/A"}));const t=Le.filter(e=>e.id!==s.id).sort(()=>.5-Math.random()).slice(0,4);b(t.map(e=>c(c({},e),{},{distance:"Distance N/A"})))});else{v(c(c({},s),{},{distance:"Distance N/A"}));const e=Le.filter(e=>e.id!==s.id).sort(()=>.5-Math.random()).slice(0,4);b(e.map(e=>c(c({},e),{},{distance:"Distance N/A"})))}},[s,N]);const w=(0,r.useMemo)(()=>o&&o.some(e=>(e._id||e.id)===(s._id||s.id)),[o,s]),k=(0,r.useMemo)(()=>l.some(e=>(e._id||e.id)===(s._id||s.id)),[l,s]),S=(0,r.useMemo)(()=>{if(!s)return[];const e=[h(s.image)];return s.otherImages&&s.otherImages.length>0?e.concat(s.otherImages.map(e=>h(e))):e},[s]);return s?(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("a",{href:"#footwear",onClick:e=>{e.preventDefault(),u("footwear")},className:"back-link",children:"\u2190 Back to Footwear"}),(0,d.jsxs)("div",{className:"product-detail-container",children:[(0,d.jsxs)("div",{className:"product-images",children:[(0,d.jsx)("div",{className:"main-image",children:(0,d.jsx)("img",{src:m,alt:s.name})}),(0,d.jsx)("div",{className:"thumbnail-track",children:S.map((e,t)=>(0,d.jsx)("img",{src:e,alt:"".concat(s.name," thumbnail ").concat(t+1),className:"thumbnail ".concat(m===e?"active":""),onClick:()=>g(e),onError:e=>e.target.src="https://via.placeholder.com/80x80?text=No+Img"},t))})]}),(0,d.jsxs)("div",{className:"product-details",children:[(0,d.jsx)("h1",{children:s.name}),(0,d.jsxs)("p",{className:"product-vendor",children:["by ",s.vendor]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",s.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-description",children:[(0,d.jsx)("h3",{children:"Description"}),(0,d.jsx)("p",{children:s.description||"A high-quality pair of shoes, perfect for any occasion. Made with the finest materials for comfort and style."})]}),s.warranty&&(0,d.jsxs)("div",{className:"product-warranty",style:{marginTop:"15px",padding:"12px",backgroundColor:"#e8f5e9",borderLeft:"4px solid #4CAF50",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#2e7d32"},children:[(0,d.jsx)("i",{className:"fas fa-shield-alt",style:{marginRight:"8px"}}),"Warranty:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:s.warranty})]}),s.expiryDate&&(0,d.jsxs)("div",{className:"product-expiry",style:{marginTop:"15px",padding:"12px",backgroundColor:"#fff3e0",borderLeft:"4px solid #ff9800",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#e65100"},children:[(0,d.jsx)("i",{className:"fas fa-calendar-alt",style:{marginRight:"8px"}}),"Expiry Date:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:(e=>{if(!e)return null;return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})(s.expiryDate)})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,d.jsx)("span",{children:j.distance||"Calculating..."})]}),(0,d.jsxs)("div",{className:"product-specs",children:[(0,d.jsx)("h3",{children:"Specifications"}),(0,d.jsxs)("div",{className:"spec-grid",children:[(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Size"}),(0,d.jsx)("div",{className:"size-options",children:null===(a=s.size)||void 0===a?void 0:a.map(e=>(0,d.jsx)("button",{className:"size-btn ".concat(f===e?"active":""),onClick:()=>x(e),children:e},e))})]}),(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Color"}),(0,d.jsx)("span",{children:s.color||"N/A"})]}),(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Material"}),(0,d.jsx)("span",{children:s.material||"N/A"})]}),(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Care Instructions"}),(0,d.jsx)("span",{children:s.wash||"N/A"})]})]})]}),(0,d.jsxs)("div",{className:"product-actions",children:[w?(0,d.jsx)("button",{onClick:()=>u("cart"),className:"btn go-to-cart",children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn",onClick:()=>n(s),children:"Add to Cart"}),(0,d.jsx)("button",{className:"wishlist-heart-btn ".concat(k?"active":""),title:"Add to Wishlist",onClick:()=>i(s),children:(0,d.jsx)("i",{className:k?"fas fa-heart":"far fa-heart"})})]})]})]}),(0,d.jsxs)("div",{className:"related-products-section",children:[(0,d.jsx)("h2",{children:"Related Products"}),(0,d.jsx)("div",{className:"related-product-grid",children:y.map(e=>(0,d.jsxs)("div",{className:"related-product-card",onClick:()=>p(e),style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:h(e.image),alt:e.name,onError:e=>e.target.src="https://via.placeholder.com/200x150?text=No+Img"}),(0,d.jsxs)("div",{className:"related-product-info",children:[(0,d.jsx)("h4",{children:e.name}),(0,d.jsx)("p",{style:{fontSize:"14px",color:"var(--gray)"},children:e.vendor}),(0,d.jsxs)("div",{className:"product-price",style:{fontSize:"18px",marginTop:"10px"},children:["\u20b9",e.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-distance",style:{fontSize:"14px",color:"var(--gray)",marginTop:"5px"},children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"})," ",(0,d.jsx)("span",{children:e.distance||"N/A"})]})]})]},e.id))})]})]}):(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("h1",{children:"Product not found"}),(0,d.jsx)("a",{href:"#footwear",onClick:e=>{e.preventDefault(),u("footwear")},className:"back-link",children:"\u2190 Back to Footwear"})]})},ze=[{id:901,name:"Organic Rice",price:199,vendor:"Fresh Farms",image:"Organic Rice.jpg",otherImages:["Organic Rice1.jpg","Organic Rice2.jpg","Organic Rice3.jpg"],lat:17.4486,lon:78.3908,category:"Grocery"},{id:902,name:"Whole Wheat Flour",price:149,vendor:"Pure Grains",image:"Whole Wheat Flour.jpg",otherImages:["Whole Wheat Flour1.jpg","Whole Wheat Flour2.jpg","Whole Wheat Flour3.jpg"],lat:17.4512,lon:78.3855,category:"Grocery"},{id:903,name:"Olive Oil",price:499,vendor:"Healthy Oils",image:"Olive Oil.jpg",otherImages:["Olive Oil1.jpg","Olive Oil2.jpg","Olive Oil3.jpg"],lat:17.4421,lon:78.3882,category:"Grocery"},{id:904,name:"Fresh Apples",price:299,vendor:"Orchard Fresh",image:"Fresh Apples.jpg",otherImages:["Fresh Apples1.jpg","Fresh Apples2.jpg","Fresh Apples3.jpg"],lat:17.455,lon:78.392,category:"Grocery"},{id:905,name:"Milk",price:59,vendor:"Dairy Delight",image:"Milk.jpg",otherImages:["Milk1.jpg","Milk2.jpg","Milk3.jpg"],lat:17.4399,lon:78.4421,category:"Grocery"},{id:906,name:"Organic Honey",price:399,vendor:"Sweet Harvest",image:"Organic Honey.jpg",otherImages:["Organic Honey1.jpg","Organic Honey2.jpg","Organic Honey3.jpg"],lat:17.4455,lon:78.38,category:"Grocery"},{id:907,name:"Fresh Tomatoes",price:99,vendor:"Green Veggie",image:"Fresh Tomatoes.jpg",otherImages:["Fresh Tomatoes1.jpg","Fresh Tomatoes2.jpg","Fresh Tomatoes3.jpg"],lat:17.448,lon:78.389,category:"Grocery"},{id:908,name:"Pasta",price:149,vendor:"Italiano Foods",image:"Pasta.jpg",otherImages:["Pasta1.jpg","Pasta2.jpg","Pasta3.jpg"],lat:17.452,lon:78.387,category:"Grocery"},{id:909,name:"Almonds",price:599,vendor:"Nutty Delights",image:"Almonds.jpg",otherImages:["Almonds1.jpg","Almonds2.jpg","Almonds3.jpg"],lat:17.44,lon:78.385,category:"Grocery"},{id:910,name:"Green Tea",price:249,vendor:"Pure Leaf",image:"Green Tea (100g).jpg",otherImages:["Green Tea (100g)1.jpg","Green Tea (100g)2.jpg","Green Tea (100g)3.jpg"],lat:17.449,lon:78.395,category:"Grocery"},{id:911,name:"Fresh Spinach",price:79,vendor:"Green Grocer",image:"Fresh Spinach.jpg",otherImages:["Fresh Spinach1.jpg","Fresh Spinach2.jpg","Fresh Spinach3.jpg"],lat:17.455,lon:78.392,category:"Grocery"},{id:912,name:"Butter",price:199,vendor:"Creamy Dairy",image:"Butter.jpg",otherImages:["Butter1.jpg","Butter2.jpg","Butter3.jpg"],lat:17.443,lon:78.386,category:"Grocery"},{id:913,name:"Oats",price:299,vendor:"Healthy Grains",image:"Oats.jpg",otherImages:["Oats1.jpg","Oats2.jpg","Oats3.jpg"],lat:17.45,lon:78.384,category:"Grocery"},{id:914,name:"Fresh Bananas",price:99,vendor:"Fruit Basket",image:"Fresh Bananas.jpg",otherImages:["Fresh Bananas1.jpg","Fresh Bananas2.jpg","Fresh Bananas3.jpg"],lat:17.447,lon:78.391,category:"Grocery"},{id:915,name:"Canned Beans",price:149,vendor:"Pantry Staples",image:"Canned Beans.jpg",otherImages:["Canned Beans1.jpg","Canned Beans2.jpg","Canned Beans3.jpg"],lat:17.44,lon:78.385,category:"Grocery"}],_e=e=>{let{product:t,onAddToCart:a,onToggleWishlist:s,cartItems:n,wishlistItems:i,navigateTo:o,onViewProduct:l}=e;const c=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.includes("-")&&/^\d+-\w+\./.test(e)?"http://localhost:5000/uploads/".concat(e):"/IMAGES/".concat(e):"https://via.placeholder.com/200x150?text=No+Image",[u,p]=(0,r.useState)("");(0,r.useEffect)(()=>{t&&(p(c(t.image)),console.log("\ud83d\udd0d GroceryProductDetail - Rendering product:",t.name),console.log("\ud83d\udee1\ufe0f Warranty:",t.warranty),console.log("\ud83d\udcc5 Expiry:",t.expiryDate)),window.scrollTo(0,0)},[t]);const h=(0,r.useMemo)(()=>n&&n.some(e=>(e._id||e.id)===(t._id||t.id)),[n,t]),m=(0,r.useMemo)(()=>i.some(e=>(e._id||e.id)===(t._id||t.id)),[i,t]),g=(0,r.useMemo)(()=>{if(!t)return[];const e=[c(t.image)];return t.otherImages&&t.otherImages.length>0?e.concat(t.otherImages.map(e=>c(e))):e},[t]),f=(0,r.useMemo)(()=>t?ze.filter(e=>e.id!==t.id).sort(()=>.5-Math.random()).slice(0,4):[],[t]);return t?(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("a",{href:"#groceries",onClick:e=>{e.preventDefault(),o("groceries")},className:"back-link",children:"\u2190 Back to Grocery"}),(0,d.jsxs)("div",{className:"product-detail-container",children:[(0,d.jsxs)("div",{className:"product-images",children:[(0,d.jsx)("div",{className:"main-image",children:(0,d.jsx)("img",{src:u,alt:t.name})}),(0,d.jsx)("div",{className:"thumbnail-track",children:g.map((e,a)=>(0,d.jsx)("img",{src:e,alt:"".concat(t.name," thumbnail ").concat(a+1),className:"thumbnail ".concat(u===e?"active":""),onClick:()=>p(e),onError:e=>e.target.src="https://via.placeholder.com/80x80?text=No+Img"},a))})]}),(0,d.jsxs)("div",{className:"product-details",children:[(0,d.jsx)("h1",{children:t.name}),(0,d.jsxs)("p",{className:"product-vendor",children:["by ",t.vendor]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-description",children:[(0,d.jsx)("h3",{children:"Description"}),(0,d.jsx)("p",{children:t.description||"High-quality grocery item, perfect for your daily needs. Fresh and sourced from the best suppliers."})]}),t.warranty&&(0,d.jsxs)("div",{className:"product-warranty",style:{marginTop:"15px",padding:"12px",backgroundColor:"#e8f5e9",borderLeft:"4px solid #4CAF50",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#2e7d32"},children:[(0,d.jsx)("i",{className:"fas fa-shield-alt",style:{marginRight:"8px"}}),"Warranty:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:t.warranty})]}),t.expiryDate&&(0,d.jsxs)("div",{className:"product-expiry",style:{marginTop:"15px",padding:"12px",backgroundColor:"#fff3e0",borderLeft:"4px solid #ff9800",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#e65100"},children:[(0,d.jsx)("i",{className:"fas fa-calendar-alt",style:{marginRight:"8px"}}),"Expiry Date:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:(e=>{if(!e)return null;return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})(t.expiryDate)})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,d.jsx)("span",{children:t.distance||"Distance N/A"})]}),(0,d.jsxs)("div",{className:"product-actions",children:[h?(0,d.jsx)("button",{onClick:()=>o("cart"),className:"btn go-to-cart",children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn",onClick:()=>a(t),children:"Add to Cart"}),(0,d.jsx)("button",{className:"wishlist-heart-btn ".concat(m?"active":""),title:"Add to Wishlist",onClick:()=>s(t),children:(0,d.jsx)("i",{className:m?"fas fa-heart":"far fa-heart"})})]})]})]}),(0,d.jsxs)("div",{className:"related-products-section",children:[(0,d.jsx)("h2",{children:"Related Products"}),(0,d.jsx)("div",{className:"related-product-grid",children:f.map(e=>(0,d.jsxs)("div",{className:"related-product-card",onClick:()=>l(e),style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:c(e.image),alt:e.name,onError:e=>e.target.src="https://via.placeholder.com/200x150?text=No+Img"}),(0,d.jsxs)("div",{className:"related-product-info",children:[(0,d.jsx)("h4",{children:e.name}),(0,d.jsx)("p",{style:{fontSize:"14px",color:"var(--gray)"},children:e.vendor}),(0,d.jsxs)("div",{className:"product-price",style:{fontSize:"18px",marginTop:"10px"},children:["\u20b9",e.price.toLocaleString()]})]})]},e.id))})]})]}):(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("h1",{children:"Product not found"}),(0,d.jsx)("a",{href:"#groceries",onClick:e=>{e.preventDefault(),o("groceries")},className:"back-link",children:"\u2190 Back to Grocery"})]})},Ge=[{id:1001,name:"Fresh Apples",price:299,vendor:"Orchard Fresh",image:"Fresh Apples.jpg",otherImages:["Fresh Apples1.jpg","Fresh Apples2.jpg","Fresh Apples3.jpg"],lat:17.4486,lon:78.3908,category:"Fruits"},{id:1002,name:"Fresh Bananas",price:99,vendor:"Fruit Basket",image:"Fresh Bananas.jpg",otherImages:["Fresh Bananas1.jpg","Fresh Bananas2.jpg","Fresh Bananas3.jpg"],lat:17.4512,lon:78.3855,category:"Fruits"},{id:1003,name:"Fresh Tomatoes",price:99,vendor:"Green Veggie",image:"Fresh Tomatoes.jpg",otherImages:["Fresh Tomatoes1.jpg","Fresh Tomatoes2.jpg","Fresh Tomatoes3.jpg"],lat:17.4421,lon:78.3882,category:"Fruits"},{id:1004,name:"Fresh Spinach",price:79,vendor:"Green Grocer",image:"Fresh Spinach.jpg",otherImages:["Fresh Spinach1.jpg","Fresh Spinach2.jpg","Fresh Spinach3.jpg"],lat:17.455,lon:78.392,category:"Fruits"},{id:1005,name:"Fresh Oranges",price:149,vendor:"Citrus Grove",image:"Fresh Oranges.jpg",otherImages:["Fresh Oranges1.jpg","Fresh Oranges2.jpg","Fresh Oranges3.jpg"],lat:17.4399,lon:78.4421,category:"Fruits"}],Ve=e=>{let{product:t,onAddToCart:a,onToggleWishlist:s,cartItems:n,wishlistItems:i,navigateTo:o,onViewProduct:l}=e;const c=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.includes("-")&&/^\d+-\w+\./.test(e)?"http://localhost:5000/uploads/".concat(e):"/IMAGES/".concat(e):"https://via.placeholder.com/200x150?text=No+Image",[u,p]=(0,r.useState)("");(0,r.useEffect)(()=>{t&&(p(c(t.image)),console.log("\ud83d\udd0d FruitProductDetail - Rendering product:",t.name),console.log("\ud83d\udee1\ufe0f Warranty:",t.warranty),console.log("\ud83d\udcc5 Expiry:",t.expiryDate)),window.scrollTo(0,0)},[t]);const h=(0,r.useMemo)(()=>n&&n.some(e=>(e._id||e.id)===(t._id||t.id)),[n,t]),m=(0,r.useMemo)(()=>i.some(e=>(e._id||e.id)===(t._id||t.id)),[i,t]),g=(0,r.useMemo)(()=>{if(!t)return[];const e=[c(t.image)];return t.otherImages&&t.otherImages.length>0?e.concat(t.otherImages.map(e=>c(e))):e},[t]),f=(0,r.useMemo)(()=>t?Ge.filter(e=>e.id!==t.id).sort(()=>.5-Math.random()).slice(0,4):[],[t]);return t?(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("a",{href:"#fruits",onClick:e=>{e.preventDefault(),o("fruits")},className:"back-link",children:"\u2190 Back to Fruits"}),(0,d.jsxs)("div",{className:"product-detail-container",children:[(0,d.jsxs)("div",{className:"product-images",children:[(0,d.jsx)("div",{className:"main-image",children:(0,d.jsx)("img",{src:u,alt:t.name})}),(0,d.jsx)("div",{className:"thumbnail-track",children:g.map((e,a)=>(0,d.jsx)("img",{src:e,alt:"".concat(t.name," thumbnail ").concat(a+1),className:"thumbnail ".concat(u===e?"active":""),onClick:()=>p(e),onError:e=>e.target.src="https://via.placeholder.com/80x80?text=No+Img"},a))})]}),(0,d.jsxs)("div",{className:"product-details",children:[(0,d.jsx)("h1",{children:t.name}),(0,d.jsxs)("p",{className:"product-vendor",children:["by ",t.vendor]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-description",children:[(0,d.jsx)("h3",{children:"Description"}),(0,d.jsx)("p",{children:t.description||"Fresh, juicy fruits packaged with care. A healthy choice for your daily nutrition needs."})]}),t.warranty&&(0,d.jsxs)("div",{className:"product-warranty",style:{marginTop:"15px",padding:"12px",backgroundColor:"#e8f5e9",borderLeft:"4px solid #4CAF50",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#2e7d32"},children:[(0,d.jsx)("i",{className:"fas fa-shield-alt",style:{marginRight:"8px"}}),"Warranty:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:t.warranty})]}),t.expiryDate&&(0,d.jsxs)("div",{className:"product-expiry",style:{marginTop:"15px",padding:"12px",backgroundColor:"#fff3e0",borderLeft:"4px solid #ff9800",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#e65100"},children:[(0,d.jsx)("i",{className:"fas fa-calendar-alt",style:{marginRight:"8px"}}),"Expiry Date:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:(e=>{if(!e)return null;return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})(t.expiryDate)})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,d.jsx)("span",{children:t.distance||"Distance N/A"})]}),(0,d.jsxs)("div",{className:"product-actions",children:[h?(0,d.jsx)("button",{onClick:()=>o("cart"),className:"btn go-to-cart",children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn",onClick:()=>a(t),children:"Add to Cart"}),(0,d.jsx)("button",{className:"wishlist-heart-btn ".concat(m?"active":""),title:"Add to Wishlist",onClick:()=>s(t),children:(0,d.jsx)("i",{className:m?"fas fa-heart":"far fa-heart"})})]})]})]}),(0,d.jsxs)("div",{className:"related-products-section",children:[(0,d.jsx)("h2",{children:"Related Products"}),(0,d.jsx)("div",{className:"related-product-grid",children:f.map(e=>(0,d.jsxs)("div",{className:"related-product-card",onClick:()=>l(e),style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:c(e.image),alt:e.name,onError:e=>e.target.src="https://via.placeholder.com/200x150?text=No+Img"}),(0,d.jsxs)("div",{className:"related-product-info",children:[(0,d.jsx)("h4",{children:e.name}),(0,d.jsx)("p",{style:{fontSize:"14px",color:"var(--gray)"},children:e.vendor}),(0,d.jsxs)("div",{className:"product-price",style:{fontSize:"18px",marginTop:"10px"},children:["\u20b9",e.price.toLocaleString()]})]})]},e.id))})]})]}):(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("h1",{children:"Product not found"}),(0,d.jsx)("a",{href:"#fruits",onClick:e=>{e.preventDefault(),o("fruits")},className:"back-link",children:"\u2190 Back to Fruits"})]})},Oe=[{id:401,name:"The Great Gatsby",price:499,vendor:"Classic Reads",image:"The Great Gatsby.jpg",author:"F. Scott Fitzgerald",genre:"Classic",publisher:"Scribner",pages:180,otherImages:["The Great Gatsby1.jpg","The Great Gatsby2.jpg","The Great Gatsby3.jpg"],lat:17.4486,lon:78.3908,category:"Books"},{id:402,name:"1984",price:399,vendor:"Dystopian Books",image:"1984.jpg",author:"George Orwell",genre:"Dystopian",publisher:"Signet Classics",pages:328,otherImages:["19841.jpg","19842.jpg","19843.jpg"],lat:17.4512,lon:78.3855,category:"Books"},{id:403,name:"To Kill a Mockingbird",price:449,vendor:"Literary Hub",image:"To Kill a Mockingbird.jpg",author:"Harper Lee",genre:"Classic",publisher:"Harper Perennial Modern Classics",pages:324,otherImages:["To Kill a Mockingbird1.jpg","To Kill a Mockingbird2.jpg","To Kill a Mockingbird3.jpg"],lat:17.4421,lon:78.3882,category:"Books"},{id:404,name:"Pride and Prejudice",price:349,vendor:"Classic Reads",image:"Pride and Prejudice.jpg",author:"Jane Austen",genre:"Romance",publisher:"Modern Library",pages:432,otherImages:["Pride and Prejudice1.jpg","Pride and Prejudice2.jpg","Pride and Prejudice3.jpg"],lat:17.455,lon:78.392,category:"Books"},{id:405,name:"The Catcher in the Rye",price:429,vendor:"Modern Classics",image:"The Catcher in the Rye.jpg",author:"J.D. Salinger",genre:"Fiction",publisher:"Little, Brown and Company",pages:224,otherImages:["The Catcher in the Rye1.jpg","The Catcher in the Rye2.jpg","The Catcher in the Rye3.jpg"],lat:17.4399,lon:78.4421,category:"Books"},{id:406,name:"Sapiens",price:599,vendor:"Non-Fiction Books",image:"Sapiens.jpg",author:"Yuval Noah Harari",genre:"Non-Fiction",publisher:"Harper",pages:443,otherImages:["Sapiens1.jpg","Sapiens2.jpg","Sapiens3.jpg"],lat:17.4455,lon:78.38,category:"Books"},{id:407,name:"The Hobbit",price:499,vendor:"Fantasy Reads",image:"The Hobbit.jpg",author:"J.R.R. Tolkien",genre:"Fantasy",publisher:"Houghton Mifflin Harcourt",pages:310,otherImages:["The Hobbit1.jpg","The Hobbit2.jpg","The Hobbit3.jpg"],lat:17.448,lon:78.389,category:"Books"},{id:408,name:"Becoming",price:699,vendor:"Memoir Books",image:"Becoming.jpg",author:"Michelle Obama",genre:"Memoir",publisher:"Crown",pages:426,otherImages:["Becoming1.jpg","Becoming2.jpg","Becoming3.jpg"],lat:17.452,lon:78.387,category:"Books"},{id:409,name:"Dune",price:549,vendor:"Sci-Fi Books",image:"Dune.jpg",author:"Frank Herbert",genre:"Sci-Fi",publisher:"Ace Books",pages:412,otherImages:["Dune1.jpg","Dune2.jpg","Dune3.jpg"],lat:17.44,lon:78.385,category:"Books"},{id:410,name:"Atomic Habits",price:649,vendor:"Self-Help Books",image:"Atomic Habits.jpg",author:"James Clear",genre:"Self-Help",publisher:"Avery",pages:320,otherImages:["Atomic Habits1.jpg","Atomic Habits2.jpg","Atomic Habits3.jpg"],lat:17.449,lon:78.395,category:"Books"},{id:411,name:"The Alchemist",price:399,vendor:"Fiction Hub",image:"The Alchemist.jpg",author:"Paulo Coelho",genre:"Fantasy",publisher:"HarperOne",pages:208,otherImages:["The Alchemist1.jpg","The Alchemist2.jpg","The Alchemist3.jpg"],lat:17.455,lon:78.392,category:"Books"},{id:412,name:"Educated",price:599,vendor:"Memoir Books",image:"Educated.jpg",author:"Tara Westover",genre:"Memoir",publisher:"Random House",pages:352,otherImages:["Educated1.jpg","Educated2.jpg","Educated3.jpg"],lat:17.443,lon:78.386,category:"Books"},{id:413,name:"Harry Potter",price:799,vendor:"Fantasy Reads",image:"Harry Potter.jpg",author:"J.K. Rowling",genre:"Fantasy",publisher:"Scholastic",pages:309,otherImages:["Harry Potter1.jpg","Harry Potter2.jpg","Harry Potter3.jpg"],lat:17.45,lon:78.384,category:"Books"},{id:414,name:"Thinking, Fast and Slow",price:649,vendor:"Non-Fiction Books",image:"Thinking, Fast and Slow.jpg",author:"Daniel Kahneman",genre:"Psychology",publisher:"Farrar, Straus and Giroux",pages:499,otherImages:["Thinking, Fast and Slow1.jpg","Thinking, Fast and Slow2.jpg","Thinking, Fast and Slow3.jpg"],lat:17.447,lon:78.391,category:"Books"},{id:415,name:"The Shining",price:499,vendor:"Horror Books",image:"The Shining.jpg",author:"Stephen King",genre:"Horror",publisher:"Doubleday",pages:447,otherImages:["The Shining1.jpg","The Shining2.jpg","The Shining3.jpg"],lat:17.44,lon:78.385,category:"Books"}],He=e=>{let{product:t,onAddToCart:a,onToggleWishlist:s,cartItems:n,wishlistItems:i,navigateTo:o,onViewProduct:l}=e;const c=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.includes("-")&&/^\d+-\w+\./.test(e)?"http://localhost:5000/uploads/".concat(e):"/IMAGES/".concat(e):"https://via.placeholder.com/200x150?text=No+Image",[u,p]=(0,r.useState)("");(0,r.useEffect)(()=>{t&&(p(c(t.image)),console.log("\ud83d\udd0d BookProductDetail - Rendering product:",t.name),console.log("\ud83d\udee1\ufe0f Warranty:",t.warranty),console.log("\ud83d\udcc5 Expiry:",t.expiryDate)),window.scrollTo(0,0)},[t]);const h=(0,r.useMemo)(()=>n&&n.some(e=>(e._id||e.id)===(t._id||t.id)),[n,t]),m=(0,r.useMemo)(()=>i.some(e=>(e._id||e.id)===(t._id||t.id)),[i,t]),g=(0,r.useMemo)(()=>{if(!t)return[];const e=[c(t.image)];return t.otherImages&&t.otherImages.length>0?e.concat(t.otherImages.map(e=>c(e))):e},[t]),f=(0,r.useMemo)(()=>{if(!t)return[];const e=Oe.filter(e=>e.id!==t.id&&e.genre===t.genre);if(e.length>=4)return e.sort(()=>.5-Math.random()).slice(0,4);const a=Oe.filter(e=>e.id!==t.id&&e.genre!==t.genre);return[...e,...a].sort(()=>.5-Math.random()).slice(0,4)},[t]);return t?(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("a",{href:"#books",onClick:e=>{e.preventDefault(),o("books")},className:"back-link",children:"\u2190 Back to Books"}),(0,d.jsxs)("div",{className:"product-detail-container",children:[(0,d.jsxs)("div",{className:"product-images",children:[(0,d.jsx)("div",{className:"main-image",children:(0,d.jsx)("img",{src:u,alt:t.name})}),(0,d.jsx)("div",{className:"thumbnail-track",children:g.map((e,a)=>(0,d.jsx)("img",{src:e,alt:"".concat(t.name," thumbnail ").concat(a+1),className:"thumbnail ".concat(u===e?"active":""),onClick:()=>p(e),onError:e=>e.target.src="https://via.placeholder.com/80x80?text=No+Img"},a))})]}),(0,d.jsxs)("div",{className:"product-details",children:[(0,d.jsx)("h1",{children:t.name}),(0,d.jsxs)("p",{className:"product-vendor",children:["by ",t.vendor]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-description",children:[(0,d.jsx)("h3",{children:"Description"}),(0,d.jsx)("p",{children:t.description||"A captivating book that will transport you to another world. A must-read for all book lovers."})]}),t.warranty&&(0,d.jsxs)("div",{className:"product-warranty",style:{marginTop:"15px",padding:"12px",backgroundColor:"#e8f5e9",borderLeft:"4px solid #4CAF50",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#2e7d32"},children:[(0,d.jsx)("i",{className:"fas fa-shield-alt",style:{marginRight:"8px"}}),"Warranty:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:t.warranty})]}),t.expiryDate&&(0,d.jsxs)("div",{className:"product-expiry",style:{marginTop:"15px",padding:"12px",backgroundColor:"#fff3e0",borderLeft:"4px solid #ff9800",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#e65100"},children:[(0,d.jsx)("i",{className:"fas fa-calendar-alt",style:{marginRight:"8px"}}),"Expiry Date:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:(e=>{if(!e)return null;return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})(t.expiryDate)})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,d.jsx)("span",{children:t.distance||"Distance N/A"})]}),(0,d.jsxs)("div",{className:"product-specs",children:[(0,d.jsx)("h3",{children:"Specifications"}),(0,d.jsxs)("div",{className:"spec-grid",children:[(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Author"}),(0,d.jsx)("span",{children:t.author||"N/A"})]}),(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Genre"}),(0,d.jsx)("span",{children:t.genre||"N/A"})]}),(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Publisher"}),(0,d.jsx)("span",{children:t.publisher||"N/A"})]}),(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Pages"}),(0,d.jsx)("span",{children:t.pages||"N/A"})]})]})]}),(0,d.jsxs)("div",{className:"product-actions",children:[h?(0,d.jsx)("button",{onClick:()=>o("cart"),className:"btn go-to-cart",children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn",onClick:()=>a(t),children:"Add to Cart"}),(0,d.jsx)("button",{className:"wishlist-heart-btn ".concat(m?"active":""),title:"Add to Wishlist",onClick:()=>s(t),children:(0,d.jsx)("i",{className:m?"fas fa-heart":"far fa-heart"})})]})]})]}),(0,d.jsxs)("div",{className:"related-products-section",children:[(0,d.jsx)("h2",{children:"Related Products"}),(0,d.jsx)("div",{className:"related-product-grid",children:f.map(e=>(0,d.jsxs)("div",{className:"related-product-card",onClick:()=>l(e),style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:c(e.image),alt:e.name,onError:e=>e.target.src="https://via.placeholder.com/200x150?text=No+Img"}),(0,d.jsxs)("div",{className:"related-product-info",children:[(0,d.jsx)("h4",{children:e.name}),(0,d.jsx)("p",{style:{fontSize:"14px",color:"var(--gray)"},children:e.vendor}),(0,d.jsxs)("div",{className:"product-price",style:{fontSize:"18px",marginTop:"10px"},children:["\u20b9",e.price.toLocaleString()]})]})]},e.id))})]})]}):(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("h1",{children:"Product not found"}),(0,d.jsx)("a",{href:"#books",onClick:e=>{e.preventDefault(),o("books")},className:"back-link",children:"\u2190 Back to Books"})]})},Ue=[{id:1401,name:"Dry Dog Food",price:799,vendor:"Pet Nutrition",category:"Pet Food",image:"Dry Dog Food.jpg",lat:17.4486,lon:78.3908,stock:50,description:"High-quality dry dog food with balanced nutrition for adult dogs"},{id:1402,name:"Wet Cat Food",price:499,vendor:"Feline Feast",category:"Pet Food",image:"Wet Cat Food.jpg",lat:17.4512,lon:78.3855,stock:40,description:"Tasty wet cat food in gravy, perfect for feline nutrition"},{id:1403,name:"Puppy Kibble",price:899,vendor:"Puppy Palace",category:"Pet Food",image:"Puppy Kibble.jpg",lat:17.4421,lon:78.3882,stock:35,description:"Nutritious kibble specially formulated for growing puppies"},{id:1404,name:"Senior Dog Food",price:749,vendor:"Pet Nutrition",category:"Pet Food",image:"Senior Dog Food.jpg",lat:17.455,lon:78.392,stock:30,description:"Specialized food for senior dogs with joint support ingredients"},{id:1405,name:"Grain-Free Cat Food",price:999,vendor:"Feline Feast",category:"Pet Food",image:"Grain-Free Cat Food.jpg",lat:17.4399,lon:78.4421,stock:25,description:"Grain-free cat food for sensitive feline digestive systems"},{id:1406,name:"Dog Treats",price:399,vendor:"Pet Treats Co.",category:"Pet Food",image:"Dog Treats.jpg",lat:17.4455,lon:78.38,stock:60,description:"Delicious dog treats for training and rewards"},{id:1407,name:"Cat Treats",price:349,vendor:"Feline Feast",category:"Pet Food",image:"Cat Treats.jpg",lat:17.448,lon:78.389,stock:55,description:"Tasty cat treats to pamper your feline friend"},{id:1408,name:"Puppy Wet Food",price:599,vendor:"Puppy Palace",category:"Pet Food",image:"Puppy Wet Food.jpg",lat:17.452,lon:78.387,stock:45,description:"Soft wet food ideal for puppies transitioning to solid food"},{id:1409,name:"Senior Cat Food",price:799,vendor:"Feline Feast",category:"Pet Food",image:"Senior Cat Food.jpg",lat:17.44,lon:78.385,stock:28,description:"Nutrient-rich food for senior cats with added vitamins"},{id:1410,name:"Dog Dental Chews",price:499,vendor:"Pet Treats Co.",category:"Pet Food",image:"Dog Dental Chews.jpg",lat:17.449,lon:78.395,stock:40,description:"Dental chews that help clean teeth and freshen breath"},{id:1411,name:"Kitten Food",price:699,vendor:"Feline Feast",category:"Pet Food",image:"Kitten Food.jpg",lat:17.455,lon:78.392,stock:32,description:"Specialized nutrition for growing kittens"},{id:1412,name:"Grain-Free Dog Food",price:999,vendor:"Pet Nutrition",category:"Pet Food",image:"Grain-Free Dog Food.jpg",lat:17.443,lon:78.386,stock:20,description:"Grain-free dog food for dogs with grain sensitivities"},{id:1413,name:"Cat Dental Treats",price:399,vendor:"Feline Feast",category:"Pet Food",image:"Cat Dental Treats.jpg",lat:17.45,lon:78.384,stock:38,description:"Dental treats that promote oral health in cats"},{id:1414,name:"Adult Dog Food",price:849,vendor:"Pet Nutrition",category:"Pet Food",image:"Adult Dog Food.jpg",lat:17.447,lon:78.391,stock:42,description:"Balanced adult dog food for daily nutrition"},{id:1415,name:"Fish Food Flakes",price:299,vendor:"Aquatic Pets",category:"Pet Food",image:"Fish Food Flakes.jpg",lat:17.44,lon:78.385,stock:70,description:"Nutritious flakes for tropical fish and aquarium pets"}],Ke=e=>{let{product:t,onAddToCart:a,onToggleWishlist:s,cartItems:n,wishlistItems:i,navigateTo:o,onViewProduct:l}=e;const c=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.includes("-")&&/^\d+-\w+\./.test(e)?"http://localhost:5000/uploads/".concat(e):"/IMAGES/".concat(e):"https://via.placeholder.com/200x150?text=No+Image",[u,p]=(0,r.useState)("");(0,r.useEffect)(()=>{t&&(p(c(t.image)),console.log("\ud83d\udd0d PetfoodProductDetail - Rendering product:",t.name),console.log("\ud83d\udee1\ufe0f Warranty:",t.warranty),console.log("\ud83d\udcc5 Expiry:",t.expiryDate)),window.scrollTo(0,0)},[t]);const h=(0,r.useMemo)(()=>n&&n.some(e=>(e._id||e.id)===(t._id||t.id)),[n,t]),m=(0,r.useMemo)(()=>i.some(e=>(e._id||e.id)===(t._id||t.id)),[i,t]),g=(0,r.useMemo)(()=>{if(!t)return[];const e=[c(t.image)];return t.otherImages&&t.otherImages.length>0?e.concat(t.otherImages.map(e=>c(e))):e},[t]),f=(0,r.useMemo)(()=>t?Ue.filter(e=>e.id!==t.id).sort(()=>.5-Math.random()).slice(0,4):[],[t]);return t?(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("a",{href:"#petfood",onClick:e=>{e.preventDefault(),o("petfood")},className:"back-link",children:"\u2190 Back to Pet Food"}),(0,d.jsxs)("div",{className:"product-detail-container",children:[(0,d.jsxs)("div",{className:"product-images",children:[(0,d.jsx)("div",{className:"main-image",children:(0,d.jsx)("img",{src:u,alt:t.name})}),(0,d.jsx)("div",{className:"thumbnail-track",children:g.map((e,a)=>(0,d.jsx)("img",{src:e,alt:"".concat(t.name," thumbnail ").concat(a+1),className:"thumbnail ".concat(u===e?"active":""),onClick:()=>p(e),onError:e=>e.target.src="https://via.placeholder.com/80x80?text=No+Img"},a))})]}),(0,d.jsxs)("div",{className:"product-details",children:[(0,d.jsx)("h1",{children:t.name}),(0,d.jsxs)("p",{className:"product-vendor",children:["by ",t.vendor]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-description",children:[(0,d.jsx)("h3",{children:"Description"}),(0,d.jsx)("p",{children:t.description||"Nutritious and delicious food for your beloved pet. Made with high-quality ingredients to ensure their health and happiness."})]}),t.warranty&&(0,d.jsxs)("div",{className:"product-warranty",style:{marginTop:"15px",padding:"12px",backgroundColor:"#e8f5e9",borderLeft:"4px solid #4CAF50",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#2e7d32"},children:[(0,d.jsx)("i",{className:"fas fa-shield-alt",style:{marginRight:"8px"}}),"Warranty:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:t.warranty})]}),t.expiryDate&&(0,d.jsxs)("div",{className:"product-expiry",style:{marginTop:"15px",padding:"12px",backgroundColor:"#fff3e0",borderLeft:"4px solid #ff9800",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#e65100"},children:[(0,d.jsx)("i",{className:"fas fa-calendar-alt",style:{marginRight:"8px"}}),"Expiry Date:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:(e=>{if(!e)return null;return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})(t.expiryDate)})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,d.jsx)("span",{children:t.distance||"Distance N/A"})]}),(0,d.jsxs)("div",{className:"product-actions",children:[h?(0,d.jsx)("button",{onClick:()=>o("cart"),className:"btn go-to-cart",children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn",onClick:()=>a(t),children:"Add to Cart"}),(0,d.jsx)("button",{className:"wishlist-heart-btn ".concat(m?"active":""),title:"Add to Wishlist",onClick:()=>s(t),children:(0,d.jsx)("i",{className:m?"fas fa-heart":"far fa-heart"})})]})]})]}),(0,d.jsxs)("div",{className:"related-products-section",children:[(0,d.jsx)("h2",{children:"You might also like"}),(0,d.jsx)("div",{className:"related-product-grid",children:f.map(e=>(0,d.jsxs)("div",{className:"related-product-card",onClick:()=>l(e),style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:c(e.image),alt:e.name,onError:e=>e.target.src="https://via.placeholder.com/200x150?text=No+Img"}),(0,d.jsxs)("div",{className:"related-product-info",children:[(0,d.jsx)("h4",{children:e.name}),(0,d.jsx)("p",{style:{fontSize:"14px",color:"var(--gray)"},children:e.vendor}),(0,d.jsxs)("div",{className:"product-price",style:{fontSize:"18px",marginTop:"10px"},children:["\u20b9",e.price.toLocaleString()]})]})]},e.id))})]})]}):(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("h1",{children:"Product not found"}),(0,d.jsx)("a",{href:"#petfood",onClick:e=>{e.preventDefault(),o("petfood")},className:"back-link",children:"\u2190 Back to Pet Food"})]})},qe=[{id:1501,name:"Acoustic Guitar",price:799,vendor:"Music Haven",image:"Acoustic Guitar.jpg",type:"String",material:"Wood",color:"Natural",otherImages:["Acoustic Guitar1.jpeg","Acoustic Guitar2.jpeg","Acoustic Guitar3.jpeg"],lat:17.4486,lon:78.3908,category:"Musical Instruments"},{id:1502,name:"Electric Guitar",price:499,vendor:"Rock Shop",image:"Electric Guitar.jpg",type:"String",material:"Wood, Metal",color:"Sunburst",otherImages:["Electric Guitar1.jpeg","Electric Guitar2.jpeg","Electric Guitar3.jpeg"],lat:17.4512,lon:78.3855,category:"Musical Instruments"},{id:1503,name:"Digital Piano",price:899,vendor:"Melody Mart",image:"Digital Piano.jpg",type:"Keyboard",material:"Plastic, Metal",color:"Black",otherImages:["Digital Piano1.jpeg","Digital Piano2.jpeg","Digital Piano3.jpeg"],lat:17.4421,lon:78.3882,category:"Musical Instruments"},{id:1504,name:"Drum Kit",price:749,vendor:"Music Haven",image:"Drum Kit.jpg",type:"Percussion",material:"Wood, Metal",color:"Red",otherImages:["Drum Kit1.jpeg","Drum Kit2.jpeg","Drum Kit3.jpeg"],lat:17.455,lon:78.392,category:"Musical Instruments"},{id:1505,name:"Violin",price:999,vendor:"Classical Sounds",image:"Violin.jpg",type:"String",material:"Wood",color:"Brown",otherImages:["Violin1.jpeg","Violin2.jpeg","Violin3.jpeg"],lat:17.4399,lon:78.4421,category:"Musical Instruments"},{id:1506,name:"Guitar Strings",price:399,vendor:"Tune Up Co.",image:"Guitar Strings.jpg",type:"Accessory",material:"Steel",color:"Silver",otherImages:["Guitar Strings1.jpeg","Guitar Strings2.jpeg","Guitar Strings3.jpeg"],lat:17.4455,lon:78.38,category:"Musical Instruments"},{id:1507,name:"Drumsticks",price:349,vendor:"Rhythm Gear",image:"Drumsticks.jpg",type:"Accessory",material:"Wood",color:"Natural",otherImages:["Drumsticks1.jpeg","Drumsticks2.jpeg","Drumsticks3.jpeg"],lat:17.448,lon:78.389,category:"Musical Instruments"},{id:1508,name:"Ukulele",price:599,vendor:"Music Haven",image:"Ukulele.jpg",type:"String",material:"Wood",color:"Natural",otherImages:["Ukulele1.jpeg","Ukulele2.jpeg","Ukulele3.jpeg"],lat:17.452,lon:78.387,category:"Musical Instruments"},{id:1509,name:"Saxophone",price:799,vendor:"Classical Sounds",image:"Saxophone.jpg",type:"Wind",material:"Brass",color:"Gold",otherImages:["Saxophone1.jpeg","Saxophone2.jpeg","Saxophone3.jpeg"],lat:17.44,lon:78.385,category:"Musical Instruments"},{id:1510,name:"Harmonica",price:499,vendor:"Tune Up Co.",image:"Harmonica.jpg",type:"Wind",material:"Metal, Plastic",color:"Silver",otherImages:["Harmonica1.jpeg","Harmonica2.jpeg","Harmonica3.jpeg"],lat:17.449,lon:78.395,category:"Musical Instruments"},{id:1511,name:"Flute",price:699,vendor:"Classical Sounds",image:"Flute.jpg",type:"Wind",material:"Silver-plated",color:"Silver",otherImages:["Flute1.jpeg","Flute2.jpeg","Flute3.jpeg"],lat:17.455,lon:78.392,category:"Musical Instruments"},{id:1512,name:"Electric Keyboard",price:999,vendor:"Melody Mart",image:"Electric Keyboard.jpg",type:"Keyboard",material:"Plastic",color:"Black",otherImages:["Electric Keyboard1.jpeg","Electric Keyboard2.jpeg","Electric Keyboard3.jpeg"],lat:17.443,lon:78.386,category:"Musical Instruments"},{id:1513,name:"Guitar Picks",price:399,vendor:"Tune Up Co.",image:"Guitar Picks.jpg",type:"Accessory",material:"Plastic",color:"Assorted",otherImages:["Guitar Picks1.jpeg","Guitar Picks2.jpeg","Guitar Picks3.jpeg"],lat:17.45,lon:78.384,category:"Musical Instruments"},{id:1514,name:"Trumpet",price:849,vendor:"Classical Sounds",image:"Trumpet.jpg",type:"Wind",material:"Brass",color:"Gold",otherImages:["Trumpet1.jpeg","Trumpet2.jpeg","Trumpet3.jpeg"],lat:17.447,lon:78.391,category:"Musical Instruments"}],Qe=e=>{let{product:t,onAddToCart:a,onToggleWishlist:s,cartItems:n,wishlistItems:i,navigateTo:o,onViewProduct:l}=e;const c=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.includes("-")&&/^\d+-\w+\./.test(e)?"http://localhost:5000/uploads/".concat(e):"/IMAGES/".concat(e):"https://via.placeholder.com/200x150?text=No+Image",[u,p]=(0,r.useState)("");(0,r.useEffect)(()=>{t&&(p(c(t.image)),console.log("\ud83d\udd0d MusicalProductDetail - Rendering product:",t.name),console.log("\ud83d\udee1\ufe0f Warranty:",t.warranty),console.log("\ud83d\udcc5 Expiry:",t.expiryDate)),window.scrollTo(0,0)},[t]);const h=(0,r.useMemo)(()=>n&&n.some(e=>(e._id||e.id)===(t._id||t.id)),[n,t]),m=(0,r.useMemo)(()=>i.some(e=>(e._id||e.id)===(t._id||t.id)),[i,t]),g=(0,r.useMemo)(()=>{if(!t)return[];const e=[c(t.image)];return t.otherImages&&t.otherImages.length>0?e.concat(t.otherImages.map(e=>c(e))):e},[t]),f=(0,r.useMemo)(()=>t?qe.filter(e=>e.id!==t.id).sort(()=>.5-Math.random()).slice(0,4):[],[t]);return t?(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("a",{href:"#musical",onClick:e=>{e.preventDefault(),o("musical")},className:"back-link",children:"\u2190 Back to Musical Instruments"}),(0,d.jsxs)("div",{className:"product-detail-container",children:[(0,d.jsxs)("div",{className:"product-images",children:[(0,d.jsx)("div",{className:"main-image",children:(0,d.jsx)("img",{src:u,alt:t.name})}),(0,d.jsx)("div",{className:"thumbnail-track",children:g.map((e,a)=>(0,d.jsx)("img",{src:e,alt:"".concat(t.name," thumbnail ").concat(a+1),className:"thumbnail ".concat(u===e?"active":""),onClick:()=>p(e),onError:e=>e.target.src="https://via.placeholder.com/80x80?text=No+Img"},a))})]}),(0,d.jsxs)("div",{className:"product-details",children:[(0,d.jsx)("h1",{children:t.name}),(0,d.jsxs)("p",{className:"product-vendor",children:["by ",t.vendor]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-description",children:[(0,d.jsx)("h3",{children:"Description"}),(0,d.jsx)("p",{children:t.description||"A high-quality musical instrument for beginners and professionals alike. Crafted for excellent sound and durability."})]}),t.warranty&&(0,d.jsxs)("div",{className:"product-warranty",style:{marginTop:"15px",padding:"12px",backgroundColor:"#e8f5e9",borderLeft:"4px solid #4CAF50",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#2e7d32"},children:[(0,d.jsx)("i",{className:"fas fa-shield-alt",style:{marginRight:"8px"}}),"Warranty:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:t.warranty})]}),t.expiryDate&&(0,d.jsxs)("div",{className:"product-expiry",style:{marginTop:"15px",padding:"12px",backgroundColor:"#fff3e0",borderLeft:"4px solid #ff9800",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#e65100"},children:[(0,d.jsx)("i",{className:"fas fa-calendar-alt",style:{marginRight:"8px"}}),"Expiry Date:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:(e=>{if(!e)return null;return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})(t.expiryDate)})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,d.jsx)("span",{children:t.distance||"Distance N/A"})]}),(0,d.jsxs)("div",{className:"product-specs",children:[(0,d.jsx)("h3",{children:"Specifications"}),(0,d.jsxs)("div",{className:"spec-grid",children:[(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Material"}),(0,d.jsx)("span",{children:t.material||"N/A"})]}),(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Color"}),(0,d.jsx)("span",{children:t.color||"N/A"})]})]})]}),(0,d.jsxs)("div",{className:"product-actions",children:[h?(0,d.jsx)("button",{onClick:()=>o("cart"),className:"btn go-to-cart",children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn",onClick:()=>a(t),children:"Add to Cart"}),(0,d.jsx)("button",{className:"wishlist-heart-btn ".concat(m?"active":""),title:"Add to Wishlist",onClick:()=>s(t),children:(0,d.jsx)("i",{className:m?"fas fa-heart":"far fa-heart"})})]})]})]}),(0,d.jsxs)("div",{className:"related-products-section",children:[(0,d.jsx)("h2",{children:"Related Products"}),(0,d.jsx)("div",{className:"related-product-grid",children:f.map(e=>(0,d.jsxs)("div",{className:"related-product-card",onClick:()=>l(e),style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:c(e.image),alt:e.name,onError:e=>e.target.src="https://via.placeholder.com/200x150?text=No+Img"}),(0,d.jsxs)("div",{className:"related-product-info",children:[(0,d.jsx)("h4",{children:e.name}),(0,d.jsx)("p",{style:{fontSize:"14px",color:"var(--gray)"},children:e.vendor}),(0,d.jsxs)("div",{className:"product-price",style:{fontSize:"18px",marginTop:"10px"},children:["\u20b9",e.price.toLocaleString()]})]})]},e.id))})]})]}):(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("h1",{children:"Product not found"}),(0,d.jsx)("a",{href:"#musical",onClick:e=>{e.preventDefault(),o("musical")},className:"back-link",children:"\u2190 Back to Musical Instruments"})]})},Je=[{id:1101,name:"Sofa Set",price:24999,vendor:"Home Comfort",image:"Sofa Set.jpg",category:"Home Furniture",material:"Fabric",dimensions:"84 x 36 x 34 in",color:"Grey",warranty:"1 Year",otherImages:["Sofa Set1.jpeg","Sofa Set2.jpeg","Sofa Set3.jpeg"],lat:17.4486,lon:78.3908},{id:1102,name:"Dining Table",price:17999,vendor:"Urban Living",image:"Dining Table.jpg",category:"Home Furniture",material:"Sheesham Wood",dimensions:"60 x 36 x 30 in",color:"Natural Wood",warranty:"2 Years",otherImages:["Dining Table1.jpeg","Dining Table2.jpeg","Dining Table3.jpeg"],lat:17.4512,lon:78.3855},{id:1103,name:"King Size Bed",price:29999,vendor:"Sleep Well",image:"King Size Bed.jpg",category:"Home Furniture",material:"Engineered Wood",dimensions:"78 x 72 x 40 in",color:"Wenge",warranty:"3 Years",otherImages:["King Size Bed1.jpeg","King Size Bed2.jpeg","King Size Bed3.jpeg"],lat:17.4421,lon:78.3882},{id:1104,name:"Coffee Table",price:7999,vendor:"Home Comfort",image:"Coffee Table.jpg",category:"Home Furniture",material:"Glass & Metal",dimensions:"42 x 24 x 18 in",color:"Black",warranty:"1 Year",otherImages:["Coffee Table1.jpeg","Coffee Table2.jpeg","Coffee Table3.jpeg"],lat:17.455,lon:78.392},{id:1105,name:"Bookshelf",price:9999,vendor:"Urban Living",image:"Bookshelf.jpg",category:"Home Furniture",material:"Particle Board",dimensions:"32 x 12 x 72 in",color:"Oak",warranty:"1 Year",otherImages:["Bookshelf1.jpeg","Bookshelf2.jpeg","Bookshelf3.jpeg"],lat:17.4399,lon:78.4421},{id:1106,name:"Recliner Chair",price:14999,vendor:"Home Comfort",image:"Recliner Chair.jpg",category:"Home Furniture",material:"Faux Leather",dimensions:"35 x 40 x 42 in",color:"Brown",warranty:"2 Years",otherImages:["Recliner Chair1.jpeg","Recliner Chair2.jpeg","Recliner Chair3.jpeg"],lat:17.4455,lon:78.38},{id:1107,name:"TV Unit",price:11999,vendor:"Furniture Hub",image:"TV Unit.jpg",category:"Home Furniture",material:"Engineered Wood",dimensions:"70 x 16 x 22 in",color:"White",warranty:"1 Year",otherImages:["TV Unit1.jpeg","TV Unit2.jpeg","TV Unit3.jpeg"],lat:17.448,lon:78.389},{id:1108,name:"Wardrobe",price:19999,vendor:"Urban Living",image:"Wardrobe.jpg",category:"Home Furniture",material:"MDF",dimensions:"48 x 24 x 78 in",color:"Walnut",warranty:"2 Years",otherImages:["Wardrobe1.jpeg","Wardrobe2.jpeg","Wardrobe3.jpeg"],lat:17.452,lon:78.387},{id:1109,name:"Office Desk",price:12999,vendor:"Urban Living",image:"Office Desk.jpg",category:"Home Furniture",material:"Metal & Wood",dimensions:"48 x 24 x 30 in",color:"Black/Oak",warranty:"1 Year",otherImages:["Office Desk1.jpeg","Office Desk2.jpeg","Office Desk3.jpeg"],lat:17.44,lon:78.385},{id:1110,name:"Bar Stool",price:4999,vendor:"Furniture Hub",image:"Bar Stool.jpg",category:"Home Furniture",material:"Metal",dimensions:"18 x 18 x 30 in",color:"Black",warranty:"1 Year",otherImages:["Bar Stool1.jpeg","Bar Stool2.jpeg","Bar Stool3.jpeg"],lat:17.449,lon:78.395},{id:1111,name:"Study Table",price:8999,vendor:"Urban Living",image:"Study Table.jpg",category:"Home Furniture",material:"Engineered Wood",dimensions:"40 x 20 x 30 in",color:"Teak",warranty:"1 Year",otherImages:["Study Table1.jpeg","Study Table2.jpeg","Study Table3.jpeg"],lat:17.455,lon:78.392},{id:1112,name:"Armchair",price:10999,vendor:"Home Comfort",image:"Armchair.jpg",category:"Home Furniture",material:"Fabric",dimensions:"30 x 32 x 35 in",color:"Blue",warranty:"1 Year",otherImages:["Armchair1.jpeg","Armchair2.jpeg","Armchair3.jpeg"],lat:17.443,lon:78.386},{id:1113,name:"Side Table",price:5999,vendor:"Furniture Hub",image:"Side Table.jpg",category:"Home Furniture",material:"Wood",dimensions:"18 x 18 x 24 in",color:"Brown",warranty:"1 Year",otherImages:["Side Table1.jpeg","Side Table2.jpeg","Side Table3.jpeg"],lat:17.45,lon:78.384},{id:1114,name:"Queen Size Bed",price:25999,vendor:"Sleep Well",image:"Queen Size Bed.jpg",category:"Home Furniture",material:"Solid Wood",dimensions:"78 x 60 x 40 in",color:"Honey",warranty:"5 Years",otherImages:["Queen Size Bed1.jpeg","Queen Size Bed2.jpeg","Queen Size Bed3.jpeg"],lat:17.447,lon:78.391},{id:1115,name:"Shoe Rack",price:3999,vendor:"Urban Living",image:"Shoe Rack.jpg",category:"Home Furniture",material:"Engineered Wood",dimensions:"30 x 14 x 48 in",color:"Wenge",warranty:"1 Year",otherImages:["Shoe Rack1.jpeg","Shoe Rack2.jpeg","Shoe Rack3.jpeg"],lat:17.44,lon:78.385}],Ye=e=>{let{product:t,onAddToCart:a,onToggleWishlist:s,cartItems:n,wishlistItems:i,navigateTo:o,onViewProduct:l}=e;const c=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.includes("-")&&/^\d+-\w+\./.test(e)?"http://localhost:5000/uploads/".concat(e):"/IMAGES/".concat(e):"https://via.placeholder.com/200x150?text=No+Image",[u,p]=(0,r.useState)("");(0,r.useEffect)(()=>{t&&(p(c(t.image)),console.log("\ud83d\udd0d HomeFurnitureProductDetail - Rendering product:",t.name),console.log("\ud83d\udee1\ufe0f Warranty:",t.warranty),console.log("\ud83d\udcc5 Expiry:",t.expiryDate)),window.scrollTo(0,0)},[t]);const h=(0,r.useMemo)(()=>n&&n.some(e=>(e._id||e.id)===(t._id||t.id)),[n,t]),m=(0,r.useMemo)(()=>i.some(e=>(e._id||e.id)===(t._id||t.id)),[i,t]),g=(0,r.useMemo)(()=>{if(!t)return[];const e=[c(t.image)];return t.otherImages&&t.otherImages.length>0?e.concat(t.otherImages.map(e=>c(e))):e},[t]),f=(0,r.useMemo)(()=>t?Je.filter(e=>e.id!==t.id).sort(()=>.5-Math.random()).slice(0,4):[],[t]);return t?(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("a",{href:"#homefurniture",onClick:e=>{e.preventDefault(),o("homefurniture")},className:"back-link",children:"\u2190 Back to Home Furniture"}),(0,d.jsxs)("div",{className:"product-detail-container",children:[(0,d.jsxs)("div",{className:"product-images",children:[(0,d.jsx)("div",{className:"main-image",children:(0,d.jsx)("img",{src:u,alt:t.name})}),(0,d.jsx)("div",{className:"thumbnail-track",children:g.map((e,a)=>(0,d.jsx)("img",{src:e,alt:"".concat(t.name," thumbnail ").concat(a+1),className:"thumbnail ".concat(u===e?"active":""),onClick:()=>p(e),onError:e=>e.target.src="https://via.placeholder.com/80x80?text=No+Img"},a))})]}),(0,d.jsxs)("div",{className:"product-details",children:[(0,d.jsx)("h1",{children:t.name}),(0,d.jsxs)("p",{className:"product-vendor",children:["by ",t.vendor]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-description",children:[(0,d.jsx)("h3",{children:"Description"}),(0,d.jsx)("p",{children:t.description||"A high-quality piece of furniture that combines style and comfort. Perfect for modern living spaces."})]}),t.warranty&&(0,d.jsxs)("div",{className:"product-warranty",style:{marginTop:"15px",padding:"12px",backgroundColor:"#e8f5e9",borderLeft:"4px solid #4CAF50",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#2e7d32"},children:[(0,d.jsx)("i",{className:"fas fa-shield-alt",style:{marginRight:"8px"}}),"Warranty:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:t.warranty})]}),t.expiryDate&&(0,d.jsxs)("div",{className:"product-expiry",style:{marginTop:"15px",padding:"12px",backgroundColor:"#fff3e0",borderLeft:"4px solid #ff9800",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#e65100"},children:[(0,d.jsx)("i",{className:"fas fa-calendar-alt",style:{marginRight:"8px"}}),"Expiry Date:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:(e=>{if(!e)return null;return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})(t.expiryDate)})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,d.jsx)("span",{children:t.distance||"Distance N/A"})]}),(0,d.jsxs)("div",{className:"product-specs",children:[(0,d.jsx)("h3",{children:"Specifications"}),(0,d.jsxs)("div",{className:"spec-grid",children:[(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Material"}),(0,d.jsx)("span",{children:t.material||"N/A"})]}),(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Dimensions"}),(0,d.jsx)("span",{children:t.dimensions||"N/A"})]}),(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Color"}),(0,d.jsx)("span",{children:t.color||"N/A"})]})]})]}),(0,d.jsxs)("div",{className:"product-actions",children:[h?(0,d.jsx)("button",{onClick:()=>o("cart"),className:"btn go-to-cart",children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn",onClick:()=>a(t),children:"Add to Cart"}),(0,d.jsx)("button",{className:"wishlist-heart-btn ".concat(m?"active":""),title:"Add to Wishlist",onClick:()=>s(t),children:(0,d.jsx)("i",{className:m?"fas fa-heart":"far fa-heart"})})]})]})]}),(0,d.jsxs)("div",{className:"related-products-section",children:[(0,d.jsx)("h2",{children:"Related Products"}),(0,d.jsx)("div",{className:"related-product-grid",children:f.map(e=>(0,d.jsxs)("div",{className:"related-product-card",onClick:()=>l(e),style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:c(e.image),alt:e.name,onError:e=>e.target.src="https://via.placeholder.com/200x150?text=No+Img"}),(0,d.jsxs)("div",{className:"related-product-info",children:[(0,d.jsx)("h4",{children:e.name}),(0,d.jsx)("p",{style:{fontSize:"14px",color:"var(--gray)"},children:e.vendor}),(0,d.jsxs)("div",{className:"product-price",style:{fontSize:"18px",marginTop:"10px"},children:["\u20b9",e.price.toLocaleString()]})]})]},e.id))})]})]}):(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("h1",{children:"Product not found"}),(0,d.jsx)("a",{href:"#homefurniture",onClick:e=>{e.preventDefault(),o("homefurniture")},className:"back-link",children:"\u2190 Back to Home Furniture"})]})},$e=[{id:201,name:"Leather Handbag",price:2999,vendor:"Style Trends",image:"Leather Handbag.jpg",material:"Genuine Leather",color:"Brown",capacity:"15L",features:"Multiple compartments, adjustable strap",otherImages:["Leather Handbag1.jpg","Leather Handbag2.jpg","Leather Handbag3.jpg"],lat:17.4486,lon:78.3908,category:"Bags"},{id:202,name:"Backpack",price:1999,vendor:"Travel Gear",image:"Backpack.jpg",material:"Nylon",color:"Black",capacity:"30L",features:"Laptop sleeve, water-resistant",otherImages:["Backpack1.jpg","Backpack2.jpg","Backpack3.jpg"],lat:17.4512,lon:78.3855,category:"Bags"},{id:203,name:"Travel Duffel Bag",price:3499,vendor:"Adventure Outfitters",image:"Travel Duffel Bag.jpg",material:"Canvas",color:"Olive Green",capacity:"50L",features:"Spacious main compartment, shoe pocket",otherImages:["Travel Duffel Bag1.jpeg","Travel Duffel Bag2.jpg","Travel Duffel Bag3.jpg"],lat:17.4421,lon:78.3882,category:"Bags"},{id:204,name:"Tote Bag",price:1499,vendor:"Style Trends",image:"Tote Bag.jpg",material:"Canvas",color:"Beige",capacity:"20L",features:"Lightweight, foldable",otherImages:["Tote Bag1.jpg","Tote Bag2.jpeg","Tote Bag3.jpg"],lat:17.455,lon:78.392,category:"Bags"},{id:205,name:"Laptop Bag",price:2499,vendor:"Tech Carry",image:"Laptop Bag.jpg",material:"Polyester",color:"Grey",capacity:"18L",features:"Padded laptop compartment, USB charging port",otherImages:["Laptop Bag1.jpg","Laptop Bag2.jpeg","Laptop Bag3.jpeg"],lat:17.4399,lon:78.4421,category:"Bags"},{id:206,name:"Clutch Purse",price:999,vendor:"Fashion Hub",image:"Clutch Purse.jpg",material:"Faux Leather",color:"Red",capacity:"2L",features:"Detachable chain strap, elegant design",otherImages:["Clutch Purse1.jpg","Clutch Purse2.jpg","Clutch Purse3.jpg"],lat:17.4455,lon:78.38,category:"Bags"},{id:207,name:"Gym Bag",price:1799,vendor:"Adventure Outfitters",image:"Gym Bag.jpg",material:"Polyester",color:"Blue",capacity:"25L",features:"Separate wet/dry compartments",otherImages:["Gym Bag1.jpg","Gym Bag2.jpg","Gym Bag3.jpg"],lat:17.448,lon:78.389,category:"Bags"},{id:208,name:"Crossbody Bag",price:1299,vendor:"Style Trends",image:"Crossbody Bag.jpg",material:"PU Leather",color:"Tan",capacity:"5L",features:"Compact, multiple pockets",otherImages:["Crossbody Bag1.jpg","Crossbody Bag2.jpg","Crossbody Bag3.jpg"],lat:17.452,lon:78.387,category:"Bags"},{id:209,name:"Travel Backpack",price:3999,vendor:"Travel Gear",image:"Travel Backpack.jpg",material:"Durable Polyester",color:"Dark Blue",capacity:"45L",features:"Expandable, anti-theft design",otherImages:["BackpackTravel1.jpg","BackpackTravel2.jpg","BackpackTravel3.jpg"],lat:17.44,lon:78.385,category:"Bags"},{id:210,name:"Designer Handbag",price:4999,vendor:"Fashion Hub",image:"Designer Handbag.jpg",material:"Premium Leather",color:"Black",capacity:"12L",features:"Luxury hardware, designer logo",otherImages:["Designer Handbag1.jpg","Designer Handbag2.jpeg","Designer Handbag3.jpeg"],lat:17.449,lon:78.395,category:"Bags"},{id:211,name:"Sling Bag",price:1599,vendor:"Style Trends",image:"Sling Bag.jpg",material:"Canvas",color:"Grey",capacity:"8L",features:"Adjustable strap, front zip pocket",otherImages:["Sling Bag1.jpg","Sling Bag2.jpeg","Sling Bag3.jpeg"],lat:17.455,lon:78.392,category:"Bags"},{id:212,name:"Luggage Set",price:7999,vendor:"Adventure Outfitters",image:"Luggage Set.jpg",material:"ABS Hard-shell",color:"Silver",capacity:"3-piece set",features:"Spinner wheels, TSA lock",otherImages:["Luggage Set1.jpeg","Luggage Set2.jpeg","Luggage Set3.jpeg"],lat:17.443,lon:78.386,category:"Bags"},{id:213,name:"Wallet",price:799,vendor:"Fashion Hub",image:"Wallet.jpg",material:"Leather",color:"Black",capacity:"N/A",features:"RFID blocking, multiple card slots",otherImages:["Wallet1.jpeg","Wallet2.jpeg","Wallet3.jpeg"],lat:17.45,lon:78.384,category:"Bags"},{id:214,name:"Messenger Bag",price:2199,vendor:"Tech Carry",image:"Messenger Bag.jpg",material:"Canvas",color:"Khaki",capacity:"15L",features:"Fits 15-inch laptop, vintage look",otherImages:["Messenger Bag1.jpeg","Messenger Bag2.jpeg","Messenger Bag3.jpeg"],lat:17.447,lon:78.391,category:"Bags"},{id:215,name:"Trolley Bag",price:5999,vendor:"Travel Gear",image:"Trolley Bag.jpg",material:"Polycarbonate",color:"Blue",capacity:"60L",features:"Lightweight, 360-degree wheels",otherImages:["Trolley Bag1.jpg","Trolley Bag2.jpg","Trolley Bag3.jpg"],lat:17.44,lon:78.385,category:"Bags"}],Xe=e=>{let{product:t,onAddToCart:a,onToggleWishlist:s,cartItems:n,wishlistItems:i,navigateTo:o,onViewProduct:l}=e;const c=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.includes("-")&&/^\d+-\w+\./.test(e)?"http://localhost:5000/uploads/".concat(e):"/IMAGES/".concat(e):"https://via.placeholder.com/200x150?text=No+Image",[u,p]=(0,r.useState)("");(0,r.useEffect)(()=>{t&&(p(c(t.image)),console.log("\ud83d\udd0d BagProductDetail - Rendering product:",t.name),console.log("\ud83d\udee1\ufe0f Warranty:",t.warranty),console.log("\ud83d\udcc5 Expiry:",t.expiryDate)),window.scrollTo(0,0)},[t]);const h=(0,r.useMemo)(()=>n&&n.some(e=>(e._id||e.id)===(t._id||t.id)),[n,t]),m=(0,r.useMemo)(()=>i.some(e=>(e._id||e.id)===(t._id||t.id)),[i,t]),g=(0,r.useMemo)(()=>{if(!t)return[];const e=[c(t.image)];return t.otherImages&&t.otherImages.length>0?e.concat(t.otherImages.map(e=>c(e))):e},[t]),f=(0,r.useMemo)(()=>t?$e.filter(e=>e.id!==t.id).sort(()=>.5-Math.random()).slice(0,4):[],[t]);return t?(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("a",{href:"#bags",onClick:e=>{e.preventDefault(),o("bag")},className:"back-link",children:"\u2190 Back to Bags"}),(0,d.jsxs)("div",{className:"product-detail-container",children:[(0,d.jsxs)("div",{className:"product-images",children:[(0,d.jsx)("div",{className:"main-image",children:(0,d.jsx)("img",{src:u,alt:t.name})}),(0,d.jsx)("div",{className:"thumbnail-track",children:g.map((e,a)=>(0,d.jsx)("img",{src:e,alt:"".concat(t.name," thumbnail ").concat(a+1),className:"thumbnail ".concat(u===e?"active":""),onClick:()=>p(e),onError:e=>e.target.src="https://via.placeholder.com/80x80?text=No+Img"},a))})]}),(0,d.jsxs)("div",{className:"product-details",children:[(0,d.jsx)("h1",{children:t.name}),(0,d.jsxs)("p",{className:"product-vendor",children:["by ",t.vendor]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-description",children:[(0,d.jsx)("h3",{children:"Description"}),(0,d.jsx)("p",{children:t.description||"A stylish and durable bag, perfect for your everyday needs. Made with high-quality ".concat(t.material,".")})]}),t.warranty&&(0,d.jsxs)("div",{className:"product-warranty",style:{marginTop:"15px",padding:"12px",backgroundColor:"#e8f5e9",borderLeft:"4px solid #4CAF50",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#2e7d32"},children:[(0,d.jsx)("i",{className:"fas fa-shield-alt",style:{marginRight:"8px"}}),"Warranty:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:t.warranty})]}),t.expiryDate&&(0,d.jsxs)("div",{className:"product-expiry",style:{marginTop:"15px",padding:"12px",backgroundColor:"#fff3e0",borderLeft:"4px solid #ff9800",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#e65100"},children:[(0,d.jsx)("i",{className:"fas fa-calendar-alt",style:{marginRight:"8px"}}),"Expiry Date:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:(e=>{if(!e)return null;return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})(t.expiryDate)})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,d.jsx)("span",{children:t.distance||"Distance N/A"})]}),(0,d.jsxs)("div",{className:"product-specs",children:[(0,d.jsx)("h3",{children:"Specifications"}),(0,d.jsxs)("div",{className:"spec-grid",children:[(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Material"}),(0,d.jsx)("span",{children:t.material||"N/A"})]}),(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Color"}),(0,d.jsx)("span",{children:t.color||"N/A"})]})]})]}),(0,d.jsxs)("div",{className:"product-actions",children:[h?(0,d.jsx)("button",{onClick:()=>o("cart"),className:"btn go-to-cart",children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn",onClick:()=>a(t),children:"Add to Cart"}),(0,d.jsx)("button",{className:"wishlist-heart-btn ".concat(m?"active":""),title:"Add to Wishlist",onClick:()=>s(t),children:(0,d.jsx)("i",{className:m?"fas fa-heart":"far fa-heart"})})]})]})]}),(0,d.jsxs)("div",{className:"related-products-section",children:[(0,d.jsx)("h2",{children:"Related Products"}),(0,d.jsx)("div",{className:"related-product-grid",children:f.map(e=>(0,d.jsxs)("div",{className:"related-product-card",onClick:()=>l(e),style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:c(e.image),alt:e.name,onError:e=>e.target.src="https://via.placeholder.com/200x150?text=No+Img"}),(0,d.jsxs)("div",{className:"related-product-info",children:[(0,d.jsx)("h4",{children:e.name}),(0,d.jsx)("p",{style:{fontSize:"14px",color:"var(--gray)"},children:e.vendor}),(0,d.jsxs)("div",{className:"product-price",style:{fontSize:"18px",marginTop:"10px"},children:["\u20b9",e.price.toLocaleString()]})]})]},e.id))})]})]}):(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("h1",{children:"Product not found"}),(0,d.jsx)("a",{href:"#bags",onClick:e=>{e.preventDefault(),o("bag")},className:"back-link",children:"\u2190 Back to Bags"})]})},Ze=[{id:1301,name:"Non-Stick Cookware Set",price:3999,vendor:"Kitchen Essentials",image:"nonstick.jpg",material:"Aluminum, Teflon Coating",color:"Black",capacity:"5-piece set",features:"Induction compatible, PFOA-free",otherImages:["nonstick1.jpeg","nonstick2.jpeg","nonstick3.jpeg"],lat:17.4486,lon:78.3908,category:"Kitchen Products"},{id:1302,name:"Stainless Steel Knife Set",price:1499,vendor:"Cookware Hub",image:"Stainless Steel Knife Set.jpg",material:"Stainless Steel",color:"Silver",capacity:"6-piece set",features:"Ergonomic handles, includes sharpener",otherImages:["Stainless Steel Knife Set1.jpeg","Stainless Steel Knife Set2.jpeg","Stainless Steel Knife Set3.jpeg"],lat:17.4512,lon:78.3855,category:"Kitchen Products"},{id:1303,name:"Air Fryer",price:7999,vendor:"Tech Kitchen",image:"Air Fryer.jpg",material:"Plastic, Metal",color:"Black",capacity:"4.1 Liters",features:"Rapid Air technology, digital display",otherImages:["Air Fryer1.jpeg","Air Fryer2.jpeg","Air Fryer3.jpeg"],lat:17.4421,lon:78.3882,category:"Kitchen Products"},{id:1304,name:"Blender",price:3499,vendor:"Cookware Hub",image:"Blender.jpg",material:"Plastic, Glass",color:"White",capacity:"1.5 Liters",features:"Multiple speed settings, powerful motor",otherImages:["Blender1.jpeg","Blender2.jpeg","Blender3.jpeg"],lat:17.455,lon:78.392,category:"Kitchen Products"},{id:1305,name:"Microwave Oven",price:9999,vendor:"Tech Kitchen",image:"Microwave Oven.jpg",material:"Metal, Glass",color:"Silver",capacity:"28 Liters",features:"Convection, grill, and microwave modes",otherImages:["Microwave Oven1.jpeg","Microwave Oven2.jpeg","Microwave Oven3.jpeg"],lat:17.4399,lon:78.4421,category:"Kitchen Products"},{id:1306,name:"Mixing Bowl Set",price:1299,vendor:"Cookware Hub",image:"Mixing Bowl Set.jpg",material:"Stainless Steel",color:"Silver",capacity:"3-piece set",features:"Nesting design for easy storage",otherImages:["Mixing Bowl Set1.jpeg","Mixing Bowl Set2.jpeg","Mixing Bowl Set3.jpeg"],lat:17.4455,lon:78.38,category:"Kitchen Products"},{id:1307,name:"Electric Kettle",price:1999,vendor:"Home Appliances",image:"Electric Kettle.jpg",material:"Stainless Steel",color:"Silver",capacity:"1.7 Liters",features:"Auto shut-off, boil-dry protection",otherImages:["Electric Kettle1.jpeg","Electric Kettle2.jpeg","Electric Kettle3.jpeg"],lat:17.448,lon:78.389,category:"Kitchen Products"},{id:1308,name:"Cutlery Set",price:999,vendor:"Home Depot",image:"Cutlery Set.jpg",material:"Stainless Steel",color:"Silver",capacity:"24-piece set",features:"Elegant design, rust-resistant",otherImages:["Cutlery Set1.jpeg","Cutlery Set2.jpeg","Cutlery Set3.jpeg"],lat:17.452,lon:78.387,category:"Kitchen Products"},{id:1309,name:"Food Processor",price:5999,vendor:"Tech Kitchen",image:"Food Processor.jpg",material:"Plastic, Metal",color:"Black",capacity:"2.1 Liters",features:"Multiple attachments for chopping, slicing, etc.",otherImages:["Food Processor1.jpeg","Food Processor2.jpeg","Food Processor3.jpeg"],lat:17.44,lon:78.385,category:"Kitchen Products"},{id:1310,name:"Toaster",price:2499,vendor:"Home Appliances",image:"Toaster.jpg",material:"Stainless Steel",color:"Silver",capacity:"2-slice",features:"Variable browning control, crumb tray",otherImages:["Toaster1.jpeg","Toaster2.jpeg","Toaster3.jpeg"],lat:17.449,lon:78.395,category:"Kitchen Products"},{id:1311,name:"Glassware Set",price:1799,vendor:"Home Depot",image:"Glassware Set.jpg",material:"Glass",color:"Transparent",capacity:"12-piece set",features:"Dishwasher safe, lead-free",otherImages:["Glassware Set1.jpeg","Glassware Set2.jpeg","Glassware Set3.jpeg"],lat:17.455,lon:78.392,category:"Kitchen Products"},{id:1312,name:"Pressure Cooker",price:2999,vendor:"Tech Kitchen",image:"Pressure Cooker.jpg",material:"Stainless Steel",color:"Silver",capacity:"5 Liters",features:"Induction base, safety valve",otherImages:["Pressure Cooker1.jpeg","Pressure Cooker2.jpeg","Pressure Cooker3.jpeg"],lat:17.443,lon:78.386,category:"Kitchen Products"},{id:1313,name:"Silicone Baking Mat",price:799,vendor:"Kitchen Essentials",image:"Silicone Baking Mat.jpg",material:"Silicone",color:"Red",capacity:"16.5 x 11.6 inches",features:"Non-stick, reusable",otherImages:["Silicone Baking Mat1.jpeg","Silicone Baking Mat2.jpeg","Silicone Baking Mat3.jpeg"],lat:17.45,lon:78.384,category:"Kitchen Products"},{id:1314,name:"Coffee Maker",price:4999,vendor:"Tech Kitchen",image:"Coffee Maker.jpg",material:"Plastic, Glass",color:"Black",capacity:"12-cup",features:"Programmable, keep warm function",otherImages:["Coffee Maker1.jpeg","Coffee Maker2.jpeg","Coffee Maker3.jpeg"],lat:17.447,lon:78.391,category:"Kitchen Products"},{id:1315,name:"Ceramic Dinner Set",price:3999,vendor:"Home Depot",image:"Ceramic Dinner Set.jpg",material:"Ceramic",color:"White/Blue",capacity:"12-piece set",features:"Microwave and dishwasher safe",otherImages:["Ceramic Dinner Set1.jpeg","Ceramic Dinner Set2.jpeg","Ceramic Dinner Set3.jpeg"],lat:17.44,lon:78.385,category:"Kitchen Products"}],et=e=>{let{product:t,onAddToCart:a,onToggleWishlist:s,cartItems:n,wishlistItems:i,navigateTo:o,onViewProduct:l}=e;const c=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.includes("-")&&/^\d+-\w+\./.test(e)?"http://localhost:5000/uploads/".concat(e):"/IMAGES/".concat(e):"https://via.placeholder.com/200x150?text=No+Image",[u,p]=(0,r.useState)("");(0,r.useEffect)(()=>{t&&(p(c(t.image)),console.log("\ud83d\udd0d KitchenProductDetail - Rendering product:",t.name),console.log("\ud83d\udee1\ufe0f Warranty:",t.warranty),console.log("\ud83d\udcc5 Expiry:",t.expiryDate)),window.scrollTo(0,0)},[t]);const h=(0,r.useMemo)(()=>n&&n.some(e=>(e._id||e.id)===(t._id||t.id)),[n,t]),m=(0,r.useMemo)(()=>i.some(e=>(e._id||e.id)===(t._id||t.id)),[i,t]),g=(0,r.useMemo)(()=>{if(!t)return[];const e=[c(t.image)];return t.otherImages&&t.otherImages.length>0?e.concat(t.otherImages.map(e=>c(e))):e},[t]),f=(0,r.useMemo)(()=>t?Ze.filter(e=>e.id!==t.id).sort(()=>.5-Math.random()).slice(0,4):[],[t]);return t?(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("a",{href:"#kitchenproducts",onClick:e=>{e.preventDefault(),o("kitchenproduct")},className:"back-link",children:"\u2190 Back to Kitchen Products"}),(0,d.jsxs)("div",{className:"product-detail-container",children:[(0,d.jsxs)("div",{className:"product-images",children:[(0,d.jsx)("div",{className:"main-image",children:(0,d.jsx)("img",{src:u,alt:t.name})}),(0,d.jsx)("div",{className:"thumbnail-track",children:g.map((e,a)=>(0,d.jsx)("img",{src:e,alt:"".concat(t.name," thumbnail ").concat(a+1),className:"thumbnail ".concat(u===e?"active":""),onClick:()=>p(e),onError:e=>e.target.src="https://via.placeholder.com/80x80?text=No+Img"},a))})]}),(0,d.jsxs)("div",{className:"product-details",children:[(0,d.jsx)("h1",{children:t.name}),(0,d.jsxs)("p",{className:"product-vendor",children:["by ",t.vendor]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-description",children:[(0,d.jsx)("h3",{children:"Description"}),(0,d.jsx)("p",{children:t.description||"A high-quality kitchen product to make your cooking experience easier and more enjoyable."})]}),t.warranty&&(0,d.jsxs)("div",{className:"product-warranty",style:{marginTop:"15px",padding:"12px",backgroundColor:"#e8f5e9",borderLeft:"4px solid #4CAF50",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#2e7d32"},children:[(0,d.jsx)("i",{className:"fas fa-shield-alt",style:{marginRight:"8px"}}),"Warranty:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:t.warranty})]}),t.expiryDate&&(0,d.jsxs)("div",{className:"product-expiry",style:{marginTop:"15px",padding:"12px",backgroundColor:"#fff3e0",borderLeft:"4px solid #ff9800",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#e65100"},children:[(0,d.jsx)("i",{className:"fas fa-calendar-alt",style:{marginRight:"8px"}}),"Expiry Date:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:(e=>{if(!e)return null;return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})(t.expiryDate)})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,d.jsx)("span",{children:t.distance||"Distance N/A"})]}),(0,d.jsxs)("div",{className:"product-specs",children:[(0,d.jsx)("h3",{children:"Specifications"}),(0,d.jsxs)("div",{className:"spec-grid",children:[(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Material"}),(0,d.jsx)("span",{children:t.material||"N/A"})]}),(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Color"}),(0,d.jsx)("span",{children:t.color||"N/A"})]})]})]}),(0,d.jsxs)("div",{className:"product-actions",children:[h?(0,d.jsx)("button",{onClick:()=>o("cart"),className:"btn go-to-cart",children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn",onClick:()=>a(t),children:"Add to Cart"}),(0,d.jsx)("button",{className:"wishlist-heart-btn ".concat(m?"active":""),title:"Add to Wishlist",onClick:()=>s(t),children:(0,d.jsx)("i",{className:m?"fas fa-heart":"far fa-heart"})})]})]})]}),(0,d.jsxs)("div",{className:"related-products-section",children:[(0,d.jsx)("h2",{children:"Related Products"}),(0,d.jsx)("div",{className:"related-product-grid",children:f.map(e=>(0,d.jsxs)("div",{className:"related-product-card",onClick:()=>l(e),style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:c(e.image),alt:e.name,onError:e=>e.target.src="https://via.placeholder.com/200x150?text=No+Img"}),(0,d.jsxs)("div",{className:"related-product-info",children:[(0,d.jsx)("h4",{children:e.name}),(0,d.jsx)("p",{style:{fontSize:"14px",color:"var(--gray)"},children:e.vendor}),(0,d.jsxs)("div",{className:"product-price",style:{fontSize:"18px",marginTop:"10px"},children:["\u20b9",e.price.toLocaleString()]})]})]},e.id))})]})]}):(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("h1",{children:"Product not found"}),(0,d.jsx)("a",{href:"#kitchenproducts",onClick:e=>{e.preventDefault(),o("kitchenproduct")},className:"back-link",children:"\u2190 Back to Kitchen Products"})]})},tt=e=>{let{product:t,onAddToCart:a,onToggleWishlist:s,cartItems:n,wishlistItems:i,navigateTo:o,onViewProduct:l}=e;const c=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.includes("-")&&/^\d+-\w+\./.test(e)?"http://localhost:5000/uploads/".concat(e):"/IMAGES/".concat(e):"https://via.placeholder.com/200x150?text=No+Image",[u,p]=(0,r.useState)("");(0,r.useEffect)(()=>{t&&(p(c(t.image)),console.log("\ud83d\udd0d OrganicProductDetail - Rendering product:",t.name),console.log("\ud83d\udee1\ufe0f Warranty:",t.warranty),console.log("\ud83d\udcc5 Expiry:",t.expiryDate)),window.scrollTo(0,0)},[t]);const h=(0,r.useMemo)(()=>n&&n.some(e=>(e._id||e.id)===(t._id||t.id)),[n,t]),m=(0,r.useMemo)(()=>i.some(e=>(e._id||e.id)===(t._id||t.id)),[i,t]),g=(0,r.useMemo)(()=>{if(!t)return[];const e=[c(t.image)];return t.otherImages&&t.otherImages.length>0?e.concat(t.otherImages.map(e=>c(e))):e},[t]),[f,x]=(0,r.useState)([]);return(0,r.useEffect)(()=>{t&&(async()=>{try{const e=await fetch("http://localhost:5000/api/products/category/Organic%20Veggies%26Fruits");if(!e.ok)throw new Error("Failed to fetch related products");const a=(await e.json()).filter(e=>e._id!==t._id).sort(()=>.5-Math.random()).slice(0,4);x(a)}catch(e){console.error("Error fetching related products:",e),x([])}})()},[t]),t?(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("a",{href:"#organic",onClick:e=>{e.preventDefault(),o("organic")},className:"back-link",children:"\u2190 Back to Organic Products"}),(0,d.jsxs)("div",{className:"product-detail-container",children:[(0,d.jsxs)("div",{className:"product-images",children:[(0,d.jsx)("div",{className:"main-image",children:(0,d.jsx)("img",{src:u,alt:t.name,onError:e=>e.currentTarget.src="https://via.placeholder.com/400x400?text=No+Image"})}),(0,d.jsx)("div",{className:"thumbnail-track",children:g.map((e,a)=>(0,d.jsx)("img",{src:e,alt:"".concat(t.name," thumbnail ").concat(a+1),className:"thumbnail ".concat(u===e?"active":""),onClick:()=>p(e),onError:e=>e.currentTarget.src="https://via.placeholder.com/80x80?text=No"},a))})]}),(0,d.jsxs)("div",{className:"product-details",children:[(0,d.jsx)("h1",{children:t.name}),(0,d.jsxs)("p",{className:"product-vendor",children:["by ",t.vendor]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-description",children:[(0,d.jsx)("h3",{children:"Description"}),(0,d.jsx)("p",{children:t.description||"Fresh and organic, straight from the farm. This high-quality produce is perfect for a healthy lifestyle."})]}),t.warranty&&(0,d.jsxs)("div",{className:"product-warranty",style:{marginTop:"15px",padding:"12px",backgroundColor:"#e8f5e9",borderLeft:"4px solid #4CAF50",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#2e7d32"},children:[(0,d.jsx)("i",{className:"fas fa-shield-alt",style:{marginRight:"8px"}}),"Warranty:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:t.warranty})]}),t.expiryDate&&(0,d.jsxs)("div",{className:"product-expiry",style:{marginTop:"15px",padding:"12px",backgroundColor:"#fff3e0",borderLeft:"4px solid #ff9800",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#e65100"},children:[(0,d.jsx)("i",{className:"fas fa-calendar-alt",style:{marginRight:"8px"}}),"Expiry Date:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:(e=>{if(!e)return null;return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})(t.expiryDate)})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,d.jsx)("span",{children:t.distance||"Distance N/A"})]}),(0,d.jsxs)("div",{className:"product-actions",children:[h?(0,d.jsx)("button",{className:"btn go-to-cart",onClick:()=>o("cart"),children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn",onClick:()=>a(t),children:"Add to Cart"}),(0,d.jsx)("button",{className:"wishlist-heart-btn ".concat(m?"active":""),title:"Add to Wishlist",onClick:()=>s(t),children:(0,d.jsx)("i",{className:m?"fas fa-heart":"far fa-heart"})})]})]})]}),(0,d.jsxs)("div",{className:"related-products-section",children:[(0,d.jsx)("h2",{children:"Related Products"}),(0,d.jsx)("div",{className:"related-product-grid",children:f.map(e=>(0,d.jsxs)("div",{className:"related-product-card",onClick:()=>l(e),style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:c(e.image),alt:e.name,onError:e=>e.currentTarget.src="https://via.placeholder.com/200x200?text=No+Image"}),(0,d.jsxs)("div",{className:"related-product-info",children:[(0,d.jsx)("h4",{children:e.name}),(0,d.jsx)("p",{style:{fontSize:"14px",color:"var(--gray)"},children:e.vendor}),(0,d.jsxs)("div",{className:"product-price",style:{fontSize:"18px",marginTop:"10px"},children:["\u20b9",e.price.toLocaleString()]})]})]},e.id))})]})]}):(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("h1",{children:"Product not found"}),(0,d.jsx)("a",{href:"#organic",onClick:e=>{e.preventDefault(),o("organic")},className:"back-link",children:"\u2190 Back to Organic Products"})]})},at=e=>{let{product:t,onAddToCart:a,onToggleWishlist:s,cartItems:n,wishlistItems:i,navigateTo:o,onViewProduct:l}=e;const c=e=>{if(!e)return console.log("No image provided for product"),"https://via.placeholder.com/200x150?text=No+Image";if(e.startsWith("http://")||e.startsWith("https://"))return console.log("Using full URL image:",e),e;if(e.includes("-")&&/^\d+-\w+\./.test(e)){const t="http://localhost:5000/uploads/".concat(e);return console.log("Using uploaded image path:",t),t}const t="/IMAGES/".concat(e);return console.log("Using static image path:",t),t},[u,p]=(0,r.useState)("");(0,r.useEffect)(()=>{t&&p(c(t.image)),window.scrollTo(0,0)},[t]);const h=(0,r.useMemo)(()=>n&&n.some(e=>(e._id||e.id)===(t._id||t.id)),[n,t]),m=(0,r.useMemo)(()=>i.some(e=>(e._id||e.id)===(t._id||t.id)),[i,t]),g=(0,r.useMemo)(()=>{if(!t)return[];const e=[c(t.image)];return t.otherImages&&t.otherImages.length>0?e.concat(t.otherImages.map(e=>c(e))):e},[t]),[f,x]=(0,r.useState)([]);return(0,r.useEffect)(()=>{t&&(async()=>{try{const e=await fetch("http://localhost:5000/api/products/category/Sports%20%26%20Fitness");if(!e.ok)throw new Error("Failed to fetch related products");const a=(await e.json()).filter(e=>e._id!==t._id).sort(()=>.5-Math.random()).slice(0,4);x(a)}catch(e){console.error("Error fetching related products:",e),x([])}})()},[t]),t?(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("a",{href:"#sports-fitness",onClick:e=>{e.preventDefault(),o("sports-fitness")},className:"back-link",children:"\u2190 Back to Sports & Fitness"}),(0,d.jsxs)("div",{className:"product-detail-container",children:[(0,d.jsxs)("div",{className:"product-images",children:[(0,d.jsx)("div",{className:"main-image",children:(0,d.jsx)("img",{src:u,alt:t.name,onError:e=>e.currentTarget.src="https://via.placeholder.com/400x400?text=No+Image"})}),(0,d.jsx)("div",{className:"thumbnail-track",children:g.map((e,a)=>(0,d.jsx)("img",{src:e,alt:"".concat(t.name," thumbnail ").concat(a+1),className:"thumbnail ".concat(u===e?"active":""),onClick:()=>p(e),onError:e=>e.currentTarget.src="https://via.placeholder.com/80x80?text=No"},a))})]}),(0,d.jsxs)("div",{className:"product-details",children:[(0,d.jsx)("h1",{children:t.name}),(0,d.jsxs)("p",{className:"product-vendor",children:["by ",t.vendor]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-description",children:[(0,d.jsx)("h3",{children:"Description"}),(0,d.jsx)("p",{children:"High-quality gear to help you achieve your fitness goals. Durable, reliable, and designed for performance."})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,d.jsx)("span",{children:t.distance||"Distance N/A"})]}),(0,d.jsxs)("div",{className:"product-specs",children:[(0,d.jsx)("h3",{children:"Details"}),(0,d.jsxs)("div",{className:"spec-grid",children:[(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Brand"}),(0,d.jsx)("span",{children:t.brand||"N/A"})]}),(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Type"}),(0,d.jsx)("span",{children:t.type||"N/A"})]}),(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Best For"}),(0,d.jsx)("span",{children:t.use||"N/A"})]})]})]}),(0,d.jsxs)("div",{className:"product-actions",children:[h?(0,d.jsx)("button",{className:"btn go-to-cart",onClick:()=>o("cart"),children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn",onClick:()=>a(t),children:"Add to Cart"}),(0,d.jsx)("button",{className:"wishlist-heart-btn ".concat(m?"active":""),title:"Add to Wishlist",onClick:()=>s(t),children:(0,d.jsx)("i",{className:m?"fas fa-heart":"far fa-heart"})})]})]})]}),(0,d.jsxs)("div",{className:"related-products-section",children:[(0,d.jsx)("h2",{children:"Related Products"}),(0,d.jsx)("div",{className:"related-product-grid",children:f.map(e=>(0,d.jsxs)("div",{className:"related-product-card",onClick:()=>l(e),style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:c(e.image),alt:e.name,onError:e=>e.currentTarget.src="https://via.placeholder.com/200x200?text=No+Image"}),(0,d.jsxs)("div",{className:"related-product-info",children:[(0,d.jsx)("h4",{children:e.name}),(0,d.jsx)("p",{style:{fontSize:"14px",color:"var(--gray)"},children:e.vendor}),(0,d.jsxs)("div",{className:"product-price",style:{fontSize:"18px",marginTop:"10px"},children:["\u20b9",e.price.toLocaleString()]})]})]},e.id))})]})]}):(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("h1",{children:"Product not found"}),(0,d.jsx)("a",{href:"#sports-fitness",onClick:e=>{e.preventDefault(),o("sports-fitness")},className:"back-link",children:"\u2190 Back to Sports & Fitness"})]})},rt=[{id:2001,name:"Mens Minimalist Watch",price:4999,vendor:"TimeTrend",image:"Mens Minimalist Watch.jpg",type:"Analog",strapMaterial:"Leather",caseMaterial:"Stainless Steel",waterResistance:"3 ATM",otherImages:["Mens Minimalist Watch1.jpg","Mens Minimalist Watch2.jpg","Mens Minimalist Watch3.jpg"],lat:17.4486,lon:78.3908,category:"Watches",subcategory:"Men's Watches"},{id:2002,name:"Hybrid Smartwatch",price:7999,vendor:"TechTime",image:"Hybrid Smartwatch.jpg",type:"Hybrid",strapMaterial:"Silicone",caseMaterial:"Aluminum",waterResistance:"5 ATM",otherImages:["Hybrid Smartwatch1.jpg","Hybrid Smartwatch2.jpg","Hybrid Smartwatch3.jpg"],lat:17.4512,lon:78.3855,category:"Watches",subcategory:"Men's Watches"},{id:2003,name:"Sports Watch",price:3499,vendor:"ActiveWear",image:"Sports Watch.jpg",type:"Digital",strapMaterial:"Rubber",caseMaterial:"Resin",waterResistance:"10 ATM",otherImages:["Sports Watch1.jpg","Sports Watch2.jpg","Sports Watch3.jpg"],lat:17.4421,lon:78.3882,category:"Watches",subcategory:"Men's Watches"},{id:2004,name:"Gold Watch",price:12999,vendor:"EliteTime",image:"Gold Watch.jpg",type:"Analog",strapMaterial:"Stainless Steel",caseMaterial:"Gold Plated",waterResistance:"5 ATM",otherImages:["Gold Watch1.jpg","Gold Watch2.jpg","Gold Watch3.jpg"],lat:17.455,lon:78.392,category:"Watches",subcategory:"Men's Watches"},{id:2005,name:"Fitness Tracker Watch",price:5999,vendor:"FitZone",image:"Fitness Tracker Watch.jpg",type:"Smartwatch",strapMaterial:"Silicone",caseMaterial:"Plastic",waterResistance:"5 ATM",otherImages:["Fitness Tracker Watch1.jpg","Fitness Tracker Watch2.jpg","Fitness Tracker Watch3.jpg"],lat:17.4399,lon:78.4421,category:"Watches",subcategory:"Men's Watches"},{id:2006,name:"Pilot Chronograph",price:6499,vendor:"AeroTime",image:"Pilot Chronograph.jpg",type:"Analog",strapMaterial:"Leather",caseMaterial:"Stainless Steel",waterResistance:"10 ATM",otherImages:["Pilot Chronograph1.jpg","Pilot Chronograph2.jpg","Pilot Chronograph3.jpg"],lat:17.4455,lon:78.38,category:"Watches",subcategory:"Men's Watches"},{id:2007,name:"Dive Watch",price:8499,vendor:"OceanTime",image:"Dive Watch.jpg",type:"Analog",strapMaterial:"Rubber",caseMaterial:"Stainless Steel",waterResistance:"20 ATM",otherImages:["Dive Watch1.jpg","Dive Watch2.jpg","Dive Watch3.jpg"],lat:17.448,lon:78.389,category:"Watches",subcategory:"Men's Watches"},{id:2008,name:"Hybrid Smartwatch",price:9999,vendor:"TechTrend",image:"Hybrid Smartwatch.jpg",type:"Hybrid",strapMaterial:"Silicone",caseMaterial:"Titanium",waterResistance:"5 ATM",otherImages:["Hybrid Smartwatch1.jpg","Hybrid Smartwatch2.jpg","Hybrid Smartwatch3.jpg"],lat:17.452,lon:78.387,category:"Watches",subcategory:"Men's Watches"},{id:2009,name:"Rose Watch",price:6999,vendor:"ChicTime",image:"Rose Watch.jpg",type:"Analog",strapMaterial:"Rose Gold Steel",caseMaterial:"Rose Gold Steel",waterResistance:"3 ATM",otherImages:["Rose Watch1.jpg","Rose Watch2.jpg","Rose Watch3.jpg"],lat:17.44,lon:78.385,category:"Watches",subcategory:"Women's Watches"},{id:2010,name:"Crystal Smartwatch",price:8999,vendor:"TechStyle",image:"Crystal Smartwatch.jpg",type:"Smartwatch",strapMaterial:"Silicone",caseMaterial:"Aluminum",waterResistance:"5 ATM",otherImages:["Crystal Smartwatch1.jpg","Crystal Smartwatch2.jpg","Crystal Smartwatch3.jpg"],lat:17.449,lon:78.395,category:"Watches",subcategory:"Women's Watches"},{id:2011,name:"Minimalist Silver Watch",price:4499,vendor:"SimpleTime",image:"Minimalist Silver Watch.jpg",type:"Analog",strapMaterial:"Stainless Steel",caseMaterial:"Stainless Steel",waterResistance:"3 ATM",otherImages:["Minimalist Silver Watch1.jpg","Minimalist Silver Watch2.jpg","Minimalist Silver Watch3.jpg"],lat:17.455,lon:78.392,category:"Watches",subcategory:"Women's Watches"},{id:2012,name:"Diamond Accent Watch",price:14999,vendor:"LuxeTime",image:"Diamond Accent Watch.jpg",type:"Analog",strapMaterial:"Stainless Steel",caseMaterial:"Stainless Steel",waterResistance:"5 ATM",otherImages:["Diamond Accent Watch1.jpg","Diamond Accent Watch2.jpg","Diamond Accent Watch3.jpg"],lat:17.443,lon:78.386,category:"Watches",subcategory:"Women's Watches"},{id:2013,name:"Fitness Band",price:3999,vendor:"FitChic",image:"Fitness Band.jpg",type:"Smartwatch",strapMaterial:"Silicone",caseMaterial:"Plastic",waterResistance:"5 ATM",otherImages:["Fitness Band1.jpg","Fitness Band2.jpg","Fitness Band3.jpg"],lat:17.45,lon:78.384,category:"Watches",subcategory:"Women's Watches"},{id:2014,name:"Pearl Elegance Watch",price:7999,vendor:"GraceTime",image:"Pearl Elegance Watch.jpg",type:"Analog",strapMaterial:"Pearl",caseMaterial:"Stainless Steel",waterResistance:"3 ATM",otherImages:["Pearl Elegance Watch1.jpg","Pearl Elegance Watch2.jpg","Pearl Elegance Watch3.jpg"],lat:17.447,lon:78.391,category:"Watches",subcategory:"Women's Watches"},{id:2015,name:"Rose Quartz Smartwatch",price:10999,vendor:"TechChic",image:"Rose Quartz Smartwatch.jpg",type:"Smartwatch",strapMaterial:"Silicone",caseMaterial:"Aluminum",waterResistance:"5 ATM",otherImages:["Rose Quartz Smartwatch1.jpg","Rose Quartz Smartwatch2.jpg","Rose Quartz Smartwatch3.jpg"],lat:17.44,lon:78.385,category:"Watches",subcategory:"Women's Watches"},{id:2016,name:"Floral Accent Watch",price:5499,vendor:"BloomTime",image:"Floral Accent Watch.jpg",type:"Analog",strapMaterial:"Leather",caseMaterial:"Stainless Steel",waterResistance:"3 ATM",otherImages:["Floral Accent Watch1.jpg","Floral Accent Watch2.jpg","Floral Accent Watch3.jpg"],lat:17.4486,lon:78.3908,category:"Watches",subcategory:"Women's Watches"},{id:2017,name:"Cartoon Watch",price:1499,vendor:"KidsTime",image:"Cartoon Watch.jpg",type:"Digital",strapMaterial:"Rubber",caseMaterial:"Plastic",waterResistance:"1 ATM",otherImages:["Cartoon Watch1.jpg","Cartoon Watch2.jpg","Cartoon Watch3.jpg"],lat:17.4512,lon:78.3855,category:"Watches",subcategory:"Kids' Watches"},{id:2018,name:"Smart Watch",price:2999,vendor:"TechKids",image:"Smart Watch.jpg",type:"Smartwatch",strapMaterial:"Silicone",caseMaterial:"Plastic",waterResistance:"3 ATM",otherImages:["Smart Watch1.jpg","Smart Watch2.jpg","Smart Watch3.jpg"],lat:17.4421,lon:78.3882,category:"Watches",subcategory:"Kids' Watches"},{id:2019,name:"Colorful Digital Watch",price:999,vendor:"FunTime",image:"Colorful Digital Watch.jpg",type:"Digital",strapMaterial:"Silicone",caseMaterial:"Plastic",waterResistance:"1 ATM",otherImages:["Colorful Digital Watch1.jpg","Colorful Digital Watch2.jpg","Colorful Digital Watch3.jpg"],lat:17.455,lon:78.392,category:"Watches",subcategory:"Kids' Watches"},{id:2020,name:"Superhero Watch",price:1999,vendor:"HeroTime",image:"Superhero Watch.jpg",type:"Analog",strapMaterial:"Nylon",caseMaterial:"Plastic",waterResistance:"3 ATM",otherImages:["Superhero Watch1.jpg","Superhero Watch2.jpg","Superhero Watch3.jpg"],lat:17.4399,lon:78.4421,category:"Watches",subcategory:"Kids' Watches"},{id:2021,name:"Learning Watch",price:2499,vendor:"EduTime",image:"Learning Watch.jpg",type:"Digital",strapMaterial:"Silicone",caseMaterial:"Plastic",waterResistance:"1 ATM",otherImages:["Learning Watch1.jpg","Learning Watch2.jpg","Learning Watch3.jpg"],lat:17.4455,lon:78.38,category:"Watches",subcategory:"Kids' Watches"},{id:2022,name:"Animal Print Watch",price:1799,vendor:"WildTime",image:"Animal Print Watch.jpg",type:"Analog",strapMaterial:"Faux Leather",caseMaterial:"Stainless Steel",waterResistance:"3 ATM",otherImages:["Animal Print Watch1.jpg","Animal Print Watch2.jpg","Animal Print Watch3.jpg"],lat:17.448,lon:78.389,category:"Watches",subcategory:"Kids' Watches"},{id:2023,name:"Glow Digital Watch",price:1299,vendor:"BrightTime",image:"Glow Digital Watch.jpg",type:"Digital",strapMaterial:"Silicone",caseMaterial:"Plastic",waterResistance:"1 ATM",otherImages:["Glow Digital Watch1.jpg","Glow Digital Watch2.jpg","Glow Digital Watch3.jpg"],lat:17.452,lon:78.387,category:"Watches",subcategory:"Kids' Watches"},{id:2024,name:"Adventure Smartwatch",price:3499,vendor:"ExploreTime",image:"Adventure Smartwatch.jpg",type:"Smartwatch",strapMaterial:"Nylon",caseMaterial:"Resin",waterResistance:"10 ATM",otherImages:["Adventure Smartwatch1.jpg","Adventure Smartwatch2.jpg","Adventure Smartwatch3.jpg"],lat:17.44,lon:78.385,category:"Watches",subcategory:"Kids' Watches"}],st=e=>{let{product:t,onAddToCart:a,onToggleWishlist:s,cartItems:n,wishlistItems:i,navigateTo:o,onViewProduct:l}=e;const c=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.includes("-")&&/^\d+-\w+\./.test(e)?"http://localhost:5000/uploads/".concat(e):"/IMAGES/".concat(e):"https://via.placeholder.com/200x150?text=No+Image",[u,p]=(0,r.useState)("");(0,r.useEffect)(()=>{t&&(p(c(t.image)),console.log("\ud83d\udd0d WatchesProductDetail - Rendering product:",t.name),console.log("\ud83d\udee1\ufe0f Warranty:",t.warranty),console.log("\ud83d\udcc5 Expiry:",t.expiryDate)),window.scrollTo(0,0)},[t]);const h=(0,r.useMemo)(()=>n&&n.some(e=>(e._id||e.id)===(t._id||t.id)),[n,t]),m=(0,r.useMemo)(()=>i.some(e=>(e._id||e.id)===(t._id||t.id)),[i,t]),g=(0,r.useMemo)(()=>{if(!t)return[];const e=[c(t.image)];return t.otherImages&&t.otherImages.length>0?e.concat(t.otherImages.map(e=>c(e))):e},[t]),f=(0,r.useMemo)(()=>t?rt.filter(e=>e.id!==t.id).sort(()=>.5-Math.random()).slice(0,4):[],[t]);return t?(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("a",{href:"#watches",onClick:e=>{e.preventDefault(),o("watches")},className:"back-link",children:"\u2190 Back to Watches"}),(0,d.jsxs)("div",{className:"product-detail-container",children:[(0,d.jsxs)("div",{className:"product-images",children:[(0,d.jsx)("div",{className:"main-image",children:(0,d.jsx)("img",{src:u,alt:t.name,onError:e=>e.currentTarget.src="https://via.placeholder.com/400x400?text=No+Image"})}),(0,d.jsx)("div",{className:"thumbnail-track",children:g.map((e,a)=>(0,d.jsx)("img",{src:e,alt:"".concat(t.name," thumbnail ").concat(a+1),className:"thumbnail ".concat(u===e?"active":""),onClick:()=>p(e),onError:e=>e.currentTarget.src="https://via.placeholder.com/80x80?text=No"},a))})]}),(0,d.jsxs)("div",{className:"product-details",children:[(0,d.jsx)("h1",{children:t.name}),(0,d.jsxs)("p",{className:"product-vendor",children:["by ",t.vendor]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-description",children:[(0,d.jsx)("h3",{children:"Description"}),(0,d.jsx)("p",{children:t.description||"An elegant timepiece that combines style and precision. Perfect for any occasion, from formal events to everyday wear."})]}),t.warranty&&(0,d.jsxs)("div",{className:"product-warranty",style:{marginTop:"15px",padding:"12px",backgroundColor:"#e8f5e9",borderLeft:"4px solid #4CAF50",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#2e7d32"},children:[(0,d.jsx)("i",{className:"fas fa-shield-alt",style:{marginRight:"8px"}}),"Warranty:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:t.warranty})]}),t.expiryDate&&(0,d.jsxs)("div",{className:"product-expiry",style:{marginTop:"15px",padding:"12px",backgroundColor:"#fff3e0",borderLeft:"4px solid #ff9800",borderRadius:"4px"},children:[(0,d.jsxs)("strong",{style:{color:"#e65100"},children:[(0,d.jsx)("i",{className:"fas fa-calendar-alt",style:{marginRight:"8px"}}),"Expiry Date:"]}),(0,d.jsx)("span",{style:{marginLeft:"8px",color:"#555"},children:(e=>{if(!e)return null;return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})(t.expiryDate)})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,d.jsx)("span",{children:t.distance||"Distance N/A"})]}),(0,d.jsxs)("div",{className:"product-specs",children:[(0,d.jsx)("h3",{children:"Details"}),(0,d.jsxs)("div",{className:"spec-grid",children:[(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Style"}),(0,d.jsx)("span",{children:t.style||"N/A"})]}),(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Movement"}),(0,d.jsx)("span",{children:t.movement||"N/A"})]}),(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Color"}),(0,d.jsx)("span",{children:t.color||"N/A"})]})]})]}),(0,d.jsxs)("div",{className:"product-actions",children:[h?(0,d.jsx)("button",{className:"btn go-to-cart",onClick:()=>o("cart"),children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn",onClick:()=>a(t),children:"Add to Cart"}),(0,d.jsx)("button",{className:"wishlist-heart-btn ".concat(m?"active":""),title:"Add to Wishlist",onClick:()=>s(t),children:(0,d.jsx)("i",{className:m?"fas fa-heart":"far fa-heart"})})]})]})]}),(0,d.jsxs)("div",{className:"related-products-section",children:[(0,d.jsx)("h2",{children:"Related Products"}),(0,d.jsx)("div",{className:"related-product-grid",children:f.map(e=>(0,d.jsxs)("div",{className:"related-product-card",onClick:()=>l(e),style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:c(e.image),alt:e.name,onError:e=>e.currentTarget.src="https://via.placeholder.com/200x200?text=No+Image"}),(0,d.jsxs)("div",{className:"related-product-info",children:[(0,d.jsx)("h4",{children:e.name}),(0,d.jsx)("p",{style:{fontSize:"14px",color:"var(--gray)"},children:e.vendor}),(0,d.jsxs)("div",{className:"product-price",style:{fontSize:"18px",marginTop:"10px"},children:["\u20b9",e.price.toLocaleString()]})]})]},e.id))})]})]}):(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("h1",{children:"Product not found"}),(0,d.jsx)("a",{href:"#watches",onClick:e=>{e.preventDefault(),o("watches")},className:"back-link",children:"\u2190 Back to Watches"})]})},nt=e=>{let{product:t,onAddToCart:a,onToggleWishlist:s,cartItems:n,wishlistItems:i,navigateTo:o,onViewProduct:l}=e;const c=e=>{if(!e)return console.log("No image provided for product"),"https://via.placeholder.com/200x150?text=No+Image";if(e.startsWith("http://")||e.startsWith("https://"))return console.log("Using full URL image:",e),e;if(e.includes("-")&&/^\d+-\w+\./.test(e)){const t="http://localhost:5000/uploads/".concat(e);return console.log("Using uploaded image path:",t),t}const t="/IMAGES/".concat(e);return console.log("Using static image path:",t),t},[u,p]=(0,r.useState)("");(0,r.useEffect)(()=>{t&&p(c(t.image)),window.scrollTo(0,0)},[t]);const h=(0,r.useMemo)(()=>n&&n.some(e=>(e._id||e.id)===(t._id||t.id)),[n,t]),m=(0,r.useMemo)(()=>i.some(e=>(e._id||e.id)===(t._id||t.id)),[i,t]),g=(0,r.useMemo)(()=>{if(!t)return[];const e=[c(t.image)];return t.otherImages&&t.otherImages.length>0?e.concat(t.otherImages.map(e=>c(e))):e},[t]),[f,x]=(0,r.useState)([]);return(0,r.useEffect)(()=>{(async()=>{if(t)try{const e=await fetch("http://localhost:5000/api/products/category/Home%20Decor");if(!e.ok)throw new Error("Failed to fetch related products");const a=(await e.json()).filter(e=>e._id!==t._id).sort(()=>.5-Math.random()).slice(0,4);x(a)}catch(e){console.error("Error fetching related products:",e),x([])}})()},[t]),t?(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("a",{href:"#homedecor",onClick:e=>{e.preventDefault(),o("homedecor")},className:"back-link",children:"\u2190 Back to Home Decor"}),(0,d.jsxs)("div",{className:"product-detail-container",children:[(0,d.jsxs)("div",{className:"product-images",children:[(0,d.jsx)("div",{className:"main-image",children:(0,d.jsx)("img",{src:u,alt:t.name})}),(0,d.jsx)("div",{className:"thumbnail-track",children:g.map((e,a)=>(0,d.jsx)("img",{src:e,alt:"".concat(t.name," thumbnail ").concat(a+1),className:"thumbnail ".concat(u===e?"active":""),onClick:()=>p(e),onError:e=>e.target.src="https://via.placeholder.com/80x80?text=No+Img"},a))})]}),(0,d.jsxs)("div",{className:"product-details",children:[(0,d.jsx)("h1",{children:t.name}),(0,d.jsxs)("p",{className:"product-vendor",children:["by ",t.vendor]}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",t.price.toLocaleString()]}),(0,d.jsxs)("div",{className:"product-description",children:[(0,d.jsx)("h3",{children:"Description"}),(0,d.jsx)("p",{children:"A beautiful decor item to enhance the aesthetic of any room. Made with high-quality materials."})]}),(0,d.jsxs)("div",{className:"product-distance",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"}),(0,d.jsx)("span",{children:t.distance||"Distance N/A"})]}),(0,d.jsxs)("div",{className:"product-specs",children:[(0,d.jsx)("h3",{children:"Specifications"}),(0,d.jsxs)("div",{className:"spec-grid",children:[(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Material"}),(0,d.jsx)("span",{children:t.material||"N/A"})]}),(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Dimensions"}),(0,d.jsx)("span",{children:t.dimensions||"N/A"})]}),(0,d.jsxs)("div",{className:"spec-item",children:[(0,d.jsx)("strong",{children:"Color"}),(0,d.jsx)("span",{children:t.color||"N/A"})]})]})]}),(0,d.jsxs)("div",{className:"product-actions",children:[h?(0,d.jsx)("button",{onClick:()=>o("cart"),className:"btn go-to-cart",children:"Go to Cart"}):(0,d.jsx)("button",{className:"btn",onClick:()=>a(t),children:"Add to Cart"}),(0,d.jsx)("button",{className:"wishlist-heart-btn ".concat(m?"active":""),title:"Add to Wishlist",onClick:()=>s(t),children:(0,d.jsx)("i",{className:m?"fas fa-heart":"far fa-heart"})})]})]})]}),(0,d.jsxs)("div",{className:"related-products-section",children:[(0,d.jsx)("h2",{children:"Related Products"}),(0,d.jsx)("div",{className:"related-product-grid",children:f.map(e=>(0,d.jsxs)("div",{className:"related-product-card",onClick:()=>l(e),style:{cursor:"pointer"},children:[(0,d.jsx)("img",{src:c(e.image),alt:e.name,onError:e=>e.target.src="https://via.placeholder.com/200x150?text=No+Img"}),(0,d.jsxs)("div",{className:"related-product-info",children:[(0,d.jsx)("h4",{children:e.name}),(0,d.jsx)("p",{style:{fontSize:"14px",color:"var(--gray)"},children:e.vendor}),(0,d.jsxs)("div",{className:"product-price",style:{fontSize:"18px",marginTop:"10px"},children:["\u20b9",e.price.toLocaleString()]})]})]},e.id))})]})]}):(0,d.jsxs)("div",{className:"container",children:[(0,d.jsx)("h1",{children:"Product not found"}),(0,d.jsx)("a",{href:"#homedecor",onClick:e=>{e.preventDefault(),o("homedecor")},className:"back-link",children:"\u2190 Back to Home Decor"})]})},it={body:{fontFamily:"Arial, sans-serif",margin:0,padding:0,backgroundColor:"#f5f5f5",minHeight:"100vh"},header:{backgroundColor:"#4a90e2",color:"white",padding:"10px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},logo:{fontSize:"24px",fontWeight:"bold",display:"flex",alignItems:"center"},logoIcon:{marginRight:"10px"},nav:{display:"flex",alignItems:"center"},navLink:{color:"white",textDecoration:"none",marginLeft:"20px",fontSize:"18px"},logoutButton:{backgroundColor:"#ef4444",color:"white",border:"none",padding:"10px 24px",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},dashboard:{maxWidth:"1200px",margin:"20px auto",textAlign:"center",padding:"0 20px"},dashboardH1:{color:"#333",fontSize:"32px",marginBottom:"10px"},dashboardHr:{border:"1px solid #ff6b6b",width:"50px",margin:"0 auto 40px"},cards:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"20px"},card:{background:"white",borderRadius:"10px",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",width:"250px",padding:"20px",textAlign:"left",position:"relative"},cardIconWrapper:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},cardIcon:{fontSize:"36px"},badge:{backgroundColor:"#ff9800",color:"white",padding:"4px 8px",borderRadius:"12px",fontSize:"10px",fontWeight:"bold"},cardH2:{color:"#2c3e50",fontSize:"20px",marginBottom:"10px"},cardP:{color:"#7f8c8d",fontSize:"14px",marginBottom:"20px"},cardButton:{backgroundColor:"#ff6b6b",color:"white",border:"none",padding:"10px 20px",borderRadius:"20px",cursor:"pointer",fontSize:"14px",transition:"background-color 0.3s"}},ot=e=>{let{navigateTo:t,onLogout:a}=e;return(0,d.jsxs)("div",{style:it.body,children:[(0,d.jsxs)("div",{style:it.header,children:[(0,d.jsxs)("div",{style:it.logo,children:[(0,d.jsx)("span",{style:it.logoIcon,children:"\ud83d\uded2"}),"ShopNest Admin"]}),(0,d.jsx)("div",{style:it.nav,children:(0,d.jsx)("button",{style:it.logoutButton,onMouseOver:e=>{e.target.style.backgroundColor="#dc2626",e.target.style.transform="scale(1.05)"},onMouseOut:e=>{e.target.style.backgroundColor="#ef4444",e.target.style.transform="scale(1)"},onClick:()=>{a?a():(localStorage.removeItem("token"),localStorage.removeItem("userRole"),localStorage.removeItem("userId"),localStorage.removeItem("adminToken"),localStorage.removeItem("currentUser"),sessionStorage.clear(),t("home"))},children:"Logout"})})]}),(0,d.jsxs)("div",{style:it.dashboard,children:[(0,d.jsx)("h1",{style:it.dashboardH1,children:"Admin Dashboard"}),(0,d.jsx)("hr",{style:it.dashboardHr}),(0,d.jsx)("div",{style:it.cards,children:[{title:"User Management",description:"Manage user accounts, roles, and permissions.",link:"admin-users",id:1,icon:"\ud83d\udc65"},{title:"Manage User Profile",description:"Update user profiles and personal information.",link:"admin-profiles",id:2,icon:"\ud83d\udc64"},{title:"Offers Management",description:"Create and manage promotional offers and discounts.",link:"admin-offers",id:3,icon:"\ud83c\udf81"},{title:"Payment Management",description:"Monitor and manage payment transactions.",link:"admin-orders",id:4,icon:"\ud83d\udcb3"},{title:"Product Management",description:"Add, edit, or remove products from the marketplace.",link:"admin-catalog",id:5,icon:"\ud83d\udce6"},{title:"Seller Management",description:"Manage sellers and review pending products for approval.",link:"admin-sellers",id:6,icon:"\ud83c\udfea"},{title:"Earner Management",description:"Review and approve seller registration requests from earners.",link:"admin-earner-management",id:7,icon:"\u23f3",badge:"NEW"}].map(e=>(0,d.jsxs)("div",{style:it.card,children:[(0,d.jsxs)("div",{style:it.cardIconWrapper,children:[(0,d.jsx)("span",{style:it.cardIcon,children:e.icon}),e.badge&&(0,d.jsx)("span",{style:it.badge,children:e.badge})]}),(0,d.jsx)("h2",{style:it.cardH2,children:e.title}),(0,d.jsx)("p",{style:it.cardP,children:e.description}),(0,d.jsxs)("button",{style:it.cardButton,onMouseOver:e=>e.target.style.backgroundColor="#e65b5b",onMouseOut:e=>e.target.style.backgroundColor="#ff6b6b",onClick:()=>t(e.link),children:["Go to ",e.title]})]},e.id))})]})]})},lt="\n  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');\n  \n  * {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n  }\n",ct={body:{fontFamily:"Inter, system-ui, Segoe UI, Roboto, Helvetica, Arial, sans-serif",background:"linear-gradient(180deg, #0b1020, #0d1226)",color:"#e6eef8",minHeight:"100vh"},header:{background:"linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01))",border:"1px solid rgba(255,255,255,0.06)",boxShadow:"0 10px 30px rgba(2,6,23,0.45)",position:"sticky",top:0,padding:"12px",zIndex:30},headerContainer:{maxWidth:"1280px",margin:"0 auto",display:"flex",alignItems:"center",justifyContent:"space-between"},headerTitle:{fontWeight:"bold",marginBottom:"4px"},headerSubtitle:{fontSize:"0.875rem",color:"#94a3b8"},headerButtons:{display:"flex",gap:"8px"},main:{maxWidth:"1280px",margin:"0 auto",padding:"16px"},statsGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",marginBottom:"16px"},statCard:{background:"linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01))",border:"1px solid rgba(255,255,255,0.06)",boxShadow:"0 10px 30px rgba(2,6,23,0.45)",padding:"16px",borderRadius:"12px"},statLabel:{color:"#94a3b8",fontSize:"0.875rem"},statValue:{fontSize:"1.5rem",fontWeight:"bold",marginTop:"8px"},tableSection:{background:"linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01))",border:"1px solid rgba(255,255,255,0.06)",boxShadow:"0 10px 30px rgba(2,6,23,0.45)",padding:"16px",borderRadius:"12px"},tableHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},tableTitle:{fontWeight:"bold"},searchInput:{backgroundColor:"rgba(255,255,255,0.05)",padding:"8px 12px",borderRadius:"12px",border:"none",color:"#e6eef8"},tableContainer:{overflowX:"auto",maxHeight:"420px"},table:{width:"100%",fontSize:"0.875rem"},tableHeaderRow:{color:"#94a3b8",fontSize:"0.75rem"},th:{padding:"8px",textAlign:"left"},td:{padding:"8px"},tdBold:{fontWeight:"600"},tdMuted:{fontSize:"0.75rem",color:"#94a3b8"},actionButtons:{display:"inline-flex",gap:"8px"},btnPrimary:{display:"inline-flex",alignItems:"center",gap:"8px",borderRadius:"12px",padding:"8px 14px",fontWeight:"600",background:"#6366f1",color:"white",border:"none",cursor:"pointer"},btnGhost:{display:"inline-flex",alignItems:"center",gap:"8px",borderRadius:"12px",padding:"8px 14px",fontWeight:"600",background:"rgba(255,255,255,0.04)",color:"#e6eef8",border:"none",cursor:"pointer"},btnDanger:{display:"inline-flex",alignItems:"center",gap:"8px",borderRadius:"12px",padding:"8px 14px",fontWeight:"600",background:"#ef4444",color:"white",border:"none",cursor:"pointer"},modal:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(2,6,23,0.6)",zIndex:50},modalContent:{background:"#0f162e",padding:"16px",borderRadius:"12px",maxWidth:"768px",width:"100%",maxHeight:"90vh",overflowY:"auto"},modalHeader:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},modalTitle:{fontWeight:"bold"},closeButton:{background:"none",border:"none",color:"#e6eef8",cursor:"pointer",fontSize:"1.25rem"},form:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},label:{display:"grid",gap:"4px"},labelText:{fontSize:"0.75rem",color:"#94a3b8"},input:{backgroundColor:"rgba(255,255,255,0.05)",padding:"8px 12px",borderRadius:"12px",border:"none",color:"#e6eef8"},textarea:{backgroundColor:"rgba(255,255,255,0.05)",padding:"8px 12px",borderRadius:"12px",border:"none",color:"#e6eef8",fontFamily:"inherit"},checkboxLabel:{display:"flex",alignItems:"center",gap:"8px",gridColumn:"1 / -1"},checkbox:{accentColor:"#6366f1"},formButtons:{gridColumn:"1 / -1",display:"flex",justifyContent:"flex-end",gap:"8px",paddingTop:"8px"}},dt=()=>{const[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)(!1),[n,i]=(0,r.useState)(null),[o,l]=(0,r.useState)(""),u="http://localhost:3006/api/offers",[p,h]=(0,r.useState)({title:"",code:"",type:"percent",value:"",appliesTo:"",minOrder:"",usageLimit:"0",perUserLimit:"1",startAt:"",endAt:"",active:!0,notes:""});(0,r.useEffect)(()=>{m()},[]);const m=async()=>{try{const e=await fetch(u),a=await e.json();t(a)}catch(e){console.error("Error fetching offers:",e)}},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(i(e),h({title:e.title,code:e.code||"",type:e.type,value:e.value,appliesTo:e.appliesTo||"",minOrder:e.minOrder||"",usageLimit:e.usageLimit||"0",perUserLimit:e.perUserLimit||"1",startAt:new Date(e.startAt).toISOString().slice(0,16),endAt:new Date(e.endAt).toISOString().slice(0,16),active:e.active,notes:e.notes||""})):(i(null),h({title:"",code:"",type:"percent",value:"",appliesTo:"",minOrder:"",usageLimit:"0",perUserLimit:"1",startAt:"",endAt:"",active:!0,notes:""})),s(!0)},f=()=>{s(!1),i(null)},x=e=>"percent"===e.type?"".concat(e.value,"% off"):"flat"===e.type?"\u20b9".concat(e.value," off"):"bogo"===e.type?"BOGO":"Free Shipping",j=e.filter(e=>{var t;const a=o.toLowerCase();return(null===(t=e.code)||void 0===t?void 0:t.toLowerCase().includes(a))||e.title.toLowerCase().includes(a)}),v=(()=>{const t=new Date,a=e.filter(e=>e.active&&new Date(e.startAt)<=t&&new Date(e.endAt)>=t),r=e.filter(e=>new Date(e.startAt)>t),s=e.filter(e=>new Date(e.endAt)<t);return{active:a.length,upcoming:r.length,expired:s.length}})();return(0,d.jsxs)("div",{style:ct.body,children:[(0,d.jsx)("style",{children:lt}),(0,d.jsx)("header",{style:ct.header,children:(0,d.jsxs)("div",{style:ct.headerContainer,children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{style:ct.headerTitle,children:"Special Offers"}),(0,d.jsx)("p",{style:ct.headerSubtitle,children:"Create coupons, flash sales, BOGO & free-shipping rules"})]}),(0,d.jsx)("div",{style:ct.headerButtons,children:(0,d.jsx)("button",{onClick:()=>g(),style:ct.btnPrimary,children:"+ New Offer"})})]})}),(0,d.jsxs)("main",{style:ct.main,children:[(0,d.jsxs)("section",{style:ct.statsGrid,children:[(0,d.jsxs)("div",{style:ct.statCard,children:[(0,d.jsx)("div",{style:ct.statLabel,children:"Active Offers"}),(0,d.jsx)("div",{style:ct.statValue,children:v.active})]}),(0,d.jsxs)("div",{style:ct.statCard,children:[(0,d.jsx)("div",{style:ct.statLabel,children:"Upcoming"}),(0,d.jsx)("div",{style:ct.statValue,children:v.upcoming})]}),(0,d.jsxs)("div",{style:ct.statCard,children:[(0,d.jsx)("div",{style:ct.statLabel,children:"Expired"}),(0,d.jsx)("div",{style:ct.statValue,children:v.expired})]})]}),(0,d.jsxs)("section",{style:ct.tableSection,children:[(0,d.jsxs)("div",{style:ct.tableHeader,children:[(0,d.jsx)("h2",{style:ct.tableTitle,children:"Offers List"}),(0,d.jsx)("input",{placeholder:"Search code or title",value:o,onChange:e=>l(e.target.value),style:ct.searchInput})]}),(0,d.jsx)("div",{style:ct.tableContainer,children:(0,d.jsxs)("table",{style:ct.table,children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{style:ct.tableHeaderRow,children:[(0,d.jsx)("th",{style:ct.th,children:"Code/Title"}),(0,d.jsx)("th",{style:ct.th,children:"Type"}),(0,d.jsx)("th",{style:ct.th,children:"Rules"}),(0,d.jsx)("th",{style:ct.th,children:"Validity"}),(0,d.jsx)("th",{style:ct.th,children:"Usage"}),(0,d.jsx)("th",{style:c(c({},ct.th),{},{textAlign:"right"}),children:"Actions"})]})}),(0,d.jsx)("tbody",{children:j.map(e=>(0,d.jsxs)("tr",{children:[(0,d.jsxs)("td",{style:ct.td,children:[(0,d.jsx)("div",{style:ct.tdBold,children:e.code||"\u2014"}),(0,d.jsx)("div",{style:ct.tdMuted,children:e.title})]}),(0,d.jsx)("td",{style:ct.td,children:x(e)}),(0,d.jsx)("td",{style:ct.td,children:e.appliesTo||"All"}),(0,d.jsxs)("td",{style:ct.td,children:[new Date(e.startAt||Date.now()).toLocaleString()," \u2014 ",new Date(e.endAt||Date.now()).toLocaleString()]}),(0,d.jsxs)("td",{style:ct.td,children:[e.usageCount||0,"/",e.usageLimit||"\u221e"]}),(0,d.jsx)("td",{style:c(c({},ct.td),{},{textAlign:"right"}),children:(0,d.jsxs)("div",{style:ct.actionButtons,children:[(0,d.jsx)("button",{onClick:()=>g(e),style:ct.btnGhost,children:"Edit"}),(0,d.jsx)("button",{onClick:()=>(async e=>{try{await fetch("".concat(u,"/").concat(e._id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({active:!e.active})}),m()}catch(t){console.error("Error toggling offer:",t)}})(e),style:ct.btnGhost,children:e.active?"Deactivate":"Activate"}),(0,d.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Delete offer?"))try{await fetch("".concat(u,"/").concat(e),{method:"DELETE"}),m()}catch(t){console.error("Error deleting offer:",t)}})(e._id),style:ct.btnDanger,children:"Delete"})]})})]},e._id))})]})})]})]}),a&&(0,d.jsx)("div",{style:ct.modal,onClick:e=>e.target===e.currentTarget&&f(),children:(0,d.jsxs)("div",{style:ct.modalContent,children:[(0,d.jsxs)("div",{style:ct.modalHeader,children:[(0,d.jsx)("h3",{style:ct.modalTitle,children:n?"Edit Offer":"New Offer"}),(0,d.jsx)("button",{onClick:f,style:ct.closeButton,children:"\u2715"})]}),(0,d.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=c(c({},p),{},{value:Number(p.value)||0,minOrder:Number(p.minOrder)||0,usageLimit:Number(p.usageLimit)||0,perUserLimit:Number(p.perUserLimit)||1,startAt:p.startAt?new Date(p.startAt).toISOString():(new Date).toISOString(),endAt:p.endAt?new Date(p.endAt).toISOString():new Date(Date.now()+6048e5).toISOString(),usageCount:n&&n.usageCount||0}),a=n?"".concat(u,"/").concat(n._id):u,r=n?"PUT":"POST";try{await fetch(a,{method:r,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),f(),m()}catch(s){console.error("Error saving offer:",s)}},style:ct.form,children:[(0,d.jsxs)("label",{style:ct.label,children:[(0,d.jsx)("span",{style:ct.labelText,children:"Offer Title"}),(0,d.jsx)("input",{value:p.title,onChange:e=>h(c(c({},p),{},{title:e.target.value})),style:ct.input,required:!0})]}),(0,d.jsxs)("label",{style:ct.label,children:[(0,d.jsx)("span",{style:ct.labelText,children:"Coupon Code (optional)"}),(0,d.jsx)("input",{value:p.code,onChange:e=>h(c(c({},p),{},{code:e.target.value})),style:ct.input})]}),(0,d.jsxs)("label",{style:ct.label,children:[(0,d.jsx)("span",{style:ct.labelText,children:"Type"}),(0,d.jsxs)("select",{value:p.type,onChange:e=>h(c(c({},p),{},{type:e.target.value})),style:ct.input,children:[(0,d.jsx)("option",{value:"percent",children:"% Discount"}),(0,d.jsx)("option",{value:"flat",children:"Flat Discount"}),(0,d.jsx)("option",{value:"bogo",children:"Buy X Get Y"}),(0,d.jsx)("option",{value:"free_shipping",children:"Free Shipping"})]})]}),(0,d.jsxs)("label",{style:ct.label,children:[(0,d.jsx)("span",{style:ct.labelText,children:"Value"}),(0,d.jsx)("input",{value:p.value,onChange:e=>h(c(c({},p),{},{value:e.target.value})),style:ct.input,placeholder:"10 for 10% or 500 for \u20b9500"})]}),(0,d.jsxs)("label",{style:c(c({},ct.label),{},{gridColumn:"1 / -1"}),children:[(0,d.jsx)("span",{style:ct.labelText,children:"Applies To (categories or product IDs comma-separated)"}),(0,d.jsx)("input",{value:p.appliesTo,onChange:e=>h(c(c({},p),{},{appliesTo:e.target.value})),style:ct.input})]}),(0,d.jsxs)("label",{style:ct.label,children:[(0,d.jsx)("span",{style:ct.labelText,children:"Min Order Value (optional)"}),(0,d.jsx)("input",{type:"number",min:"0",value:p.minOrder,onChange:e=>h(c(c({},p),{},{minOrder:e.target.value})),style:ct.input})]}),(0,d.jsxs)("label",{style:ct.label,children:[(0,d.jsx)("span",{style:ct.labelText,children:"Usage Limit (total)"}),(0,d.jsx)("input",{type:"number",min:"0",value:p.usageLimit,onChange:e=>h(c(c({},p),{},{usageLimit:e.target.value})),style:ct.input})]}),(0,d.jsxs)("label",{style:ct.label,children:[(0,d.jsx)("span",{style:ct.labelText,children:"Per-user Limit"}),(0,d.jsx)("input",{type:"number",min:"0",value:p.perUserLimit,onChange:e=>h(c(c({},p),{},{perUserLimit:e.target.value})),style:ct.input})]}),(0,d.jsxs)("label",{style:ct.label,children:[(0,d.jsx)("span",{style:ct.labelText,children:"Start Date & Time"}),(0,d.jsx)("input",{type:"datetime-local",value:p.startAt,onChange:e=>h(c(c({},p),{},{startAt:e.target.value})),style:ct.input})]}),(0,d.jsxs)("label",{style:ct.label,children:[(0,d.jsx)("span",{style:ct.labelText,children:"End Date & Time"}),(0,d.jsx)("input",{type:"datetime-local",value:p.endAt,onChange:e=>h(c(c({},p),{},{endAt:e.target.value})),style:ct.input})]}),(0,d.jsxs)("label",{style:ct.checkboxLabel,children:[(0,d.jsx)("input",{type:"checkbox",checked:p.active,onChange:e=>h(c(c({},p),{},{active:e.target.checked})),style:ct.checkbox}),(0,d.jsx)("span",{style:ct.labelText,children:"Active"})]}),(0,d.jsxs)("label",{style:c(c({},ct.label),{},{gridColumn:"1 / -1"}),children:[(0,d.jsx)("span",{style:ct.labelText,children:"Notes / Description"}),(0,d.jsx)("textarea",{rows:"2",value:p.notes,onChange:e=>h(c(c({},p),{},{notes:e.target.value})),style:ct.textarea})]}),(0,d.jsxs)("div",{style:ct.formButtons,children:[(0,d.jsx)("button",{type:"button",onClick:f,style:ct.btnGhost,children:"Cancel"}),(0,d.jsx)("button",{type:"submit",style:ct.btnPrimary,children:"Save Offer"})]})]})]})})]})},ut=()=>{const[e,t]=(0,r.useState)([{id:"ORD1001",user:"Aarav Sharma",date:"2025-09-08T10:22",subtotal:1200,discount:100,shipping:40,total:1140,payment:{method:"Card",status:"Completed",txnId:"TXN1001"},status:"Paid",freeDeliveryApplied:!1,items:[{name:"T-Shirt",qty:2,price:400}]},{id:"ORD1002",user:"Isha Patel",date:"2025-09-08T11:05",subtotal:500,discount:0,shipping:60,total:560,payment:{method:"COD",status:"Pending",txnId:""},status:"Pending",freeDeliveryApplied:!1,items:[{name:"Mug",qty:1,price:500}]},{id:"ORD1003",user:"Neha Gupta",date:"2025-09-07T18:12",subtotal:2e3,discount:200,shipping:0,total:1800,payment:{method:"UPI",status:"Completed",txnId:"UPI-9876"},status:"Shipped",freeDeliveryApplied:!0,items:[{name:"Shoes",qty:1,price:2e3}]}]),[a,s]=(0,r.useState)([{id:1,minOrder:1500,appliesTo:"",active:!0,usageCount:5}]),[n,i]=(0,r.useState)(!1),[o,l]=(0,r.useState)(null),[u,p]=(0,r.useState)(!1),[h,m]=(0,r.useState)(!1),[g,f]=(0,r.useState)(null),[x,j]=(0,r.useState)({status:"",payment:"",txnId:""}),[v,y]=(0,r.useState)({id:"",minOrder:"",appliesTo:"",active:"true"}),[b,N]=(0,r.useState)({search:"",status:"",fromDate:"",toDate:""}),w=e=>{alert(e)},k=(()=>{const t=(new Date).toISOString().slice(0,10);return{today:e.filter(e=>e.date.slice(0,10)===t).length,paid:e.filter(e=>"Completed"===e.payment.status).length,pending:e.filter(e=>"Pending"===e.payment.status).length,free:e.filter(e=>e.freeDeliveryApplied).length}})(),S={container:{fontFamily:"Inter, system-ui, sans-serif",background:"linear-gradient(180deg, #0b1020, #0d1226)",color:"#e6eef8",minHeight:"100vh"},header:{background:"linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01))",border:"1px solid rgba(255,255,255,0.06)",boxShadow:"0 8px 24px rgba(2,6,23,0.45)",position:"sticky",top:0,padding:"12px",zIndex:30},main:{maxWidth:"1280px",margin:"0 auto",padding:"16px"},kpiGrid:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"24px"},kpiCard:{background:"linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01))",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"16px",padding:"16px"},table:{width:"100%",fontSize:"0.875rem"},btn:{display:"inline-flex",alignItems:"center",gap:"8px",borderRadius:"10px",padding:"8px 12px",fontWeight:"600",border:"none",cursor:"pointer"},btnPrimary:{background:"#6366f1",color:"white"},btnGhost:{background:"rgba(255,255,255,0.04)",color:"#e6eef8"},btnDanger:{background:"#ef4444",color:"white"},drawer:{position:"fixed",right:0,top:0,height:"100%",width:"480px",transform:n?"translateX(0)":"translateX(100%)",transition:"transform 0.3s",zIndex:40,background:"linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01))",border:"1px solid rgba(255,255,255,0.06)",padding:"16px",overflowY:"auto"},modal:{position:"fixed",inset:0,display:u||h?"flex":"none",alignItems:"center",justifyContent:"center",background:"rgba(2,6,23,0.6)",zIndex:50},modalContent:{background:"#0f162e",padding:"16px",borderRadius:"12px",maxWidth:"640px",width:"100%"},input:{backgroundColor:"rgba(255,255,255,0.05)",padding:"8px 12px",borderRadius:"12px",border:"none",color:"#e6eef8",width:"100%"}};return(0,d.jsxs)("div",{style:S.container,children:[(0,d.jsx)("header",{style:S.header,children:(0,d.jsxs)("div",{style:{maxWidth:"1280px",margin:"0 auto",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{style:{fontWeight:"bold"},children:"Orders & Payments"}),(0,d.jsx)("p",{style:{fontSize:"0.875rem",color:"#94a3b8"},children:"Manage orders, payments, refunds and free-delivery rules"})]}),(0,d.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,d.jsx)("button",{style:c(c({},S.btn),S.btnPrimary),children:"Catalog"}),(0,d.jsx)("button",{style:c(c({},S.btn),S.btnGhost),children:"Offers"})]})]})}),(0,d.jsxs)("main",{style:S.main,children:[(0,d.jsxs)("section",{style:S.kpiGrid,children:[(0,d.jsxs)("div",{style:S.kpiCard,children:[(0,d.jsx)("div",{style:{fontSize:"0.875rem",color:"#94a3b8"},children:"Today Orders"}),(0,d.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:k.today})]}),(0,d.jsxs)("div",{style:S.kpiCard,children:[(0,d.jsx)("div",{style:{fontSize:"0.875rem",color:"#94a3b8"},children:"Paid"}),(0,d.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:k.paid})]}),(0,d.jsxs)("div",{style:S.kpiCard,children:[(0,d.jsx)("div",{style:{fontSize:"0.875rem",color:"#94a3b8"},children:"Pending Payments"}),(0,d.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:k.pending})]}),(0,d.jsxs)("div",{style:S.kpiCard,children:[(0,d.jsx)("div",{style:{fontSize:"0.875rem",color:"#94a3b8"},children:"Free Delivery Used"}),(0,d.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:k.free})]})]}),(0,d.jsx)("section",{style:c(c({},S.kpiCard),{},{marginBottom:"24px"}),children:(0,d.jsxs)("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[(0,d.jsx)("input",{placeholder:"Search order id, customer, txn id",style:c(c({},S.input),{},{flex:1,minWidth:"288px"})}),(0,d.jsxs)("select",{style:S.input,children:[(0,d.jsx)("option",{value:"",children:"All Status"}),(0,d.jsx)("option",{children:"Pending"}),(0,d.jsx)("option",{children:"Paid"}),(0,d.jsx)("option",{children:"Shipped"}),(0,d.jsx)("option",{children:"Delivered"}),(0,d.jsx)("option",{children:"Cancelled"}),(0,d.jsx)("option",{children:"Refunded"})]}),(0,d.jsx)("button",{onClick:()=>m(!0),style:c(c({},S.btn),S.btnPrimary),children:"Free Delivery Rules"})]})}),(0,d.jsx)("section",{style:c(c({},S.kpiCard),{},{overflow:"hidden"}),children:(0,d.jsx)("div",{style:{overflowX:"auto",maxHeight:"520px"},children:(0,d.jsxs)("table",{style:S.table,children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{style:{color:"#94a3b8",fontSize:"0.75rem"},children:[(0,d.jsx)("th",{style:{padding:"8px",textAlign:"left"},children:"Order ID"}),(0,d.jsx)("th",{style:{padding:"8px",textAlign:"left"},children:"Customer"}),(0,d.jsx)("th",{style:{padding:"8px",textAlign:"left"},children:"Date"}),(0,d.jsx)("th",{style:{padding:"8px",textAlign:"left"},children:"Total"}),(0,d.jsx)("th",{style:{padding:"8px",textAlign:"left"},children:"Payment"}),(0,d.jsx)("th",{style:{padding:"8px",textAlign:"left"},children:"Status"}),(0,d.jsx)("th",{style:{padding:"8px",textAlign:"right"},children:"Actions"})]})}),(0,d.jsx)("tbody",{children:e.map(t=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{style:{padding:"8px",fontWeight:"600"},children:t.id}),(0,d.jsx)("td",{style:{padding:"8px"},children:t.user}),(0,d.jsx)("td",{style:{padding:"8px"},children:new Date(t.date).toLocaleString()}),(0,d.jsxs)("td",{style:{padding:"8px"},children:["\u20b9 ",t.total]}),(0,d.jsxs)("td",{style:{padding:"8px"},children:[t.payment.method,(0,d.jsxs)("div",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:[t.payment.status,t.payment.txnId?" \u2022 "+t.payment.txnId:""]})]}),(0,d.jsx)("td",{style:{padding:"8px"},children:t.status}),(0,d.jsx)("td",{style:{padding:"8px",textAlign:"right"},children:(0,d.jsxs)("div",{style:{display:"inline-flex",gap:"8px"},children:[(0,d.jsx)("button",{onClick:()=>(t=>{const a=e.find(e=>e.id===t);l(a),i(!0)})(t.id),style:c(c({},S.btn),S.btnGhost),children:"View"}),(0,d.jsx)("button",{onClick:()=>(t=>{const a=e.find(e=>e.id===t);f(a),j({status:a.status,payment:a.payment.status,txnId:a.payment.txnId||""}),p(!0)})(t.id),style:c(c({},S.btn),S.btnPrimary),children:"Update"})]})})]},t.id))})]})})})]}),(0,d.jsx)("aside",{style:S.drawer,children:o&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[(0,d.jsxs)("h3",{style:{fontWeight:"bold"},children:["Order ",o.id]}),(0,d.jsx)("button",{onClick:()=>i(!1),style:{background:"none",border:"none",color:"#e6eef8",cursor:"pointer"},children:"\u2715"})]}),(0,d.jsxs)("div",{style:{fontSize:"0.875rem",marginTop:"12px",display:"grid",gap:"12px"},children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Customer:"})," ",o.user]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Date:"})," ",new Date(o.date).toLocaleString()]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Items:"})," ",o.items.map(e=>"".concat(e.name," x").concat(e.qty)).join(", ")]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Subtotal:"})," \u20b9 ",o.subtotal]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Discount:"})," \u20b9 ",o.discount]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Shipping:"})," \u20b9 ",o.shipping]}),(0,d.jsxs)("div",{style:{fontWeight:"bold"},children:["Total: \u20b9 ",o.total]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Payment:"})," ",o.payment.method," \u2022 ",o.payment.status]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Order Status:"})," ",o.status]})]}),(0,d.jsxs)("div",{style:{marginTop:"16px",display:"flex",gap:"8px"},children:[(0,d.jsx)("button",{onClick:()=>{if(!o)return;const a=e.map(e=>e.id===o.id?c(c({},e),{},{status:"Shipped"}):e);t(a),i(!1),w("Marked shipped")},style:c(c({},S.btn),S.btnPrimary),children:"Mark Shipped"}),(0,d.jsx)("button",{onClick:()=>{if(!o)return;if(!window.confirm("Process refund?"))return;const a=e.map(e=>e.id===o.id?c(c({},e),{},{status:"Refunded",payment:c(c({},e.payment),{},{status:"Refunded"})}):e);t(a),i(!1),w("Refunded")},style:c(c({},S.btn),S.btnDanger),children:"Refund"})]})]})}),u&&(0,d.jsx)("div",{style:S.modal,onClick:e=>e.target===e.currentTarget&&p(!1),children:(0,d.jsxs)("div",{style:S.modalContent,children:[(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[(0,d.jsx)("h3",{style:{fontWeight:"bold"},children:"Update Order Status"}),(0,d.jsx)("button",{onClick:()=>p(!1),style:{background:"none",border:"none",color:"#e6eef8",cursor:"pointer"},children:"\u2715"})]}),(0,d.jsxs)("form",{onSubmit:a=>{if(a.preventDefault(),!g)return;const r=e.map(e=>e.id===g.id?c(c({},e),{},{status:x.status,payment:c(c({},e.payment),{},{status:x.payment,txnId:x.txnId})}):e);t(r),p(!1),w("Order updated")},style:{display:"grid",gap:"12px"},children:[(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Order Status"}),(0,d.jsxs)("select",{value:x.status,onChange:e=>j(c(c({},x),{},{status:e.target.value})),style:S.input,children:[(0,d.jsx)("option",{children:"Pending"}),(0,d.jsx)("option",{children:"Paid"}),(0,d.jsx)("option",{children:"Shipped"}),(0,d.jsx)("option",{children:"Delivered"}),(0,d.jsx)("option",{children:"Cancelled"}),(0,d.jsx)("option",{children:"Refunded"})]})]}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Payment Status"}),(0,d.jsxs)("select",{value:x.payment,onChange:e=>j(c(c({},x),{},{payment:e.target.value})),style:S.input,children:[(0,d.jsx)("option",{children:"Pending"}),(0,d.jsx)("option",{children:"Completed"}),(0,d.jsx)("option",{children:"Failed"}),(0,d.jsx)("option",{children:"Refunded"})]})]}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Transaction ID (optional)"}),(0,d.jsx)("input",{value:x.txnId,onChange:e=>j(c(c({},x),{},{txnId:e.target.value})),style:S.input})]}),(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"8px"},children:[(0,d.jsx)("button",{type:"button",onClick:()=>p(!1),style:c(c({},S.btn),S.btnGhost),children:"Cancel"}),(0,d.jsx)("button",{type:"submit",style:c(c({},S.btn),S.btnPrimary),children:"Save"})]})]})]})}),h&&(0,d.jsx)("div",{style:S.modal,onClick:e=>e.target===e.currentTarget&&m(!1),children:(0,d.jsxs)("div",{style:S.modalContent,children:[(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[(0,d.jsx)("h3",{style:{fontWeight:"bold"},children:"Free Delivery Rules"}),(0,d.jsx)("button",{onClick:()=>m(!1),style:{background:"none",border:"none",color:"#e6eef8",cursor:"pointer"},children:"\u2715"})]}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[(0,d.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=v.id?Number(v.id):null,r={id:t||Math.max(0,...a.map(e=>e.id))+1,minOrder:Number(v.minOrder)||0,appliesTo:v.appliesTo.trim(),active:"true"===v.active};t?(s(a.map(e=>e.id===t?c(c({},e),r):e)),w("Rule updated")):(s([...a,c(c({},r),{},{usageCount:0})]),w("Rule created"))},style:{display:"grid",gap:"8px"},children:[(0,d.jsx)("input",{type:"hidden",value:v.id}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Min Order Value (\u20b9)"}),(0,d.jsx)("input",{type:"number",min:"0",value:v.minOrder,onChange:e=>y(c(c({},v),{},{minOrder:e.target.value})),style:S.input})]}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Applies To"}),(0,d.jsx)("input",{value:v.appliesTo,onChange:e=>y(c(c({},v),{},{appliesTo:e.target.value})),style:S.input})]}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Active"}),(0,d.jsxs)("select",{value:v.active,onChange:e=>y(c(c({},v),{},{active:e.target.value})),style:S.input,children:[(0,d.jsx)("option",{value:"true",children:"Yes"}),(0,d.jsx)("option",{value:"false",children:"No"})]})]}),(0,d.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,d.jsx)("button",{type:"submit",style:c(c({},S.btn),S.btnPrimary),children:"Save Rule"}),(0,d.jsx)("button",{type:"button",onClick:()=>y({id:"",minOrder:"",appliesTo:"",active:"true"}),style:c(c({},S.btn),S.btnGhost),children:"New"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{style:{color:"#94a3b8",fontSize:"0.875rem",marginBottom:"8px"},children:"Existing Rules"}),(0,d.jsx)("ul",{style:{fontSize:"0.875rem",display:"grid",gap:"8px"},children:a.map(e=>(0,d.jsxs)("li",{style:{padding:"8px",borderRadius:"8px",background:"rgba(255,255,255,0.02)"},children:[(0,d.jsx)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:(0,d.jsxs)("div",{children:["Min \u20b9",e.minOrder," ",e.appliesTo&&"\u2022 ".concat(e.appliesTo)]})}),(0,d.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,d.jsx)("button",{onClick:()=>y({id:e.id.toString(),minOrder:e.minOrder.toString(),appliesTo:e.appliesTo||"",active:e.active?"true":"false"}),style:c(c(c({},S.btn),S.btnGhost),{},{fontSize:"0.75rem",padding:"4px 8px"}),children:"Edit"}),(0,d.jsx)("button",{onClick:()=>{return t=e.id,s(a.filter(e=>e.id!==t)),void w("Rule deleted");var t},style:c(c(c({},S.btn),S.btnDanger),{},{fontSize:"0.75rem",padding:"4px 8px"}),children:"Delete"})]})]},e.id))})]})]})]})})]})},pt=()=>{const[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0),[o,l]=(0,r.useState)(null),[u,p]=(0,r.useState)({search:"",catFilter:"",statusFilter:"",selectedCats:new Set,selectedProds:new Set,reorder:!1}),[h,m]=(0,r.useState)(!1),[g,f]=(0,r.useState)(!1),[x,j]=(0,r.useState)(null),[v,y]=(0,r.useState)(null),[b,N]=(0,r.useState)({name:"",description:"",image:"",status:"active"}),[w,k]=(0,r.useState)({name:"",price:"",vendor:"",category:"",subcategory:"",image:null,lat:"",lon:"",stock:"",description:"",warranty:"",expiryDate:"",status:"active"}),[S,C]=(0,r.useState)([]),[P,T]=(0,r.useState)(!1),[M,A]=(0,r.useState)(""),[I,E]=(0,r.useState)("");(0,r.useEffect)(()=>{F(),D(),B()},[]);const F=async()=>{try{const e=await fetch("http://localhost:5000/api/categories");if(e.ok){const a=await e.json();t(a)}else console.error("Failed to fetch categories")}catch(o){console.error("Error fetching categories:",o)}},D=async()=>{try{i(!0);const e=await fetch("http://localhost:5000/api/admin/products");if(e.ok){const t=await e.json();s(t)}else console.error("Failed to fetch products")}catch(o){console.error("Error fetching products:",o),l(o.message)}finally{i(!1)}},B=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{const t=e?"http://localhost:5000/api/products/subcategories?category=".concat(encodeURIComponent(e)):"http://localhost:5000/api/products/subcategories",a=await fetch(t);if(a.ok){const e=await a.json();C(e)}else console.error("Failed to fetch subcategories")}catch(o){console.error("Error fetching subcategories:",o)}},R=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(j(e),N({name:e.name,description:e.description||"",image:e.image||"",status:e.status||"active"})):(j(null),N({name:"",description:"",image:"",status:"active"})),m(!0)},L=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(y(e),k({name:e.name,price:e.price,vendor:e.vendor,category:e.category,subcategory:e.subcategory||"",image:e.image,lat:e.lat,lon:e.lon,stock:e.stock,description:e.description,warranty:e.warranty||"",expiryDate:e.expiryDate?new Date(e.expiryDate).toISOString().split("T")[0]:"",status:e.status}),e.category&&(B(e.category),E(e.category))):(y(null),k({name:"",price:"",vendor:"",category:"",subcategory:"",image:null,lat:"",lon:"",stock:"",description:"",warranty:"",expiryDate:"",status:"active"}),E(""),C([])),T(!1),A(""),f(!0)},W=a.filter(e=>{const t=!u.search||e.name.toLowerCase().includes(u.search.toLowerCase()),a=!u.catFilter||e.category===u.catFilter,r=!u.statusFilter||e.status===u.statusFilter;return t&&a&&r}),z={container:{fontFamily:"Inter, system-ui, sans-serif",background:"linear-gradient(180deg, #0b1020, #0d1226)",color:"#e6eef8",minHeight:"100vh"},header:{background:"linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02))",boxShadow:"0 8px 24px rgba(2,6,23,0.45)",border:"1px solid rgba(255,255,255,0.06)",position:"sticky",top:0,zIndex:30},main:{maxWidth:"1280px",margin:"0 auto",padding:"24px"},card:{background:"linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.015))",border:"1px solid rgba(255,255,255,0.06)",borderRadius:"16px",padding:"16px"},btn:{display:"inline-flex",alignItems:"center",gap:"8px",borderRadius:"12px",padding:"10px 14px",fontWeight:"600",border:"none",cursor:"pointer"},btnPrimary:{background:"#6366f1",color:"white"},btnGhost:{background:"rgba(255,255,255,0.04)",color:"#e6eef8"},btnDanger:{background:"#ef4444",color:"white"},input:{backgroundColor:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.10)",borderRadius:"12px",padding:"10px 12px",color:"#e6eef8"},modal:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(2,6,23,0.7)",backdropFilter:"blur(10px)",zIndex:50},modalContent:{background:"#0f162e",padding:"16px",borderRadius:"12px",maxWidth:"768px",width:"100%",maxHeight:"90vh",overflowY:"auto"},table:{width:"100%",fontSize:"0.875rem"}};return(0,d.jsxs)("div",{style:z.container,children:[(0,d.jsx)("header",{style:z.header,children:(0,d.jsxs)("div",{style:{maxWidth:"1280px",margin:"0 auto",padding:"12px 16px",display:"flex",gap:"12px",alignItems:"center"},children:[(0,d.jsx)("div",{style:{height:"36px",width:"36px",borderRadius:"12px",background:"rgba(99, 102, 241, 0.2)",display:"grid",placeItems:"center",color:"#a5b4fc",fontWeight:"900"},children:"CM"}),(0,d.jsxs)("div",{style:{flex:1},children:[(0,d.jsx)("h1",{style:{fontSize:"1.125rem",fontWeight:"bold"},children:"Catalog \u2014 Categories & Products"}),(0,d.jsx)("p",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Manage categories, products, variants, stock and SEO"})]}),(0,d.jsx)("div",{style:{display:"flex",gap:"8px"},children:(0,d.jsx)("button",{style:c(c({},z.btn),z.btnGhost),children:"Export CSV"})})]})}),(0,d.jsxs)("main",{style:z.main,children:[(0,d.jsx)("section",{style:{marginBottom:"24px"},children:(0,d.jsx)("div",{style:z.card,children:(0,d.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"center",flexWrap:"wrap"},children:[(0,d.jsx)("input",{placeholder:"Search products or categories",value:u.search,onChange:e=>p(c(c({},u),{},{search:e.target.value})),style:c(c({},z.input),{},{flex:1,minWidth:"200px"})}),(0,d.jsxs)("select",{value:u.catFilter,onChange:e=>p(c(c({},u),{},{catFilter:e.target.value})),style:z.input,children:[(0,d.jsx)("option",{value:"",children:"All Categories"}),e.map(e=>(0,d.jsx)("option",{value:e.name,children:e.name},e._id))]}),(0,d.jsxs)("select",{value:u.statusFilter,onChange:e=>p(c(c({},u),{},{statusFilter:e.target.value})),style:z.input,children:[(0,d.jsx)("option",{value:"",children:"All"}),(0,d.jsx)("option",{value:"active",children:"Active"}),(0,d.jsx)("option",{value:"approved",children:"Approved"}),(0,d.jsx)("option",{value:"inactive",children:"Inactive"}),(0,d.jsx)("option",{value:"rejected",children:"Rejected"})]}),(0,d.jsx)("button",{onClick:()=>R(),style:c(c({},z.btn),z.btnPrimary),children:"+ Category"}),(0,d.jsx)("button",{onClick:()=>L(),style:c(c({},z.btn),z.btnPrimary),children:"+ Product"})]})})}),(0,d.jsxs)("section",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"16px"},children:[(0,d.jsxs)("div",{style:z.card,children:[(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[(0,d.jsx)("h3",{style:{fontWeight:"bold"},children:"Categories"}),(0,d.jsx)("span",{style:{fontSize:"0.875rem",color:"#94a3b8"},children:e.length})]}),(0,d.jsx)("ul",{style:{display:"grid",gap:"8px"},children:e.map(e=>(0,d.jsxs)("li",{style:{padding:"8px",borderRadius:"8px",background:"rgba(255,255,255,0.02)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,d.jsx)("span",{children:e.name}),(0,d.jsxs)("div",{style:{display:"flex",gap:"4px"},children:[(0,d.jsx)("button",{onClick:()=>R(e),style:c(c(c({},z.btn),z.btnGhost),{},{padding:"4px 8px",fontSize:"0.75rem"}),children:"Edit"}),(0,d.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Delete category?"))try{(await fetch("http://localhost:5000/api/admin/categories/".concat(e),{method:"DELETE"})).ok&&(await F(),await D())}catch(o){console.error("Error deleting category:",o)}})(e._id),style:c(c(c({},z.btn),z.btnDanger),{},{padding:"4px 8px",fontSize:"0.75rem"}),children:"Del"})]})]},e._id))})]}),(0,d.jsxs)("div",{style:z.card,children:[(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[(0,d.jsx)("h3",{style:{fontWeight:"bold"},children:"Products"}),(0,d.jsxs)("span",{style:{fontSize:"0.875rem",color:"#94a3b8"},children:["Showing ",W.length]})]}),(0,d.jsx)("div",{style:{overflowX:"auto",maxHeight:"520px"},children:(0,d.jsxs)("table",{style:z.table,children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{style:{color:"#94a3b8",fontSize:"0.75rem",textAlign:"left"},children:[(0,d.jsx)("th",{style:{padding:"8px"},children:"Product"}),(0,d.jsx)("th",{style:{padding:"8px"},children:"Category"}),(0,d.jsx)("th",{style:{padding:"8px"},children:"Subcategory"}),(0,d.jsx)("th",{style:{padding:"8px"},children:"Price"}),(0,d.jsx)("th",{style:{padding:"8px"},children:"Stock"}),(0,d.jsx)("th",{style:{padding:"8px"},children:"Warranty"}),(0,d.jsx)("th",{style:{padding:"8px"},children:"Expiry"}),(0,d.jsx)("th",{style:{padding:"8px"},children:"Status"}),(0,d.jsx)("th",{style:{padding:"8px",textAlign:"right"},children:"Actions"})]})}),(0,d.jsx)("tbody",{children:W.map(e=>(0,d.jsxs)("tr",{children:[(0,d.jsxs)("td",{style:{padding:"8px"},children:[(0,d.jsx)("div",{style:{fontWeight:"600"},children:e.name}),(0,d.jsx)("div",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:e.description})]}),(0,d.jsx)("td",{style:{padding:"8px"},children:e.category}),(0,d.jsx)("td",{style:{padding:"8px"},children:e.subcategory||"-"}),(0,d.jsxs)("td",{style:{padding:"8px"},children:["\u20b9 ",e.price]}),(0,d.jsx)("td",{style:{padding:"8px"},children:e.stock}),(0,d.jsx)("td",{style:{padding:"8px"},children:e.warranty?(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#4CAF50"},children:e.warranty}):(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#666"},children:"-"})}),(0,d.jsx)("td",{style:{padding:"8px"},children:e.expiryDate?(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#ff9800"},children:new Date(e.expiryDate).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})}):(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#666"},children:"-"})}),(0,d.jsx)("td",{style:{padding:"8px"},children:e.status}),(0,d.jsx)("td",{style:{padding:"8px",textAlign:"right"},children:(0,d.jsxs)("div",{style:{display:"inline-flex",gap:"8px"},children:[(0,d.jsx)("button",{onClick:()=>L(e),style:c(c(c({},z.btn),z.btnGhost),{},{padding:"6px 10px",fontSize:"0.75rem"}),children:"Edit"}),(0,d.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Delete product?"))try{(await fetch("http://localhost:5000/api/admin/products/".concat(e),{method:"DELETE"})).ok&&await D()}catch(o){console.error("Error deleting product:",o)}})(e._id),style:c(c(c({},z.btn),z.btnDanger),{},{padding:"6px 10px",fontSize:"0.75rem"}),children:"Delete"})]})})]},e._id))})]})})]})]})]}),h&&(0,d.jsx)("div",{style:z.modal,onClick:e=>e.target===e.currentTarget&&m(!1),children:(0,d.jsxs)("div",{style:z.modalContent,children:[(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[(0,d.jsx)("h3",{style:{fontWeight:"bold"},children:x?"Edit Category":"Add Category"}),(0,d.jsx)("button",{onClick:()=>m(!1),style:{background:"none",border:"none",color:"#e6eef8",cursor:"pointer",fontSize:"1.25rem"},children:"\u2715"})]}),(0,d.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e={name:b.name.trim(),description:b.description.trim(),image:b.image.trim(),status:b.status};if(x){(await fetch("http://localhost:5000/api/admin/categories/".concat(x._id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok&&await F()}else{(await fetch("http://localhost:5000/api/admin/categories",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok&&await F()}m(!1)}catch(o){console.error("Error saving category:",o)}},style:{display:"grid",gap:"12px"},children:[(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Category Name"}),(0,d.jsx)("input",{value:b.name,onChange:e=>N(c(c({},b),{},{name:e.target.value})),style:z.input,required:!0})]}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Description"}),(0,d.jsx)("textarea",{value:b.description,onChange:e=>N(c(c({},b),{},{description:e.target.value})),style:c(c({},z.input),{},{fontFamily:"inherit"}),rows:"3"})]}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Image URL"}),(0,d.jsx)("input",{value:b.image,onChange:e=>N(c(c({},b),{},{image:e.target.value})),style:z.input})]}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Status"}),(0,d.jsxs)("select",{value:b.status,onChange:e=>N(c(c({},b),{},{status:e.target.value})),style:z.input,children:[(0,d.jsx)("option",{value:"active",children:"Active"}),(0,d.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"8px"},children:[(0,d.jsx)("button",{type:"button",onClick:()=>m(!1),style:c(c({},z.btn),z.btnGhost),children:"Cancel"}),(0,d.jsx)("button",{type:"submit",style:c(c({},z.btn),z.btnPrimary),children:"Save Category"})]})]})]})}),g&&(0,d.jsx)("div",{style:z.modal,onClick:e=>e.target===e.currentTarget&&f(!1),children:(0,d.jsxs)("div",{style:z.modalContent,children:[(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[(0,d.jsx)("h3",{style:{fontWeight:"bold"},children:v?"Edit Product":"Add Product"}),(0,d.jsx)("button",{onClick:()=>f(!1),style:{background:"none",border:"none",color:"#e6eef8",cursor:"pointer",fontSize:"1.25rem"},children:"\u2715"})]}),(0,d.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=new FormData;let t;e.append("name",w.name.trim()),e.append("price",w.price),e.append("vendor",w.vendor.trim()),e.append("category",w.category.trim()),e.append("subcategory",w.subcategory.trim()),w.image&&e.append("image",w.image),w.lat&&e.append("lat",w.lat),w.lon&&e.append("lon",w.lon),e.append("stock",w.stock),e.append("description",w.description.trim()),w.warranty&&e.append("warranty",w.warranty.trim()),w.expiryDate&&e.append("expiryDate",w.expiryDate),e.append("status",w.status),t=v?await fetch("http://localhost:5000/api/admin/products/".concat(v._id),{method:"PUT",body:e}):await fetch("http://localhost:5000/api/admin/products/upload",{method:"POST",body:e}),t.ok?(await D(),await B(),f(!1)):console.error("Failed to save product")}catch(o){console.error("Error saving product:",o)}},style:{display:"grid",gap:"12px"},children:[(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Product Name"}),(0,d.jsx)("input",{value:w.name,onChange:e=>k(c(c({},w),{},{name:e.target.value})),style:z.input,required:!0})]}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Vendor"}),(0,d.jsx)("input",{value:w.vendor,onChange:e=>k(c(c({},w),{},{vendor:e.target.value})),style:z.input,required:!0})]}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Category"}),(0,d.jsxs)("select",{value:w.category,onChange:e=>{const t=e.target.value;k(c(c({},w),{},{category:t,subcategory:""})),t?(B(t),E(t)):(C([]),E(""))},style:z.input,required:!0,children:[(0,d.jsx)("option",{value:"",children:"Select category"}),e.map(e=>(0,d.jsx)("option",{value:e.name,children:e.name},e._id))]})]}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Subcategory"}),(0,d.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,d.jsxs)("select",{value:w.subcategory,onChange:e=>{"add-new"===e.target.value?(T(!0),k(c(c({},w),{},{subcategory:""}))):(k(c(c({},w),{},{subcategory:e.target.value})),T(!1),A(""))},style:z.input,children:[(0,d.jsx)("option",{value:"",children:"Select subcategory (optional)"}),S.map(e=>(0,d.jsx)("option",{value:e,children:e},e)),(0,d.jsx)("option",{value:"add-new",children:"+ Add New Subcategory"})]}),P&&(0,d.jsx)("input",{value:M,onChange:e=>A(e.target.value),style:c(c({},z.input),{},{flex:1}),placeholder:"Enter new subcategory",onBlur:()=>{M.trim()&&k(c(c({},w),{},{subcategory:M.trim()}))}})]})]}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Price"}),(0,d.jsx)("input",{type:"number",value:w.price,onChange:e=>k(c(c({},w),{},{price:e.target.value})),style:z.input,required:!0})]}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Stock"}),(0,d.jsx)("input",{type:"number",value:w.stock,onChange:e=>k(c(c({},w),{},{stock:e.target.value})),style:z.input,required:!0})]})]}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Description"}),(0,d.jsx)("textarea",{value:w.description,onChange:e=>k(c(c({},w),{},{description:e.target.value})),style:c(c({},z.input),{},{fontFamily:"inherit"}),rows:"3"})]}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Warranty (Optional)"}),(0,d.jsx)("input",{type:"text",value:w.warranty,onChange:e=>k(c(c({},w),{},{warranty:e.target.value})),style:z.input,placeholder:"e.g., 1 year, 2 years, Lifetime"})]}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Expiry Date (Optional)"}),(0,d.jsx)("input",{type:"date",value:w.expiryDate,onChange:e=>k(c(c({},w),{},{expiryDate:e.target.value})),style:z.input})]}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Product Image"}),(0,d.jsx)("input",{type:"file",accept:"image/*",onChange:e=>k(c(c({},w),{},{image:e.target.files[0]})),style:z.input}),v&&w.image&&"string"===typeof w.image&&(0,d.jsx)("div",{style:{marginTop:"8px"},children:(0,d.jsx)("img",{src:"http://localhost:5000/uploads/".concat(w.image),alt:"Current product",style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"8px"}})})]}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Status"}),(0,d.jsxs)("select",{value:w.status,onChange:e=>k(c(c({},w),{},{status:e.target.value})),style:z.input,children:[(0,d.jsx)("option",{value:"active",children:"Active"}),(0,d.jsx)("option",{value:"inactive",children:"Inactive"})]})]}),(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"8px",paddingTop:"8px"},children:[(0,d.jsx)("button",{type:"button",onClick:()=>f(!1),style:c(c({},z.btn),z.btnGhost),children:"Cancel"}),(0,d.jsx)("button",{type:"submit",style:c(c({},z.btn),z.btnPrimary),children:"Save Product"})]})]})]})})]})},ht=e=>{let{navigateTo:t}=e;const[a,s]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0),[o,l]=(0,r.useState)(null),[u,p]=(0,r.useState)(0);(0,r.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await fetch("http://localhost:5000/api/admin/users",{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=(await t.json()).map(e=>({id:e._id,name:e.fullname,email:e.email,phone:e.phone||"",role:e.role,status:e.status,registered:e.createdAt?new Date(e.createdAt).toISOString().slice(0,10):"",lastLogin:e.lastActive?new Date(e.lastActive).toISOString():"",addresses:e.addresses||[],orders:e.orders||[],businessName:e.businessName,businessType:e.businessType,gender:e.gender,dateOfBirth:e.dateOfBirth}));s(e)}else l("Failed to fetch users")}catch(o){console.error("Error fetching users:",o),l("Error fetching users")}finally{i(!1)}})()},[u]);const[h,m]=(0,r.useState)({selectedUserId:null,currentTab:"profile",searchQuery:"",roleFilter:"",statusFilter:""}),[g,f]=(0,r.useState)(!1),[x,j]=(0,r.useState)(!1),[v,y]=(0,r.useState)(null),[b,N]=(0,r.useState)({name:"",email:"",phone:""}),[w,k]=(0,r.useState)({label:"",line:""}),S=a.find(e=>e.id===h.selectedUserId),C=a.filter(e=>{const t=!h.searchQuery||e.name.toLowerCase().includes(h.searchQuery.toLowerCase())||e.email.toLowerCase().includes(h.searchQuery.toLowerCase())||e.phone.includes(h.searchQuery),a=!h.roleFilter||e.role===h.roleFilter,r=!h.statusFilter||e.status===h.statusFilter;return t&&a&&r}),P=(e,t)=>{S&&s(a.map(a=>a.id===S.id?c(c({},a),{},{[e]:t}):a))},T=e=>{alert(e)},M={container:{fontFamily:"Inter, system-ui, sans-serif",background:"linear-gradient(180deg, #0b1020, #0d1226)",color:"#e6eef8",minHeight:"100vh"},header:{background:"linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01))",border:"1px solid rgba(255,255,255,0.06)",boxShadow:"0 8px 24px rgba(2,6,23,0.45)",position:"sticky",top:0,padding:"12px",zIndex:30},main:{maxWidth:"1280px",margin:"0 auto",padding:"16px"},card:{background:"linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01))",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"16px",padding:"12px"},btn:{display:"inline-flex",alignItems:"center",gap:"8px",borderRadius:"10px",padding:"8px 12px",fontWeight:"600",border:"none",cursor:"pointer"},btnPrimary:{background:"#6366f1",color:"white"},btnGhost:{background:"rgba(255,255,255,0.04)",color:"#e6eef8"},btnDanger:{background:"#ef4444",color:"white"},input:{backgroundColor:"rgba(255,255,255,0.05)",padding:"8px 12px",borderRadius:"12px",border:"none",color:"#e6eef8",width:"100%"},modal:{position:"fixed",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(2,6,23,0.6)",zIndex:50},modalContent:{background:"#0f162e",padding:"16px",borderRadius:"12px",maxWidth:"480px",width:"100%"},avatar:{height:"64px",width:"64px",borderRadius:"12px",display:"grid",placeItems:"center",background:"rgba(99, 102, 241, 0.12)",fontWeight:"700",color:"#c7d2fe",fontSize:"1.5rem"},tab:{padding:"8px 16px",borderRadius:"10px",background:"transparent",border:"none",cursor:"pointer",color:"#e6eef8",fontWeight:"500"},tabActive:{background:"rgba(255,255,255,0.03)"}};return(0,d.jsxs)("div",{style:M.container,children:[(0,d.jsx)("header",{style:M.header,children:(0,d.jsxs)("div",{style:{maxWidth:"1280px",margin:"0 auto",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{style:{fontWeight:"bold"},children:"User Profiles"}),(0,d.jsx)("p",{style:{fontSize:"0.875rem",color:"#94a3b8"},children:"Search, view and manage user accounts and security"})]}),(0,d.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,d.jsx)("button",{onClick:()=>t("admin-users"),style:c(c({},M.btn),M.btnGhost),children:"Users"}),(0,d.jsx)("button",{onClick:()=>t("admin-orders"),style:c(c({},M.btn),M.btnGhost),children:"Orders"})]})]})}),(0,d.jsxs)("main",{style:M.main,children:[(0,d.jsx)("section",{style:c(c({},M.card),{},{marginBottom:"24px"}),children:(0,d.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"center",flexWrap:"wrap"},children:[(0,d.jsx)("input",{placeholder:"Search by name, email, phone or id",value:h.searchQuery,onChange:e=>m(c(c({},h),{},{searchQuery:e.target.value})),style:c(c({},M.input),{},{width:"320px"})}),(0,d.jsxs)("select",{value:h.roleFilter,onChange:e=>m(c(c({},h),{},{roleFilter:e.target.value})),style:M.input,children:[(0,d.jsx)("option",{value:"",children:"All Roles"}),(0,d.jsx)("option",{children:"Customer"}),(0,d.jsx)("option",{children:"Seller"}),(0,d.jsx)("option",{children:"Delivery"}),(0,d.jsx)("option",{children:"Admin"})]}),(0,d.jsxs)("select",{value:h.statusFilter,onChange:e=>m(c(c({},h),{},{statusFilter:e.target.value})),style:M.input,children:[(0,d.jsx)("option",{value:"",children:"All Status"}),(0,d.jsx)("option",{value:"active",children:"Active"}),(0,d.jsx)("option",{value:"blocked",children:"Blocked"}),(0,d.jsx)("option",{value:"suspended",children:"Suspended"})]}),(0,d.jsxs)("div",{style:{marginLeft:"auto",display:"flex",gap:"8px"},children:[(0,d.jsx)("button",{onClick:()=>f(!0),style:c(c({},M.btn),M.btnPrimary),children:"+ Add User"}),(0,d.jsx)("button",{onClick:()=>{const e=["id,name,email,phone,role,status"].concat(a.map(e=>"".concat(e.id,',"').concat(e.name,'","').concat(e.email,'","').concat(e.phone,'",').concat(e.role,",").concat(e.status))).join("\n"),t=new Blob([e],{type:"text/csv"}),r=URL.createObjectURL(t),s=document.createElement("a");s.href=r,s.download="users.csv",s.click(),URL.revokeObjectURL(r),T("Exported users.csv")},style:c(c({},M.btn),M.btnGhost),children:"Export CSV"})]})]})}),(0,d.jsxs)("section",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"16px"},children:[(0,d.jsxs)("div",{style:M.card,children:[(0,d.jsx)("h3",{style:{fontWeight:"bold",marginBottom:"8px"},children:"Users"}),(0,d.jsx)("div",{style:{overflowY:"auto",maxHeight:"520px"},children:n?(0,d.jsx)("div",{style:{textAlign:"center",padding:"48px",color:"#94a3b8"},children:"Loading users..."}):o?(0,d.jsxs)("div",{style:{textAlign:"center",padding:"48px",color:"#ef4444"},children:["Error: ",o]}):(0,d.jsx)("ul",{style:{display:"grid",gap:"8px"},children:C.map(e=>(0,d.jsx)("li",{style:{padding:"8px",borderRadius:"8px",background:"rgba(255,255,255,0.02)"},children:(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{style:{fontWeight:"600"},children:[e.name," ",(0,d.jsxs)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:["(",e.role,")"]})]}),(0,d.jsx)("div",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:e.email})]}),(0,d.jsx)("button",{onClick:()=>{return t=e.id,void m(c(c({},h),{},{selectedUserId:t,currentTab:"profile"}));var t},style:c(c(c({},M.btn),M.btnGhost),{},{padding:"4px 8px",fontSize:"0.75rem"}),children:"Open"})]})},e.id))})})]}),(0,d.jsx)("div",{style:M.card,children:S?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{style:{display:"flex",gap:"16px",marginBottom:"16px"},children:[(0,d.jsx)("div",{style:M.avatar,children:S.name.split(" ").map(e=>e[0]).slice(0,2).join("").toUpperCase()}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{style:{fontSize:"1.25rem",fontWeight:"bold"},children:S.name}),(0,d.jsx)("div",{style:{fontSize:"0.875rem",color:"#94a3b8"},children:S.email}),(0,d.jsxs)("div",{style:{marginTop:"8px",display:"flex",gap:"8px"},children:[(0,d.jsx)("button",{style:c(c(c({},M.btn),M.btnGhost),{},{fontSize:"0.875rem"}),onClick:()=>T("Impersonating user (demo)"),children:"Impersonate"}),(0,d.jsx)("button",{style:c(c(c({},M.btn),M.btnDanger),{},{fontSize:"0.875rem"}),onClick:()=>{if(!S)return;const e="blocked"===S.status?"active":"blocked";s(a.map(t=>t.id===S.id?c(c({},t),{},{status:e}):t)),T("blocked"===e?"User blocked":"User unblocked")},children:"blocked"===S.status?"Unblock":"Block"})]})]})]}),(0,d.jsxs)("div",{style:{marginTop:"16px"},children:[(0,d.jsxs)("div",{style:{display:"flex",gap:"8px",borderBottom:"1px solid rgba(255,255,255,0.06)",marginBottom:"16px"},children:[(0,d.jsx)("button",{onClick:()=>m(c(c({},h),{},{currentTab:"profile"})),style:c(c({},M.tab),"profile"===h.currentTab?M.tabActive:{}),children:"Profile"}),(0,d.jsx)("button",{onClick:()=>m(c(c({},h),{},{currentTab:"addresses"})),style:c(c({},M.tab),"addresses"===h.currentTab?M.tabActive:{}),children:"Addresses"}),(0,d.jsx)("button",{onClick:()=>m(c(c({},h),{},{currentTab:"orders"})),style:c(c({},M.tab),"orders"===h.currentTab?M.tabActive:{}),children:"Orders"}),(0,d.jsx)("button",{onClick:()=>m(c(c({},h),{},{currentTab:"security"})),style:c(c({},M.tab),"security"===h.currentTab?M.tabActive:{}),children:"Security"})]}),"profile"===h.currentTab&&(0,d.jsxs)("div",{style:{display:"grid",gap:"12px"},children:[(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Full Name"}),(0,d.jsx)("input",{value:S.name,onChange:e=>P("name",e.target.value),style:M.input})]}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Email"}),(0,d.jsx)("input",{value:S.email,onChange:e=>P("email",e.target.value),style:M.input})]}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Phone"}),(0,d.jsx)("input",{value:S.phone,onChange:e=>P("phone",e.target.value),style:M.input})]}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Role"}),(0,d.jsxs)("select",{value:S.role,onChange:e=>P("role",e.target.value),style:M.input,children:[(0,d.jsx)("option",{children:"Customer"}),(0,d.jsx)("option",{children:"Seller"}),(0,d.jsx)("option",{children:"Delivery"}),(0,d.jsx)("option",{children:"Admin"})]})]})]}),(0,d.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,d.jsx)("button",{onClick:async()=>{try{const e=a.find(e=>e.id===h.selectedUserId);if(!e)return;const t=localStorage.getItem("token"),r=await fetch("http://localhost:5000/api/admin/profile/update",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({userId:e.id,email:e.email,role:e.role,profile:{name:e.name,phone:e.phone,gender:e.gender,dateOfBirth:e.dateOfBirth,addresses:e.addresses}})});if(r.ok){const t=await r.json();s(a.map(a=>a.id===e.id?c(c({},a),{},{name:t.user.fullname,phone:t.user.phone,gender:t.user.gender,dateOfBirth:t.user.dateOfBirth,addresses:t.user.addresses}):a)),p(e=>e+1),T("Profile saved successfully")}else{const e=await r.json();T("Failed to save profile: ".concat(e.message||"Unknown error"))}}catch(o){console.error("Error saving profile:",o),T("Error saving profile")}},style:c(c({},M.btn),M.btnPrimary),children:"Save Profile"})})]}),"addresses"===h.currentTab&&(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{style:{display:"grid",gap:"8px",marginBottom:"12px"},children:S.addresses.map(e=>(0,d.jsxs)("div",{style:{padding:"8px",borderRadius:"8px",background:"rgba(255,255,255,0.02)"},children:[(0,d.jsx)("div",{style:{fontWeight:"600"},children:e.label}),(0,d.jsx)("div",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:e.line}),(0,d.jsxs)("div",{style:{marginTop:"8px",display:"flex",gap:"8px"},children:[(0,d.jsx)("button",{onClick:()=>(e=>{y(e),k({label:e.label,line:e.line}),j(!0)})(e),style:c(c(c({},M.btn),M.btnGhost),{},{padding:"4px 8px",fontSize:"0.75rem"}),children:"Edit"}),(0,d.jsx)("button",{onClick:()=>{return t=e.id,void(S&&(s(a.map(e=>e.id===S.id?c(c({},e),{},{addresses:e.addresses.filter(e=>e.id!==t)}):e)),T("Address deleted")));var t},style:c(c(c({},M.btn),M.btnDanger),{},{padding:"4px 8px",fontSize:"0.75rem"}),children:"Delete"})]})]},e.id))}),(0,d.jsx)("button",{onClick:()=>{y(null),k({label:"",line:""}),j(!0)},style:c(c({},M.btn),M.btnGhost),children:"Add Address"})]}),"orders"===h.currentTab&&(0,d.jsx)("div",{style:{display:"grid",gap:"8px"},children:S.orders.length>0?S.orders.map(e=>(0,d.jsxs)("div",{style:{padding:"8px",borderRadius:"8px",background:"rgba(255,255,255,0.02)",display:"flex",justifyContent:"space-between"},children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{style:{fontWeight:"600"},children:e.id}),(0,d.jsx)("div",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:e.date})]}),(0,d.jsxs)("div",{children:["\u20b9 ",e.total]})]},e.id)):(0,d.jsx)("div",{style:{color:"#94a3b8"},children:"No orders"})}),"security"===h.currentTab&&(0,d.jsxs)("div",{style:{display:"grid",gap:"12px"},children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Last Login:"})," ",new Date(S.lastLogin).toLocaleString()]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Account Status:"})," ",S.status]}),(0,d.jsxs)("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:[(0,d.jsx)("button",{onClick:()=>T("Password reset link sent (demo)"),style:c(c({},M.btn),M.btnGhost),children:"Reset Password"}),(0,d.jsx)("button",{onClick:()=>T("User will be forced to change password (demo)"),style:c(c({},M.btn),M.btnGhost),children:"Force Password Change"})]})]})]})]}):(0,d.jsxs)("div",{style:{textAlign:"center",padding:"48px",color:"#94a3b8"},children:[(0,d.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"8px"},children:"Select a user"}),(0,d.jsx)("p",{style:{fontSize:"0.875rem"},children:"Choose a user from the list to view and edit their profile"})]})})]})]}),g&&(0,d.jsx)("div",{style:M.modal,onClick:e=>e.target===e.currentTarget&&f(!1),children:(0,d.jsxs)("div",{style:M.modalContent,children:[(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[(0,d.jsx)("h3",{style:{fontWeight:"bold"},children:"Add User"}),(0,d.jsx)("button",{onClick:()=>f(!1),style:{background:"none",border:"none",color:"#e6eef8",cursor:"pointer",fontSize:"1.25rem"},children:"\u2715"})]}),(0,d.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=Math.max(...a.map(e=>e.id),0)+1;s([...a,c(c({id:t},b),{},{role:"Customer",status:"active",registered:(new Date).toISOString().slice(0,10),lastLogin:(new Date).toISOString(),addresses:[],orders:[]})]),f(!1),N({name:"",email:"",phone:""}),T("User added")},style:{display:"grid",gap:"12px"},children:[(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Full name"}),(0,d.jsx)("input",{value:b.name,onChange:e=>N(c(c({},b),{},{name:e.target.value})),style:M.input,required:!0})]}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Email"}),(0,d.jsx)("input",{type:"email",value:b.email,onChange:e=>N(c(c({},b),{},{email:e.target.value})),style:M.input,required:!0})]}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Phone"}),(0,d.jsx)("input",{value:b.phone,onChange:e=>N(c(c({},b),{},{phone:e.target.value})),style:M.input,required:!0})]}),(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"8px"},children:[(0,d.jsx)("button",{type:"button",onClick:()=>f(!1),style:c(c({},M.btn),M.btnGhost),children:"Cancel"}),(0,d.jsx)("button",{type:"submit",style:c(c({},M.btn),M.btnPrimary),children:"Add User"})]})]})]})}),x&&(0,d.jsx)("div",{style:M.modal,onClick:e=>e.target===e.currentTarget&&j(!1),children:(0,d.jsxs)("div",{style:M.modalContent,children:[(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[(0,d.jsx)("h3",{style:{fontWeight:"bold"},children:v?"Edit Address":"Add Address"}),(0,d.jsx)("button",{onClick:()=>j(!1),style:{background:"none",border:"none",color:"#e6eef8",cursor:"pointer",fontSize:"1.25rem"},children:"\u2715"})]}),(0,d.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),S){if(v)s(a.map(e=>e.id===S.id?c(c({},e),{},{addresses:e.addresses.map(e=>e.id===v.id?c(c({},e),w):e)}):e)),T("Address updated");else{const e=Math.max(0,...a.flatMap(e=>e.addresses.map(e=>e.id)))+1;s(a.map(t=>t.id===S.id?c(c({},t),{},{addresses:[...t.addresses,c({id:e},w)]}):t)),T("Address added")}j(!1),k({label:"",line:""}),y(null)}},style:{display:"grid",gap:"12px"},children:[(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Label"}),(0,d.jsx)("input",{value:w.label,onChange:e=>k(c(c({},w),{},{label:e.target.value})),style:M.input,placeholder:"Home, Work, etc.",required:!0})]}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Address"}),(0,d.jsx)("textarea",{value:w.line,onChange:e=>k(c(c({},w),{},{line:e.target.value})),style:c(c({},M.input),{},{fontFamily:"inherit"}),rows:"3",required:!0})]}),(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"8px"},children:[(0,d.jsx)("button",{type:"button",onClick:()=>j(!1),style:c(c({},M.btn),M.btnGhost),children:"Cancel"}),(0,d.jsxs)("button",{type:"submit",style:c(c({},M.btn),M.btnPrimary),children:[v?"Update":"Add"," Address"]})]})]})]})})]})},mt="http://localhost:5000/api/admin",gt=e=>{let{navigateTo:t}=e;const[a,s]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0),[o,l]=(0,r.useState)({search:"",role:"",status:"",page:1,selected:new Set}),[u,p]=(0,r.useState)(!1),[h,m]=(0,r.useState)(null),[g,f]=(0,r.useState)(!1),[x,j]=(0,r.useState)(!1),[v,y]=(0,r.useState)(null),[b,N]=(0,r.useState)(""),[w,k]=(0,r.useState)({id:"",fullname:"",email:"",phone:"",role:"Customer",address:"",businessName:"",businessType:""});(0,r.useEffect)(()=>{S()},[]);const S=async()=>{try{i(!0);const e=await fetch("".concat(mt,"/users")),t=(await e.json()).map(e=>({id:e._id,fullname:e.fullname,email:e.email,phone:e.phone||"-",role:e.role,status:e.status,lastActive:e.lastActive?new Date(e.lastActive).toISOString().slice(0,16).replace("T"," "):"-",orders:e.orders||0,address:e.address||"-",businessName:e.businessName||"-",businessType:e.businessType||"-"}));s(t),i(!1)}catch(e){console.error("Error fetching users:",e),M("Error fetching users"),i(!1)}},C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;k(e?{id:e.id,fullname:e.fullname,email:e.email,phone:e.phone,role:e.role,address:e.address||"",businessName:e.businessName||"",businessType:e.businessType||""}:{id:"",fullname:"",email:"",phone:"",role:"Customer",address:"",businessName:"",businessType:""}),f(!0)},P=async e=>{try{for(const a of e)await fetch("".concat(mt,"/users/").concat(a),{method:"DELETE"});M("Users deleted"),S();const t=new Set(o.selected);e.forEach(e=>t.delete(e)),l(c(c({},o),{},{selected:t}))}catch(t){console.error("Error deleting users:",t),M("Error deleting users")}},T=(e,t)=>{N(e),y(()=>t),j(!0)},M=e=>{alert(e)},A=e=>{const t={padding:"4px 10px",borderRadius:"999px",fontSize:"0.75rem",fontWeight:"700",letterSpacing:"0.02em"};return c(c({},t),{},"active"===e?{background:"rgba(34,197,94,0.18)",color:"#86efac"}:"blocked"===e?{background:"rgba(239,68,68,0.18)",color:"#fca5a5"}:{background:"rgba(148,163,184,0.18)",color:"#cbd5e1"})},I={total:a.length,active:a.filter(e=>"active"===e.status).length,blocked:a.filter(e=>"blocked"===e.status).length,newToday:0},E=a.filter(e=>{const t=!o.search||e.fullname.toLowerCase().includes(o.search.toLowerCase())||e.email.toLowerCase().includes(o.search.toLowerCase())||e.phone.includes(o.search),a=!o.role||e.role===o.role,r=!o.status||e.status===o.status;return t&&a&&r}),F=(e=>{const t=10*(o.page-1);return e.slice(t,t+10)})(E),D=Math.max(1,Math.ceil(E.length/10)),B={container:{minHeight:"100vh",background:"#0f172a",color:"#e5e7eb",fontFamily:"system-ui, -apple-system, sans-serif",padding:"20px"},header:{marginBottom:"24px"},title:{fontSize:"1.875rem",fontWeight:"bold",marginBottom:"4px"},subtitle:{color:"#94a3b8"},kpiGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"24px"},card:{background:"rgba(30, 41, 59, 0.6)",backdropFilter:"blur(8px)",borderRadius:"12px",padding:"20px",border:"1px solid rgba(51, 65, 85, 0.5)"},kpiValue:{fontSize:"2.25rem",fontWeight:"bold",marginBottom:"4px"},kpiLabel:{fontSize:"0.875rem",color:"#94a3b8"},toolbar:{display:"flex",flexWrap:"wrap",gap:"12px",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},input:{background:"rgba(30, 41, 59, 0.6)",border:"1px solid rgba(51, 65, 85, 0.5)",borderRadius:"8px",padding:"8px 12px",color:"#e5e7eb",outline:"none",fontSize:"0.875rem"},btn:{padding:"8px 16px",borderRadius:"8px",fontSize:"0.875rem",fontWeight:"600",border:"none",cursor:"pointer",transition:"all 0.2s"},btnPrimary:{background:"linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%)",color:"#fff"},btnGhost:{background:"rgba(30, 41, 59, 0.6)",color:"#e5e7eb",border:"1px solid rgba(51, 65, 85, 0.5)"},btnDanger:{background:"rgba(239, 68, 68, 0.2)",color:"#fca5a5",border:"1px solid rgba(239, 68, 68, 0.3)"},table:{width:"100%",borderCollapse:"separate",borderSpacing:"0"},th:{textAlign:"left",padding:"12px",fontSize:"0.75rem",fontWeight:"700",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.05em",borderBottom:"1px solid rgba(51, 65, 85, 0.5)"},td:{padding:"12px",borderBottom:"1px solid rgba(51, 65, 85, 0.5)"},drawer:{position:"fixed",top:0,right:u?0:"-320px",height:"100vh",width:"320px",background:"rgba(30, 41, 59, 0.95)",backdropFilter:"blur(12px)",padding:"20px",transition:"right 0.3s",overflowY:"auto",zIndex:1e3,borderLeft:"1px solid rgba(51, 65, 85, 0.5)"},modal:{position:"fixed",inset:0,background:"rgba(0, 0, 0, 0.7)",display:"grid",placeItems:"center",zIndex:2e3,backdropFilter:"blur(4px)"},modalContent:{background:"rgba(30, 41, 59, 0.95)",backdropFilter:"blur(12px)",padding:"24px",borderRadius:"16px",maxWidth:"500px",width:"90%",border:"1px solid rgba(51, 65, 85, 0.5)"}};return n?(0,d.jsx)("div",{style:B.container,children:(0,d.jsx)("div",{style:{textAlign:"center",padding:"40px"},children:(0,d.jsx)("h2",{children:"Loading users..."})})}):(0,d.jsxs)("div",{style:B.container,children:[(0,d.jsxs)("header",{style:B.header,children:[(0,d.jsx)("button",{onClick:()=>t("admin-dashboard"),style:c(c(c({},B.btn),B.btnGhost),{},{marginRight:"20px"}),children:"\u2190 Back to Admin Home"}),(0,d.jsx)("h1",{style:B.title,children:"User Management"}),(0,d.jsx)("p",{style:B.subtitle,children:"Manage all platform users"})]}),(0,d.jsxs)("section",{style:B.kpiGrid,children:[(0,d.jsxs)("div",{style:B.card,children:[(0,d.jsx)("div",{style:B.kpiValue,children:I.total}),(0,d.jsx)("div",{style:B.kpiLabel,children:"Total Users"})]}),(0,d.jsxs)("div",{style:B.card,children:[(0,d.jsx)("div",{style:B.kpiValue,children:I.active}),(0,d.jsx)("div",{style:B.kpiLabel,children:"Active Users"})]}),(0,d.jsxs)("div",{style:B.card,children:[(0,d.jsx)("div",{style:B.kpiValue,children:I.blocked}),(0,d.jsx)("div",{style:B.kpiLabel,children:"Blocked Users"})]}),(0,d.jsxs)("div",{style:B.card,children:[(0,d.jsx)("div",{style:B.kpiValue,children:I.newToday}),(0,d.jsx)("div",{style:B.kpiLabel,children:"New Today"})]})]}),(0,d.jsxs)("main",{children:[(0,d.jsxs)("section",{style:B.card,children:[(0,d.jsxs)("div",{style:B.toolbar,children:[(0,d.jsxs)("div",{style:{display:"flex",gap:"8px",flex:1,flexWrap:"wrap"},children:[(0,d.jsx)("input",{type:"text",placeholder:"Search users...",value:o.search,onChange:e=>l(c(c({},o),{},{search:e.target.value,page:1})),style:c(c({},B.input),{},{minWidth:"200px",flex:1})}),(0,d.jsxs)("select",{value:o.role,onChange:e=>l(c(c({},o),{},{role:e.target.value,page:1})),style:B.input,children:[(0,d.jsx)("option",{value:"",children:"All Roles"}),(0,d.jsx)("option",{value:"Customer",children:"Customer"}),(0,d.jsx)("option",{value:"Seller",children:"Seller"}),(0,d.jsx)("option",{value:"Admin",children:"Admin"})]}),(0,d.jsxs)("select",{value:o.status,onChange:e=>l(c(c({},o),{},{status:e.target.value,page:1})),style:B.input,children:[(0,d.jsx)("option",{value:"",children:"All Status"}),(0,d.jsx)("option",{value:"active",children:"Active"}),(0,d.jsx)("option",{value:"blocked",children:"Blocked"})]})]}),(0,d.jsx)("button",{onClick:()=>{const e=["id","fullname","email","phone","role","status","lastActive","orders","address"],t=[e.join(",")].concat(a.map(t=>e.map(e=>{var a;return'"'.concat(String(null!==(a=t[e])&&void 0!==a?a:"").replace(/"/g,'\\"'),'"')}).join(","))).join("\n"),r=new Blob([t],{type:"text/csv"}),s=URL.createObjectURL(r),n=document.createElement("a");n.href=s,n.download="users.csv",n.click(),URL.revokeObjectURL(s)},style:c(c({},B.btn),B.btnGhost),children:"Export CSV"})]}),(0,d.jsx)("div",{style:{overflowX:"auto"},children:(0,d.jsxs)("table",{style:B.table,children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{style:B.th,children:(0,d.jsx)("input",{type:"checkbox",checked:F.length>0&&F.every(e=>o.selected.has(e.id)),onChange:e=>{const t=new Set(o.selected);e.target.checked?F.forEach(e=>t.add(e.id)):F.forEach(e=>t.delete(e.id)),l(c(c({},o),{},{selected:t}))}})}),(0,d.jsx)("th",{style:B.th,children:"User"}),(0,d.jsx)("th",{style:B.th,children:"Email"}),(0,d.jsx)("th",{style:B.th,children:"Phone"}),(0,d.jsx)("th",{style:B.th,children:"Role"}),(0,d.jsx)("th",{style:B.th,children:"Status"}),(0,d.jsx)("th",{style:B.th,children:"Last Active"}),(0,d.jsx)("th",{style:B.th,children:"Orders"}),(0,d.jsx)("th",{style:B.th,children:"Actions"})]})}),(0,d.jsx)("tbody",{children:F.map(e=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{style:B.td,children:(0,d.jsx)("input",{type:"checkbox",checked:o.selected.has(e.id),onChange:t=>{const a=new Set(o.selected);t.target.checked?a.add(e.id):a.delete(e.id),l(c(c({},o),{},{selected:a}))}})}),(0,d.jsx)("td",{style:B.td,children:(0,d.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,d.jsx)("div",{style:{height:"32px",width:"32px",borderRadius:"8px",background:"rgba(99, 102, 241, 0.2)",display:"grid",placeItems:"center",color:"#a5b4fc",fontWeight:"700",fontSize:"0.75rem"},children:e.fullname.split(" ").map(e=>e[0]).slice(0,2).join("").toUpperCase()}),(0,d.jsx)("span",{style:{fontWeight:"600"},children:e.fullname})]})}),(0,d.jsx)("td",{style:B.td,children:e.email}),(0,d.jsx)("td",{style:B.td,children:e.phone}),(0,d.jsx)("td",{style:B.td,children:e.role}),(0,d.jsx)("td",{style:B.td,children:(0,d.jsx)("span",{style:A(e.status),children:e.status})}),(0,d.jsx)("td",{style:B.td,children:e.lastActive}),(0,d.jsx)("td",{style:B.td,children:e.orders}),(0,d.jsx)("td",{style:B.td,children:(0,d.jsxs)("div",{style:{display:"flex",gap:"4px"},children:[(0,d.jsx)("button",{onClick:()=>(e=>{const t=a.find(t=>t.id===e);m(t),p(!0)})(e.id),style:c(c(c({},B.btn),B.btnGhost),{},{padding:"4px 8px",fontSize:"0.75rem"}),children:"View"}),(0,d.jsx)("button",{onClick:()=>C(e),style:c(c(c({},B.btn),B.btnGhost),{},{padding:"4px 8px",fontSize:"0.75rem"}),children:"Edit"}),"active"===e.status?(0,d.jsx)("button",{onClick:()=>T("Block this user?",()=>(async e=>{try{(await fetch("".concat(mt,"/users/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"blocked"})})).ok&&(M("User blocked"),S())}catch(t){console.error("Error blocking user:",t),M("Error blocking user")}})(e.id)),style:c(c(c({},B.btn),B.btnDanger),{},{padding:"4px 8px",fontSize:"0.75rem"}),children:"Block"}):(0,d.jsx)("button",{onClick:()=>T("Unblock this user?",()=>(async e=>{try{(await fetch("".concat(mt,"/users/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"active"})})).ok&&(M("User unblocked"),S())}catch(t){console.error("Error unblocking user:",t),M("Error unblocking user")}})(e.id)),style:c(c(c({},B.btn),B.btnPrimary),{},{padding:"4px 8px",fontSize:"0.75rem"}),children:"Unblock"}),(0,d.jsx)("button",{onClick:()=>T("Delete this user?",()=>P([e.id])),style:c(c(c({},B.btn),B.btnDanger),{},{padding:"4px 8px",fontSize:"0.75rem"}),children:"Delete"})]})})]},e.id))})]})})]}),(0,d.jsxs)("section",{style:c(c({},B.card),{},{display:"flex",justifyContent:"space-between",alignItems:"center"}),children:[(0,d.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,d.jsx)("button",{onClick:async()=>{try{for(const e of Array.from(o.selected))await fetch("".concat(mt,"/users/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"active"})});M("Selected users activated"),S()}catch(e){console.error("Error activating users:",e),M("Error activating users")}},disabled:0===o.selected.size,style:c(c(c({},B.btn),B.btnGhost),{},{opacity:0===o.selected.size?.5:1}),children:"Activate Selected"}),(0,d.jsx)("button",{onClick:async()=>{try{for(const e of Array.from(o.selected))await fetch("".concat(mt,"/users/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:"blocked"})});M("Selected users blocked"),S()}catch(e){console.error("Error blocking users:",e),M("Error blocking users")}},disabled:0===o.selected.size,style:c(c(c({},B.btn),B.btnGhost),{},{opacity:0===o.selected.size?.5:1}),children:"Block Selected"}),(0,d.jsx)("button",{onClick:()=>T("Delete selected users?",()=>P(Array.from(o.selected))),disabled:0===o.selected.size,style:c(c(c({},B.btn),B.btnDanger),{},{opacity:0===o.selected.size?.5:1}),children:"Delete Selected"})]}),(0,d.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,d.jsx)("button",{onClick:()=>o.page>1&&l(c(c({},o),{},{page:o.page-1})),disabled:1===o.page,style:c(c(c({},B.btn),B.btnGhost),{},{padding:"6px 10px",opacity:1===o.page?.5:1}),children:"Prev"}),(0,d.jsxs)("span",{style:{fontSize:"0.875rem",color:"#94a3b8"},children:["Page ",o.page," of ",D]}),(0,d.jsx)("button",{onClick:()=>o.page<D&&l(c(c({},o),{},{page:o.page+1})),disabled:o.page===D,style:c(c(c({},B.btn),B.btnGhost),{},{padding:"6px 10px",opacity:o.page===D?.5:1}),children:"Next"})]})]})]}),(0,d.jsx)("aside",{style:B.drawer,children:h&&(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[(0,d.jsx)("h3",{style:{fontWeight:"bold"},children:"User Details"}),(0,d.jsx)("button",{onClick:()=>p(!1),style:{background:"none",border:"none",color:"#e5e7eb",cursor:"pointer",fontSize:"1.25rem"},children:"\u2715"})]}),(0,d.jsxs)("div",{style:{display:"flex",gap:"12px",marginBottom:"16px"},children:[(0,d.jsx)("div",{style:{height:"48px",width:"48px",borderRadius:"12px",background:"rgba(99, 102, 241, 0.2)",display:"grid",placeItems:"center",color:"#a5b4fc",fontWeight:"700",fontSize:"1.25rem"},children:h.fullname.split(" ").map(e=>e[0]).slice(0,2).join("").toUpperCase()}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{style:{fontSize:"1.125rem",fontWeight:"bold"},children:h.fullname}),(0,d.jsx)("div",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:h.email})]})]}),(0,d.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px",marginBottom:"16px"},children:[(0,d.jsxs)("div",{style:c(c({},B.card),{},{padding:"12px"}),children:[(0,d.jsx)("div",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Role"}),(0,d.jsx)("div",{style:{fontWeight:"600"},children:h.role})]}),(0,d.jsxs)("div",{style:c(c({},B.card),{},{padding:"12px"}),children:[(0,d.jsx)("div",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Status"}),(0,d.jsx)("div",{children:(0,d.jsx)("span",{style:A(h.status),children:h.status})})]}),(0,d.jsxs)("div",{style:c(c({},B.card),{},{padding:"12px"}),children:[(0,d.jsx)("div",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Phone"}),(0,d.jsx)("div",{style:{fontWeight:"600"},children:h.phone||"-"})]}),(0,d.jsxs)("div",{style:c(c({},B.card),{},{padding:"12px"}),children:[(0,d.jsx)("div",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Last Active"}),(0,d.jsx)("div",{style:{fontWeight:"600"},children:h.lastActive})]}),(0,d.jsxs)("div",{style:c(c({},B.card),{},{padding:"12px",gridColumn:"1 / -1"}),children:[(0,d.jsx)("div",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Address"}),(0,d.jsx)("div",{style:{fontWeight:"600"},children:h.address||"-"})]}),"Seller"===h.role&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{style:c(c({},B.card),{},{padding:"12px"}),children:[(0,d.jsx)("div",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Business Name"}),(0,d.jsx)("div",{style:{fontWeight:"600"},children:h.businessName||"-"})]}),(0,d.jsxs)("div",{style:c(c({},B.card),{},{padding:"12px"}),children:[(0,d.jsx)("div",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Business Type"}),(0,d.jsx)("div",{style:{fontWeight:"600"},children:h.businessType||"-"})]})]})]}),(0,d.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,d.jsx)("button",{onClick:()=>C(h),style:c(c({},B.btn),B.btnPrimary),children:"Edit"}),(0,d.jsx)("button",{onClick:()=>p(!1),style:c(c({},B.btn),B.btnGhost),children:"Close"})]})]})}),g&&(0,d.jsx)("div",{style:B.modal,onClick:e=>e.target===e.currentTarget&&f(!1),children:(0,d.jsxs)("div",{style:B.modalContent,children:[(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[(0,d.jsx)("h3",{style:{fontWeight:"bold"},children:"Edit User"}),(0,d.jsx)("button",{onClick:()=>f(!1),style:{background:"none",border:"none",color:"#e5e7eb",cursor:"pointer",fontSize:"1.25rem"},children:"\u2715"})]}),(0,d.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{if(w.id){(await fetch("".concat(mt,"/users/").concat(w.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({fullname:w.fullname,email:w.email,phone:w.phone,address:w.address,businessName:w.businessName,businessType:w.businessType})})).ok?(M("User updated"),S()):M("Error updating user")}f(!1)}catch(t){console.error("Error saving user:",t),M("Error saving user")}},style:{display:"grid",gap:"12px"},children:[(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Full Name"}),(0,d.jsx)("input",{value:w.fullname,onChange:e=>k(c(c({},w),{},{fullname:e.target.value})),style:B.input,required:!0})]}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Email"}),(0,d.jsx)("input",{type:"email",value:w.email,onChange:e=>k(c(c({},w),{},{email:e.target.value})),style:B.input,required:!0})]}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Phone"}),(0,d.jsx)("input",{value:w.phone,onChange:e=>k(c(c({},w),{},{phone:e.target.value})),style:B.input})]}),"Seller"===w.role&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Business Name"}),(0,d.jsx)("input",{value:w.businessName,onChange:e=>k(c(c({},w),{},{businessName:e.target.value})),style:B.input})]}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Business Type"}),(0,d.jsx)("input",{value:w.businessType,onChange:e=>k(c(c({},w),{},{businessType:e.target.value})),style:B.input})]})]}),(0,d.jsxs)("label",{style:{display:"grid",gap:"4px"},children:[(0,d.jsx)("span",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:"Address"}),(0,d.jsx)("textarea",{value:w.address,onChange:e=>k(c(c({},w),{},{address:e.target.value})),style:c(c({},B.input),{},{fontFamily:"inherit"}),rows:"3"})]}),(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"8px"},children:[(0,d.jsx)("button",{type:"button",onClick:()=>f(!1),style:c(c({},B.btn),B.btnGhost),children:"Cancel"}),(0,d.jsx)("button",{type:"submit",style:c(c({},B.btn),B.btnPrimary),children:"Update User"})]})]})]})}),x&&(0,d.jsx)("div",{style:B.modal,children:(0,d.jsxs)("div",{style:c(c({},B.modalContent),{},{maxWidth:"400px"}),children:[(0,d.jsx)("h3",{style:{fontWeight:"bold",marginBottom:"16px"},children:"Confirm Action"}),(0,d.jsx)("p",{style:{marginBottom:"16px",color:"#94a3b8"},children:b}),(0,d.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"8px"},children:[(0,d.jsx)("button",{onClick:()=>j(!1),style:c(c({},B.btn),B.btnGhost),children:"Cancel"}),(0,d.jsx)("button",{onClick:()=>{v&&v(),j(!1)},style:c(c({},B.btn),B.btnDanger),children:"Confirm"})]})]})})]})},ft={container:{fontFamily:"Arial, sans-serif",backgroundColor:"#f5f5f5",minHeight:"100vh"},header:{backgroundColor:"#4a90e2",color:"white",padding:"10px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},logo:{fontSize:"20px",fontWeight:"bold",display:"flex",alignItems:"center"},logoIcon:{marginRight:"10px"},backButton:{backgroundColor:"#666",color:"white",border:"none",padding:"8px 16px",borderRadius:"5px",cursor:"pointer",fontSize:"14px"},content:{maxWidth:"1200px",margin:"20px auto",padding:"0 20px"},tabs:{display:"flex",marginBottom:"20px"},tab:{padding:"10px 20px",backgroundColor:"#e0e0e0",border:"none",cursor:"pointer",fontSize:"16px"},activeTab:{padding:"10px 20px",backgroundColor:"#4a90e2",color:"white",border:"none",cursor:"pointer",fontSize:"16px"},section:{backgroundColor:"white",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"},sectionTitle:{color:"#333",marginBottom:"20px"},emptyState:{textAlign:"center",padding:"40px",color:"#666"},productGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},productCard:{border:"1px solid #ddd",borderRadius:"10px",overflow:"hidden",backgroundColor:"white"},productImage:{width:"100%",height:"200px",objectFit:"cover"},productInfo:{padding:"15px"},productName:{margin:"0 0 10px 0",color:"#333",fontSize:"18px"},productVendor:{margin:"5px 0",color:"#666",fontSize:"14px"},productCategory:{margin:"5px 0",color:"#666",fontSize:"14px"},productPrice:{margin:"5px 0",color:"#4CAF50",fontSize:"16px",fontWeight:"bold"},productStock:{margin:"5px 0",color:"#666",fontSize:"14px"},productDescription:{margin:"10px 0",color:"#666",fontSize:"14px"},buttonGroup:{display:"flex",gap:"10px",marginTop:"15px"},approveButton:{backgroundColor:"#4CAF50",color:"white",border:"none",padding:"8px 16px",borderRadius:"5px",cursor:"pointer",flex:1},rejectButton:{backgroundColor:"#f44336",color:"white",border:"none",padding:"8px 16px",borderRadius:"5px",cursor:"pointer",flex:1},rejectionSection:{marginTop:"10px"},rejectionTextarea:{width:"100%",padding:"8px",border:"1px solid #ddd",borderRadius:"5px",minHeight:"60px"},sellerGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},sellerCard:{border:"1px solid #ddd",borderRadius:"10px",padding:"20px",backgroundColor:"white"},sellerName:{margin:"0 0 10px 0",color:"#333"},sellerEmail:{margin:"5px 0",color:"#666",fontSize:"14px"},sellerBusiness:{margin:"5px 0",color:"#666",fontSize:"14px"},sellerType:{margin:"5px 0",color:"#666",fontSize:"14px"},sellerStats:{margin:"15px 0",display:"flex",justifyContent:"space-between"},statItem:{fontSize:"12px",color:"#666"},viewProductsButton:{backgroundColor:"#2196F3",color:"white",border:"none",padding:"8px 16px",borderRadius:"5px",cursor:"pointer",width:"100%"},sellerProductsSection:{marginTop:"30px",paddingTop:"20px",borderTop:"1px solid #eee"},subSectionTitle:{color:"#333",marginBottom:"20px"},bulkActions:{display:"flex",gap:"10px",marginBottom:"20px"},bulkApproveButton:{backgroundColor:"#4CAF50",color:"white",border:"none",padding:"10px 20px",borderRadius:"5px",cursor:"pointer",fontSize:"16px"},bulkRejectButton:{backgroundColor:"#f44336",color:"white",border:"none",padding:"10px 20px",borderRadius:"5px",cursor:"pointer",fontSize:"16px"},createButton:{backgroundColor:"#4CAF50",color:"white",border:"none",padding:"8px 16px",borderRadius:"5px",cursor:"pointer",fontSize:"14px",marginRight:"10px"},sellerAddress:{margin:"5px 0",color:"#666",fontSize:"14px"},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},modal:{backgroundColor:"white",padding:"30px",borderRadius:"10px",maxWidth:"600px",width:"90%",maxHeight:"90vh",overflowY:"auto"},modalTitle:{margin:"0 0 20px 0",color:"#333"},form:{display:"flex",flexDirection:"column",gap:"15px"},formRow:{display:"flex",gap:"15px"},formGroup:{flex:1,display:"flex",flexDirection:"column"},label:{marginBottom:"5px",fontWeight:"bold",color:"#333"},input:{padding:"10px",border:"1px solid #ddd",borderRadius:"5px",fontSize:"14px"},textarea:{padding:"10px",border:"1px solid #ddd",borderRadius:"5px",fontSize:"14px",resize:"vertical"},cancelButton:{backgroundColor:"#666",color:"white",border:"none",padding:"10px 20px",borderRadius:"5px",cursor:"pointer"},submitButton:{backgroundColor:"#4CAF50",color:"white",border:"none",padding:"10px 20px",borderRadius:"5px",cursor:"pointer"}},xt=e=>{var t,a;let{navigateTo:s}=e;const[n,i]=(0,r.useState)([]),[o,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(null),[p,h]=(0,r.useState)([]),[m,g]=(0,r.useState)(!0),[f,x]=(0,r.useState)("approved"),[j,v]=(0,r.useState)(""),y="http://localhost:5000";(0,r.useEffect)(()=>{b()},[]);const b=async()=>{try{g(!0),console.log("Fetching admin data...");const[e,t]=await Promise.all([fetch("".concat(y,"/api/admin/sellers")),fetch("".concat(y,"/api/admin/pending-products"))]);if(!e.ok)throw new Error("Sellers API failed: ".concat(e.status," ").concat(e.statusText));if(!t.ok)throw new Error("Pending products API failed: ".concat(t.status," ").concat(t.statusText));const a=await e.json(),r=await t.json();console.log("Sellers loaded:",a.length),console.log("Pending products loaded:",r.length),i(a),l(r)}catch(e){console.error("Error fetching admin data:",e),alert("Failed to load data: ".concat(e.message,". Make sure the backend server is running on port 5000."))}finally{g(!1)}},N=async function(e,t){const a=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:j)||j;if("rejected"!==t||a.trim())try{(await fetch("".concat(y,"/api/admin/products/").concat(e,"/status"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t,rejectionReason:"rejected"===t?a:void 0})})).ok?(alert("Product ".concat(t," successfully!")),v(""),b()):alert("Failed to update product status")}catch(r){console.error("Error updating product:",r),alert("Error updating product status")}else alert("Please provide a reason for rejection")},w=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("rejected"!==e||t.trim())try{const a=o.map(a=>N(a._id,e,t));await Promise.all(a),alert("All products ".concat(e," successfully!")),b()}catch(a){console.error("Error in bulk action:",a),alert("Error in bulk action")}else alert("Please provide a reason for bulk rejection")},k=e=>{switch(e){case"approved":return"#4CAF50";case"rejected":return"#f44336";case"pending":return"#FF9800";default:return"#666"}};if(m)return(0,d.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,d.jsx)("div",{children:"Loading..."})});const S=[{key:"pending",label:"Pending (".concat(n.filter(e=>"pending"===e.status).length,")")},{key:"approved",label:"Approved (".concat(n.filter(e=>"active"===e.status||"approved"===e.status).length,")")},{key:"rejected",label:"Rejected (".concat(n.filter(e=>"rejected"===e.status).length,")")},{key:"all",label:"All (".concat(n.length,")")}];let C=n;return"pending"===f?C=n.filter(e=>"pending"===e.status):"approved"===f?C=n.filter(e=>"active"===e.status||"approved"===e.status):"rejected"===f&&(C=n.filter(e=>"rejected"===e.status)),(0,d.jsxs)("div",{style:ft.container,children:[(0,d.jsxs)("div",{style:ft.header,children:[(0,d.jsxs)("div",{style:ft.logo,children:[(0,d.jsx)("span",{style:ft.logoIcon,children:"\ud83d\uded2"}),"ShopNest Admin - Seller Management"]}),(0,d.jsx)("button",{style:ft.backButton,onClick:()=>s("admin-dashboard"),children:"\u2190 Back to Dashboard"})]}),(0,d.jsxs)("div",{style:ft.content,children:[(0,d.jsx)("div",{style:ft.tabs,children:S.map(e=>(0,d.jsx)("button",{style:f===e.key?ft.activeTab:ft.tab,onClick:()=>x(e.key),children:e.label},e.key))}),"pending"===f?(0,d.jsxs)("div",{style:ft.section,children:[(0,d.jsxs)("h2",{style:ft.sectionTitle,children:["Pending Product Approvals (",o.length,")"]}),0===o.length?(0,d.jsx)("div",{style:ft.emptyState,children:(0,d.jsx)("p",{children:"No pending products to review."})}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{style:ft.bulkActions,children:[(0,d.jsx)("button",{style:ft.bulkApproveButton,onClick:()=>w("approved"),children:"Approve All"}),(0,d.jsx)("button",{style:ft.bulkRejectButton,onClick:()=>{const e=prompt("Enter rejection reason for all products:");e&&w("rejected",e)},children:"Reject All"})]}),(0,d.jsx)("div",{style:ft.productGrid,children:o.map(e=>(0,d.jsxs)("div",{style:ft.productCard,children:[(0,d.jsx)("img",{src:e.image?e.image.startsWith("http")?e.image:"http://localhost:5000/uploads/".concat(e.image):"https://via.placeholder.com/200x150?text=No+Image",alt:e.name,style:ft.productImage,onError:e=>e.target.src="https://via.placeholder.com/200x150?text=No+Img"}),(0,d.jsxs)("div",{style:ft.productInfo,children:[(0,d.jsx)("h4",{style:ft.productName,children:e.name}),(0,d.jsxs)("p",{style:ft.productCategory,children:["Category: ",e.category]}),(0,d.jsxs)("p",{style:ft.productVendor,children:["Vendor: ",e.vendor]}),(0,d.jsxs)("p",{style:ft.productPrice,children:["\u20b9",e.price]}),(0,d.jsxs)("p",{style:ft.productStock,children:["Stock: ",e.stock]}),(0,d.jsxs)("p",{style:{color:k(e.status)},children:["Status: ",e.status]}),(0,d.jsxs)("div",{style:ft.buttonGroup,children:[(0,d.jsx)("button",{style:ft.approveButton,onClick:()=>N(e._id,"approved"),children:"Approve"}),(0,d.jsx)("button",{style:ft.rejectButton,onClick:()=>{const t=prompt("Enter rejection reason:");t&&N(e._id,"rejected",t)},children:"Reject"})]})]})]},e._id))})]})]}):(0,d.jsxs)("div",{style:ft.section,children:[(0,d.jsxs)("h2",{style:ft.sectionTitle,children:[null===(t=S.find(e=>e.key===f))||void 0===t?void 0:t.label.replace(/\(.*\)/,"")," Sellers"]}),(0,d.jsx)("div",{style:ft.sellerGrid,children:0===C.length?(0,d.jsx)("div",{style:ft.emptyState,children:(0,d.jsx)("p",{children:"No sellers found for this status."})}):C.map(e=>(0,d.jsxs)("div",{style:ft.sellerCard,children:[(0,d.jsx)("h3",{style:ft.sellerName,children:e.fullname}),(0,d.jsx)("p",{style:ft.sellerEmail,children:e.email}),(0,d.jsxs)("p",{style:ft.sellerBusiness,children:["Business: ",e.businessName]}),(0,d.jsxs)("p",{style:ft.sellerType,children:["Type: ",e.businessType]}),(0,d.jsxs)("div",{style:ft.sellerStats,children:[(0,d.jsxs)("span",{style:ft.statItem,children:["Phone: ",e.phone||"N/A"]}),(0,d.jsxs)("span",{style:ft.statItem,children:["Status: ",(0,d.jsx)("span",{style:{color:k(e.status)},children:e.status})]})]}),(0,d.jsx)("button",{style:ft.viewProductsButton,onClick:()=>(async e=>{try{const t=await fetch("".concat(y,"/api/admin/sellers/").concat(e,"/products")),a=await t.json();h(a),u(e)}catch(t){console.error("Error fetching seller products:",t),alert("Failed to load seller products")}})(e._id),children:"View Products"})]},e._id))})]}),c&&p.length>0&&(0,d.jsxs)("div",{style:ft.sellerProductsSection,children:[(0,d.jsxs)("h3",{style:ft.subSectionTitle,children:["Products from ",null===(a=n.find(e=>e._id===c))||void 0===a?void 0:a.businessName]}),(0,d.jsx)("div",{style:ft.productGrid,children:p.map(e=>(0,d.jsxs)("div",{style:ft.productCard,children:[(0,d.jsx)("img",{src:e.image?e.image.startsWith("http")?e.image:"http://localhost:5000/uploads/".concat(e.image):"https://via.placeholder.com/200x150?text=No+Image",alt:e.name,style:ft.productImage,onError:e=>e.target.src="https://via.placeholder.com/200x150?text=No+Img"}),(0,d.jsxs)("div",{style:ft.productInfo,children:[(0,d.jsx)("h4",{style:ft.productName,children:e.name}),(0,d.jsxs)("p",{style:ft.productCategory,children:["Category: ",e.category]}),(0,d.jsxs)("p",{style:ft.productPrice,children:["\u20b9",e.price]}),(0,d.jsxs)("p",{style:ft.productStock,children:["Stock: ",e.stock]}),(0,d.jsxs)("p",{style:{color:k(e.status)},children:["Status: ",e.status]}),"pending"===e.status&&(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{style:ft.buttonGroup,children:[(0,d.jsx)("button",{style:ft.approveButton,onClick:()=>N(e._id,"approved"),children:"Approve"}),(0,d.jsx)("button",{style:ft.rejectButton,onClick:()=>{const t=prompt("Enter rejection reason:");t&&N(e._id,"rejected",t)},children:"Reject"})]})})]})]},e._id))})]})]})]})},jt={container:{fontFamily:"Arial, sans-serif",minHeight:"100vh",backgroundColor:"#f5f5f5"},header:{backgroundColor:"#4a90e2",color:"white",padding:"15px 30px",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},logo:{fontSize:"24px",fontWeight:"bold",display:"flex",alignItems:"center"},logoIcon:{marginRight:"10px"},backButton:{backgroundColor:"white",color:"#4a90e2",border:"none",padding:"10px 20px",borderRadius:"5px",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s"},content:{maxWidth:"1400px",margin:"30px auto",padding:"0 20px"},title:{fontSize:"32px",color:"#333",marginBottom:"10px"},subtitle:{fontSize:"16px",color:"#666",marginBottom:"30px"},filterTabs:{display:"flex",gap:"10px",marginBottom:"30px",borderBottom:"2px solid #e0e0e0",paddingBottom:"10px"},filterTab:{backgroundColor:"white",border:"2px solid #e0e0e0",padding:"12px 24px",borderRadius:"5px 5px 0 0",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s",color:"#666"},filterTabActive:{backgroundColor:"#4a90e2",color:"white",borderColor:"#4a90e2"},loading:{textAlign:"center",padding:"60px",fontSize:"18px",color:"#666"},empty:{textAlign:"center",padding:"60px",backgroundColor:"white",borderRadius:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},table:{backgroundColor:"white",borderRadius:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",overflowX:"auto"},tableElement:{width:"100%",borderCollapse:"collapse"},tableHeader:{backgroundColor:"#f9f9f9"},th:{padding:"15px",textAlign:"left",fontWeight:"600",color:"#333",borderBottom:"2px solid #e0e0e0"},tableRow:{borderBottom:"1px solid #f0f0f0",transition:"background-color 0.2s"},td:{padding:"15px",color:"#666"},statusBadge:{padding:"5px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",display:"inline-block"},actionButtons:{display:"flex",gap:"8px",flexWrap:"wrap"},approveButton:{backgroundColor:"#4CAF50",color:"white",border:"none",padding:"8px 16px",borderRadius:"5px",cursor:"pointer",fontSize:"12px",fontWeight:"600",transition:"all 0.3s"},rejectButton:{backgroundColor:"#f44336",color:"white",border:"none",padding:"8px 16px",borderRadius:"5px",cursor:"pointer",fontSize:"12px",fontWeight:"600",transition:"all 0.3s"},deleteButton:{backgroundColor:"#9e9e9e",color:"white",border:"none",padding:"8px 16px",borderRadius:"5px",cursor:"pointer",fontSize:"12px",fontWeight:"600",transition:"all 0.3s"},modalOverlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},modalContent:{backgroundColor:"white",padding:"30px",borderRadius:"10px",maxWidth:"500px",width:"90%",boxShadow:"0 4px 6px rgba(0,0,0,0.2)"},textarea:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"5px",fontSize:"14px",fontFamily:"Arial, sans-serif",marginTop:"10px",marginBottom:"20px",resize:"vertical"},modalButtons:{display:"flex",gap:"10px",justifyContent:"flex-end"},confirmRejectButton:{backgroundColor:"#f44336",color:"white",border:"none",padding:"12px 24px",borderRadius:"5px",cursor:"pointer",fontSize:"14px",fontWeight:"600"},cancelButton:{backgroundColor:"#9e9e9e",color:"white",border:"none",padding:"12px 24px",borderRadius:"5px",cursor:"pointer",fontSize:"14px",fontWeight:"600"}},vt=e=>{let{navigateTo:t}=e;const[a,s]=(0,r.useState)([]),[n,i]=(0,r.useState)("pending"),[o,l]=(0,r.useState)(!0),[u,p]=(0,r.useState)(null),[h,m]=(0,r.useState)(!1),[g,f]=(0,r.useState)("");(0,r.useEffect)(()=>{x()},[n]);const x=async()=>{try{l(!0);const e="pending"===n?"http://localhost:5000/api/admin/pending-sellers":"http://localhost:5000/api/admin/all-sellers",t=await fetch(e),a=await t.json();if("all"===n)s(a);else if("pending"===n)s(a);else{const e=a.filter(e=>e.status===n);s(e)}l(!1)}catch(e){console.error("Error fetching sellers:",e),l(!1),alert("Failed to fetch sellers")}},j=async e=>{if(window.confirm("Are you sure you want to APPROVE this seller registration?"))try{const t=await fetch("http://localhost:5000/api/admin/sellers/".concat(e,"/approve"),{method:"PUT",headers:{"Content-Type":"application/json"}}),a=await t.json();t.ok?(alert("Seller approved successfully! They can now login and add products."),x()):alert(a.message||"Failed to approve seller")}catch(t){console.error("Error approving seller:",t),alert("An error occurred while approving seller")}},v={all:a.length,pending:a.filter(e=>"pending"===e.status).length,active:a.filter(e=>"active"===e.status).length,rejected:a.filter(e=>"rejected"===e.status).length};return(0,d.jsxs)("div",{style:jt.container,children:[(0,d.jsxs)("div",{style:jt.header,children:[(0,d.jsxs)("div",{style:jt.logo,children:[(0,d.jsx)("span",{style:jt.logoIcon,children:"\ud83d\uded2"}),"ShopNest Admin"]}),(0,d.jsx)("button",{style:jt.backButton,onClick:()=>t("admin-dashboard"),children:"\u2190 Back to Dashboard"})]}),(0,d.jsxs)("div",{style:jt.content,children:[(0,d.jsx)("h1",{style:jt.title,children:"Earner Management - Seller Registrations"}),(0,d.jsx)("p",{style:jt.subtitle,children:"Review and approve seller registration requests from earners"}),(0,d.jsxs)("div",{style:jt.filterTabs,children:[(0,d.jsxs)("button",{style:c(c({},jt.filterTab),"pending"===n?jt.filterTabActive:{}),onClick:()=>i("pending"),children:["\u23f3 Pending (",v.pending,")"]}),(0,d.jsxs)("button",{style:c(c({},jt.filterTab),"active"===n?jt.filterTabActive:{}),onClick:()=>i("active"),children:["\u2705 Approved (",v.active,")"]}),(0,d.jsxs)("button",{style:c(c({},jt.filterTab),"rejected"===n?jt.filterTabActive:{}),onClick:()=>i("rejected"),children:["\u274c Rejected (",v.rejected,")"]}),(0,d.jsxs)("button",{style:c(c({},jt.filterTab),"all"===n?jt.filterTabActive:{}),onClick:()=>i("all"),children:["\ud83d\udccb All (",v.all,")"]})]}),o?(0,d.jsx)("div",{style:jt.loading,children:"Loading sellers..."}):0===a.length?(0,d.jsxs)("div",{style:jt.empty,children:[(0,d.jsxs)("h2",{children:["No ","all"===n?"":n," sellers found"]}),(0,d.jsxs)("p",{children:["pending"===n&&"No pending seller registrations at this time.","active"===n&&"No approved sellers yet.","rejected"===n&&"No rejected seller registrations.","all"===n&&"No seller registrations found."]})]}):(0,d.jsx)("div",{style:jt.table,children:(0,d.jsxs)("table",{style:jt.tableElement,children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{style:jt.tableHeader,children:[(0,d.jsx)("th",{style:jt.th,children:"Name"}),(0,d.jsx)("th",{style:jt.th,children:"Business Name"}),(0,d.jsx)("th",{style:jt.th,children:"Business Type"}),(0,d.jsx)("th",{style:jt.th,children:"Email"}),(0,d.jsx)("th",{style:jt.th,children:"Registered By"}),(0,d.jsx)("th",{style:jt.th,children:"Registration Date"}),(0,d.jsx)("th",{style:jt.th,children:"Status"}),"active"===n?(0,d.jsx)("th",{style:jt.th,children:"Action"}):(0,d.jsx)("th",{style:jt.th,children:"Actions"})]})}),(0,d.jsx)("tbody",{children:a.map(e=>{return(0,d.jsxs)("tr",{style:jt.tableRow,children:[(0,d.jsx)("td",{style:jt.td,children:e.fullname}),(0,d.jsx)("td",{style:jt.td,children:(0,d.jsx)("strong",{children:e.businessName})}),(0,d.jsx)("td",{style:jt.td,children:e.businessType}),(0,d.jsx)("td",{style:jt.td,children:e.email}),(0,d.jsx)("td",{style:jt.td,children:e.earnerEmail?e.earnerEmail:"self"}),(0,d.jsx)("td",{style:jt.td,children:new Date(e.createdAt).toLocaleDateString()}),(0,d.jsx)("td",{style:jt.td,children:(0,d.jsx)("span",{style:c(c({},jt.statusBadge),(t=e.status,{pending:{background:"#ff9800",color:"white"},active:{background:"#4CAF50",color:"white"},rejected:{background:"#f44336",color:"white"},blocked:{background:"#9e9e9e",color:"white"}}[t]||{background:"#ccc",color:"white"})),children:e.status.toUpperCase()})}),(0,d.jsx)("td",{style:jt.td,children:(0,d.jsxs)("div",{style:jt.actionButtons,children:["pending"===e.status&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("button",{style:jt.approveButton,onClick:()=>j(e._id),children:"\u2705 Approve"}),(0,d.jsx)("button",{style:jt.rejectButton,onClick:()=>(async e=>{p(e),m(!0)})(e._id),children:"\u274c Reject"})]}),"rejected"===e.status&&(0,d.jsx)("button",{style:jt.approveButton,onClick:()=>j(e._id),children:"\u2705 Approve"}),"active"===n&&(0,d.jsx)("button",{style:jt.deleteButton,onClick:()=>(async(e,t)=>{if(window.confirm("Are you sure you want to PERMANENTLY DELETE ".concat(t,"? This action cannot be undone.")))try{const t=await fetch("http://localhost:5000/api/admin/sellers/".concat(e),{method:"DELETE"}),a=await t.json();t.ok?(alert("Seller deleted successfully"),x()):alert(a.message||"Failed to delete seller")}catch(a){console.error("Error deleting seller:",a),alert("An error occurred while deleting seller")}})(e._id,e.businessName),children:"\ud83d\uddd1\ufe0f Delete"})]})})]},e._id);var t})})]})})]}),h&&(0,d.jsx)("div",{style:jt.modalOverlay,onClick:()=>m(!1),children:(0,d.jsxs)("div",{style:jt.modalContent,onClick:e=>e.stopPropagation(),children:[(0,d.jsx)("h2",{children:"Reject Seller Registration"}),(0,d.jsx)("p",{children:"Please provide a reason for rejection (optional):"}),(0,d.jsx)("textarea",{style:jt.textarea,placeholder:"e.g., Incomplete information, Invalid business type, etc.",value:g,onChange:e=>f(e.target.value),rows:4}),(0,d.jsxs)("div",{style:jt.modalButtons,children:[(0,d.jsx)("button",{style:jt.confirmRejectButton,onClick:async()=>{try{const e=await fetch("http://localhost:5000/api/admin/sellers/".concat(u,"/reject"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({rejectionReason:g})}),t=await e.json();e.ok?(alert("Seller registration rejected. Notification email sent to seller."),m(!1),f(""),p(null),x()):alert(t.message||"Failed to reject seller")}catch(e){console.error("Error rejecting seller:",e),alert("An error occurred while rejecting seller")}},children:"Confirm Rejection"}),(0,d.jsx)("button",{style:jt.cancelButton,onClick:()=>{m(!1),f(""),p(null)},children:"Cancel"})]})]})})]})},yt={Clothes:["Men","Women","Kids"],Footwear:["Men's Footwear","Women's Footwear","Kids' Footwear"],Jewellery:["Men's Jewellery","Women's Jewellery","Kids' Jewellery"],Watches:["Men's Watches","Women's Watches","Kids' Watches"],"Food & Dining":[],Medicines:[],Automotive:[],Services:[],Bags:[],"Beauty Products":[],"Sports & Fitness":[],"Home Furniture":[],Groceries:[],"Home Decor":[],"Musical Instruments":[],Books:[],"Pet Food":[],"Organic Veggies & Fruits":[]},bt=e=>{let{seller:t,setAllProducts:a,onLogout:s,navigateTo:n}=e;const[i,o]=(0,r.useState)([]),[l,u]=(0,r.useState)([]),[h,m]=(0,r.useState)(!1),[g,f]=(0,r.useState)(""),[x,j]=(0,r.useState)(null),[v,y]=(0,r.useState)({}),[b,N]=(0,r.useState)("dashboard"),[w,k]=(0,r.useState)({businessName:(null===t||void 0===t?void 0:t.businessName)||"",businessType:(null===t||void 0===t?void 0:t.businessType)||"",address:(null===t||void 0===t?void 0:t.address)||"",lat:(null===t||void 0===t?void 0:t.lat)||null,lon:(null===t||void 0===t?void 0:t.lon)||null}),S=(0,r.useRef)(null),C=e=>{if(!e)return"-";return new Date(e).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"})};(0,r.useEffect)(()=>{t&&t.id&&(async()=>{try{const e=await fetch("http://localhost:5000/api/products?sellerId=".concat(t.id));if(!e.ok)throw new Error("Failed to fetch products");{const t=e.headers.get("content-type");if(!t||!t.includes("application/json"))throw new Error("Response is not JSON");{const t=await e.json();u(t)}}const a=JSON.parse(localStorage.getItem("sellerOrders")||"[]");o(a)}catch(e){console.error("Error fetching seller data:",e),u([])}})()},[t]);const P=async()=>{try{const e=await fetch("http://localhost:5000/api/products?sellerId=".concat(t.id));if(!e.ok)throw new Error("Failed to fetch products");{const t=e.headers.get("content-type");if(!t||!t.includes("application/json"))throw new Error("Response is not JSON");{const t=await e.json();u(t)}}}catch(e){console.error("Error fetching products:",e),u([])}},T=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(f(e),j(a),t&&"product"===e){const e=c(c({},t),{},{expireDate:t.expireDate?new Date(t.expireDate).toISOString().split("T")[0]:"",expiryDate:t.expiryDate?new Date(t.expiryDate).toISOString().split("T")[0]:t.expireDate?new Date(t.expireDate).toISOString().split("T")[0]:""});y(e)}else y(t||("product"===e?{category:"Food & Dining"}:{}));m(!0)},M=()=>{m(!1),y({}),j(null)},A=i.reduce((e,t)=>e+t.amount,0);return(0,d.jsxs)("div",{className:"dashboard-container",children:[(0,d.jsxs)("div",{className:"sidebar",children:[(0,d.jsx)("div",{className:"sidebar-header",children:(0,d.jsxs)("h1",{children:[(0,d.jsx)("i",{className:"fas fa-store"})," Seller Center"]})}),(0,d.jsxs)("div",{className:"seller-info",children:[(0,d.jsx)("h3",{children:t.name}),(0,d.jsx)("p",{children:"Business Dashboard"})]}),(0,d.jsxs)("nav",{className:"sidebar-nav",children:[(0,d.jsxs)("a",{href:"#",className:"nav-item ".concat("dashboard"===b?"active":""),onClick:()=>N("dashboard"),children:[(0,d.jsx)("i",{className:"fas fa-tachometer-alt"})," Dashboard"]}),(0,d.jsxs)("a",{href:"#",className:"nav-item ".concat("profile"===b?"active":""),onClick:()=>N("profile"),children:[(0,d.jsx)("i",{className:"fas fa-user-edit"})," Profile"]})]})]}),(0,d.jsxs)("div",{className:"main-content",children:[(0,d.jsxs)("div",{className:"header",children:[(0,d.jsx)("h2",{children:"Seller Dashboard"}),(0,d.jsxs)("div",{className:"user-actions",children:[(0,d.jsxs)("button",{className:"back-to-store",onClick:()=>{const e=t&&(t.businessName||t.businessname||t.name||t.fullname||t.fullName);try{e?"function"===typeof n?n("vendor-store",{vendor:e,sellerId:t.id}):(console.warn("navigateTo not provided - dispatching openVendorStore event"),window.dispatchEvent(new CustomEvent("openVendorStore",{detail:{vendor:e,sellerId:t.id}}))):"function"===typeof n?n("groceries-products"):window.location.href="/"}catch(a){console.error("Error during Visit Store navigation:",a)}},children:[(0,d.jsx)("i",{className:"fas fa-store"})," Visit Store"]}),(0,d.jsxs)("button",{className:"logout-btn",onClick:s,children:[(0,d.jsx)("i",{className:"fas fa-sign-out-alt"})," Logout"]})]})]}),(0,d.jsxs)("div",{className:"stats-grid",children:[(0,d.jsxs)("div",{className:"stat-card orders",children:[(0,d.jsx)("div",{className:"stat-icon",children:(0,d.jsx)("i",{className:"fas fa-shopping-cart"})}),(0,d.jsx)("div",{className:"stat-number",children:i.length}),(0,d.jsx)("div",{className:"stat-label",children:"New Orders"})]}),(0,d.jsxs)("div",{className:"stat-card revenue",children:[(0,d.jsx)("div",{className:"stat-icon",children:(0,d.jsx)("i",{className:"fas fa-rupee-sign"})}),(0,d.jsxs)("div",{className:"stat-number",children:["\u20b9",A]}),(0,d.jsx)("div",{className:"stat-label",children:"Total Revenue"})]}),(0,d.jsxs)("div",{className:"stat-card products",children:[(0,d.jsx)("div",{className:"stat-icon",children:(0,d.jsx)("i",{className:"fas fa-box"})}),(0,d.jsx)("div",{className:"stat-number",children:l.length}),(0,d.jsx)("div",{className:"stat-label",children:"Products"})]})]}),(0,d.jsxs)("div",{className:"content-section",children:[(0,d.jsxs)("div",{className:"section-header",children:[(0,d.jsx)("h3",{children:"Recent Orders"}),(0,d.jsxs)("button",{className:"add-btn",onClick:()=>T("order"),children:[(0,d.jsx)("i",{className:"fas fa-plus"})," Add Order"]})]}),(0,d.jsxs)("table",{className:"data-table",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Order ID"}),(0,d.jsx)("th",{children:"Customer"}),(0,d.jsx)("th",{children:"Amount"}),(0,d.jsx)("th",{children:"Status"}),(0,d.jsx)("th",{children:"Date"}),(0,d.jsx)("th",{children:"Actions"})]})}),(0,d.jsx)("tbody",{children:i.map((e,t)=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:e.id}),(0,d.jsx)("td",{children:e.customer}),(0,d.jsxs)("td",{children:["\u20b9",e.amount]}),(0,d.jsx)("td",{children:(0,d.jsx)("span",{className:"status ".concat(e.status),children:e.status})}),(0,d.jsx)("td",{children:e.date}),(0,d.jsxs)("td",{children:[(0,d.jsx)("button",{className:"edit-btn action-btn",onClick:()=>T("order",e,t),children:"Edit"}),(0,d.jsx)("button",{className:"delete-btn action-btn",onClick:()=>(e=>{if(window.confirm("Are you sure you want to delete this order?")){const t=i.filter((t,a)=>a!==e);o(t),localStorage.setItem("sellerOrders",JSON.stringify(t))}})(t),children:"Delete"})]})]},t))})]})]}),(0,d.jsxs)("div",{className:"content-section",children:[(0,d.jsxs)("div",{className:"section-header",children:[(0,d.jsx)("h3",{children:"Product Management"}),(0,d.jsxs)("button",{className:"add-btn",onClick:()=>T("product"),children:[(0,d.jsx)("i",{className:"fas fa-plus"})," Add Product"]})]}),(0,d.jsxs)("table",{className:"data-table",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Product"}),(0,d.jsx)("th",{children:"Price"}),(0,d.jsx)("th",{children:"Stock"}),(0,d.jsx)("th",{children:"Description"}),(0,d.jsx)("th",{children:"Warranty"}),(0,d.jsx)("th",{children:"Expiry Date"}),(0,d.jsx)("th",{children:"Category"}),(0,d.jsx)("th",{children:"Subcategory"}),(0,d.jsx)("th",{children:"Status"}),(0,d.jsx)("th",{children:"Actions"})]})}),(0,d.jsx)("tbody",{children:l.map((e,r)=>(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:e.name}),(0,d.jsxs)("td",{children:["\u20b9",e.price]}),(0,d.jsx)("td",{children:e.stock||0}),(0,d.jsx)("td",{style:{maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.description||"-"}),(0,d.jsx)("td",{children:e.warranty||"-"}),(0,d.jsx)("td",{children:C(e.expiryDate||e.expireDate)}),(0,d.jsx)("td",{children:e.category}),(0,d.jsx)("td",{children:e.subcategory||"-"}),(0,d.jsx)("td",{children:(0,d.jsx)("span",{className:"status ".concat(e.status),children:"pending"===e.status?"Pending Approval":"approved"===e.status?"Approved":"rejected"===e.status?"Rejected":"Active"})}),(0,d.jsxs)("td",{children:[(0,d.jsx)("button",{className:"edit-btn action-btn",onClick:()=>T("product",e,r),children:"Edit"}),(0,d.jsx)("button",{className:"delete-btn action-btn",onClick:()=>(async(e,r)=>{if(window.confirm("Are you sure you want to delete this product?"))try{(await fetch("http://localhost:5000/api/products/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({sellerId:t.id})})).ok?(u(e=>e.filter((e,t)=>t!==r)),a(t=>t.filter(t=>t._id!==e)),alert("Product deleted successfully")):alert("Failed to delete product")}catch(s){console.error("Error deleting product:",s),alert("Error deleting product")}})(e._id,r),children:"Delete"})]})]},e._id))})]})]}),"profile"===b&&(0,d.jsxs)("div",{className:"content-section",children:[(0,d.jsx)("div",{className:"section-header",children:(0,d.jsx)("h3",{children:"Business Profile"})}),(0,d.jsx)("div",{className:"profile-form",children:(0,d.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=await fetch("http://localhost:5000/api/seller/profile/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,businessName:w.businessName,businessType:w.businessType,address:w.address,lat:w.lat,lon:w.lon})}),a=await e.json();a.message?(alert("Profile updated successfully!"),a.seller&&k({businessName:a.seller.businessName||"",businessType:a.seller.businessType||"",address:a.seller.address||"",lat:a.seller.lat||null,lon:a.seller.lon||null})):alert("Error updating profile: "+a.message)}catch(a){console.error("Error updating profile:",a),alert("Error updating profile")}},children:[(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{children:"Business Name:"}),(0,d.jsx)("input",{type:"text",value:w.businessName,onChange:e=>k(c(c({},w),{},{businessName:e.target.value})),required:!0})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{children:"Business Type:"}),(0,d.jsx)("input",{type:"text",value:w.businessType,onChange:e=>k(c(c({},w),{},{businessType:e.target.value})),required:!0})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{children:"Shop Address:"}),(0,d.jsx)("textarea",{value:w.address,onChange:e=>k(c(c({},w),{},{address:e.target.value})),placeholder:"Enter your shop address",rows:"3"})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{children:"Coordinates (for distance calculation):"}),(0,d.jsxs)("div",{className:"coordinates-group",children:[(0,d.jsx)("input",{type:"number",step:"any",placeholder:"Latitude",value:w.lat||"",onChange:e=>k(c(c({},w),{},{lat:""===e.target.value?null:parseFloat(e.target.value)}))}),(0,d.jsx)("input",{type:"number",step:"any",placeholder:"Longitude",value:w.lon||"",onChange:e=>k(c(c({},w),{},{lon:""===e.target.value?null:parseFloat(e.target.value)}))}),(0,d.jsxs)("button",{type:"button",onClick:()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{const t=e.coords.latitude,a=e.coords.longitude;k(c(c({},w),{},{lat:t,lon:a})),alert("Location captured: ".concat(t,", ").concat(a))},e=>{console.error("Error getting location:",e),alert("Error getting location. Please enter coordinates manually.")}):alert("Geolocation is not supported by this browser.")},className:"location-btn",children:[(0,d.jsx)("i",{className:"fas fa-map-marker-alt"})," Get Current Location"]})]})]}),(0,d.jsxs)("button",{type:"submit",className:"save-profile-btn",children:[(0,d.jsx)("i",{className:"fas fa-save"})," Save Profile"]})]})})]})]}),h&&(0,d.jsx)("div",{className:"modal",style:{display:"block",position:"fixed",zIndex:1e3,left:0,top:0,width:"100%",height:"100%",overflow:"auto",backgroundColor:"rgba(0,0,0,0.5)"},children:(0,d.jsxs)("div",{className:"modal-content",style:{backgroundColor:"#fefefe",margin:"2% auto",padding:0,border:"1px solid #888",borderRadius:"10px",width:"90%",maxWidth:"600px",maxHeight:"90vh",display:"flex",flexDirection:"column"},children:[(0,d.jsx)("div",{style:{padding:"20px 30px",borderBottom:"1px solid #ddd",backgroundColor:"#f8f9fa"},children:(0,d.jsxs)("h3",{style:{margin:0},children:[null!==x?"Edit":"Add"," ","order"===g?"Order":"Product"]})}),(0,d.jsx)("div",{style:{padding:"20px 30px",overflowY:"auto",flex:1},children:(0,d.jsx)("form",{id:"productForm",onSubmit:"order"===g?e=>{e.preventDefault();const t={id:v.id||Date.now().toString(),customer:v.customer,amount:parseFloat(v.amount),status:v.status||"pending",date:v.date||(new Date).toISOString().split("T")[0]},a=null!==x?i.map((e,a)=>a===x?t:e):[...i,t];o(a),localStorage.setItem("sellerOrders",JSON.stringify(a)),M()}:null!==x?async e=>{var t,r,s;e.preventDefault();const n=null===(t=v.name)||void 0===t?void 0:t.trim(),i=v.price,o=null===(r=v.category)||void 0===r?void 0:r.trim(),l=v.stock,c=null===(s=v.description)||void 0===s?void 0:s.trim();if(n)if(!i||isNaN(i)||i<=0)alert("Please enter a valid price greater than 0.");else if(o)if(void 0===l||null===l||""===l||isNaN(l)||l<0)alert("Please enter a valid stock quantity (0 or greater).");else if(c)try{const e=new FormData;e.append("name",v.name),e.append("price",parseFloat(v.price)),e.append("stock",parseInt(v.stock)),e.append("category",v.category),v.subcategory&&e.append("subcategory",v.subcategory),e.append("description",c),v.expireDate&&e.append("expireDate",v.expireDate),v.expiryDate&&e.append("expiryDate",v.expiryDate),v.warranty&&e.append("warranty",v.warranty),v.imageFile&&e.append("image",v.imageFile);const t=await fetch("http://localhost:5000/api/products/".concat(v._id),{method:"PUT",body:e});if(t.ok){const e=t.headers.get("content-type");if(!e||!e.includes("application/json"))throw new Error("Response is not JSON");{const e=await t.json();u(t=>t.map(t=>t._id===v._id?e:t)),a(t=>t.map(t=>t._id===v._id?e:t)),alert('Product "'.concat(v.name,'" has been updated!')),M(),P()}}else alert("Failed to update product")}catch(d){console.error("Error updating product:",d),alert("Error updating product")}else alert("Please enter a product description.");else alert("Please select a category.");else alert("Please enter a product name.")}:async e=>{var r,s,n;e.preventDefault();const i=null===(r=v.name)||void 0===r?void 0:r.trim(),o=v.price,l=null===(s=v.category)||void 0===s?void 0:s.trim(),c=v.stock,d=null===(n=v.description)||void 0===n?void 0:n.trim(),p=v.imageFile;if(console.log("\ud83d\udd0d DEBUG - Product form data:",{name:i,price:o,category:l,stock:c,description:d||"EMPTY",expireDate:v.expireDate||"EMPTY",expiryDate:v.expiryDate||"EMPTY",warranty:v.warranty||"EMPTY",subcategory:v.subcategory||"EMPTY",hasImage:!!p}),i)if(!o||isNaN(o)||o<=0)alert("Please enter a valid price greater than 0.");else if(l)if(void 0===c||null===c||""===c||isNaN(c)||c<0)alert("Please enter a valid stock quantity (0 or greater).");else if(d)if(p)try{const e=new FormData;e.append("name",v.name),e.append("price",parseFloat(v.price)),e.append("stock",parseInt(v.stock)),e.append("category",v.category),v.subcategory&&e.append("subcategory",v.subcategory),e.append("vendor",t.businessName),e.append("sellerId",t.id),e.append("description",d),v.expireDate&&e.append("expireDate",v.expireDate),v.expiryDate&&e.append("expiryDate",v.expiryDate),v.warranty&&e.append("warranty",v.warranty),v.imageFile&&e.append("image",v.imageFile);const r=await fetch("http://localhost:5000/api/products",{method:"POST",body:e});if(r.ok){const e=r.headers.get("content-type");if(!e||!e.includes("application/json"))throw new Error("Response is not JSON");{const e=await r.json();u(t=>[...t,e]),a(t=>[...t,e]),alert('Product "'.concat(v.name,'" has been added successfully!')),y({category:"Food & Dining"}),S.current&&(S.current.value=""),P()}}else alert("Failed to add product")}catch(h){console.error("Error adding product:",h),alert("Error adding product")}else alert("Please select an image file.");else alert("Please enter a product description.");else alert("Please select a category.");else alert("Please enter a product name.")},children:"order"===g?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("input",{type:"text",placeholder:"Order ID",value:v.id||"",onChange:e=>y(c(c({},v),{},{id:e.target.value})),required:!0,style:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"5px"}}),(0,d.jsx)("input",{type:"text",placeholder:"Customer",value:v.customer||"",onChange:e=>y(c(c({},v),{},{customer:e.target.value})),required:!0,style:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"5px"}}),(0,d.jsx)("input",{type:"number",placeholder:"Amount",value:v.amount||"",onChange:e=>y(c(c({},v),{},{amount:e.target.value})),required:!0,style:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"5px"}}),(0,d.jsxs)("select",{value:v.status||"pending",onChange:e=>y(c(c({},v),{},{status:e.target.value})),style:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"5px"},children:[(0,d.jsx)("option",{value:"pending",children:"Pending"}),(0,d.jsx)("option",{value:"shipped",children:"Shipped"}),(0,d.jsx)("option",{value:"completed",children:"Completed"})]}),(0,d.jsx)("input",{type:"date",value:v.date||"",onChange:e=>y(c(c({},v),{},{date:e.target.value})),required:!0,style:{width:"100%",padding:"10px",marginBottom:"15px",border:"1px solid #ddd",borderRadius:"5px"}})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:"5px",fontSize:"14px",color:"#555",fontWeight:"500"},children:"Product Name *"}),(0,d.jsx)("input",{type:"text",placeholder:"Enter product name",value:v.name||"",onChange:e=>y(c(c({},v),{},{name:e.target.value})),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"5px"}})]}),(0,d.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:"5px",fontSize:"14px",color:"#555",fontWeight:"500"},children:"Price *"}),(0,d.jsx)("input",{type:"number",placeholder:"Enter price",value:v.price||"",onChange:e=>y(c(c({},v),{},{price:e.target.value})),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"5px"}})]}),(0,d.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:"5px",fontSize:"14px",color:"#555",fontWeight:"500"},children:"Stock Quantity *"}),(0,d.jsx)("input",{type:"number",placeholder:"Enter stock quantity",value:v.stock||"",onChange:e=>y(c(c({},v),{},{stock:e.target.value})),min:"0",required:!0,style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"5px"}})]}),(0,d.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:"5px",fontSize:"14px",color:"#555",fontWeight:"500"},children:"Category *"}),(0,d.jsx)("select",{value:v.category||"Food & Dining",onChange:e=>y(c(c({},v),{},{category:e.target.value,subcategory:""})),required:!0,style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"5px"},children:p.map((e,t)=>(0,d.jsx)("option",{value:e.name,children:e.name},t))})]}),yt[v.category||"Food & Dining"]&&yt[v.category||"Food & Dining"].length>0&&(0,d.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:"5px",fontSize:"14px",color:"#555",fontWeight:"500"},children:"Subcategory (Optional)"}),(0,d.jsxs)("select",{value:v.subcategory||"",onChange:e=>y(c(c({},v),{},{subcategory:e.target.value})),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"5px"},children:[(0,d.jsx)("option",{value:"",children:"Select subcategory"}),yt[v.category].map((e,t)=>(0,d.jsx)("option",{value:e,children:e},t))]})]}),(0,d.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:"5px",fontSize:"14px",color:"#555",fontWeight:"500"},children:"Product Description *"}),(0,d.jsx)("textarea",{placeholder:"Describe your product in detail",value:v.description||"",onChange:e=>y(c(c({},v),{},{description:e.target.value})),rows:"4",required:!0,style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"5px",fontFamily:"inherit",fontSize:"14px",resize:"vertical"}})]}),(0,d.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:"5px",fontSize:"14px",color:"#555",fontWeight:"500"},children:"Warranty (Optional)"}),(0,d.jsx)("input",{type:"text",placeholder:"e.g., 1 year, 2 years, 6 months, Lifetime",value:v.warranty||"",onChange:e=>y(c(c({},v),{},{warranty:e.target.value})),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"5px"}})]}),(0,d.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:"5px",fontSize:"14px",color:"#555",fontWeight:"500"},children:"Expiry Date (Optional)"}),(0,d.jsx)("input",{type:"date",value:v.expiryDate||v.expireDate||"",onChange:e=>y(c(c({},v),{},{expiryDate:e.target.value,expireDate:e.target.value})),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"5px"}})]}),null!==x&&v.imageSrc&&(0,d.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:"5px",fontSize:"14px",color:"#555",fontWeight:"500"},children:"Current Image:"}),(0,d.jsx)("img",{src:"http://localhost:5000/".concat(v.imageSrc),alt:"Current product",style:{maxWidth:"150px",maxHeight:"150px",borderRadius:"5px",border:"1px solid #ddd"}})]}),(0,d.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,d.jsx)("label",{htmlFor:"product-image",style:{display:"block",marginBottom:"5px",fontSize:"14px",color:"#555",fontWeight:"500"},children:null!==x?"Change Product Image (optional):":"Product Image *:"}),(0,d.jsx)("input",{ref:S,type:"file",id:"product-image",accept:"image/*",onChange:e=>y(c(c({},v),{},{imageFile:e.target.files[0]})),style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"5px"}}),null===x&&(0,d.jsx)("span",{style:{color:"red",fontSize:"12px"},children:"* Required"})]})]})})}),(0,d.jsxs)("div",{style:{padding:"15px 30px",borderTop:"1px solid #ddd",backgroundColor:"#f8f9fa",display:"flex",justifyContent:"flex-end",gap:"10px"},children:[(0,d.jsx)("button",{type:"button",onClick:M,style:{padding:"10px 20px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Cancel"}),(0,d.jsx)("button",{type:"submit",form:"productForm",style:{padding:"10px 20px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:null!==x?"Update":"Save & Add Another"})]})]})})]})},Nt=e=>{let{onLogout:t,user:a}=e;const[s,n]=(0,r.useState)(0),[i,o]=(0,r.useState)([]),[l,u]=(0,r.useState)({totalEarnings:0,pendingEarnings:0,completedTasks:0,activeTasks:0}),[p,h]=(0,r.useState)(!1),[m,g]=(0,r.useState)({fullName:"",businessName:"",businessType:"",email:"",password:"",confirmPassword:"",address:"",lat:null,lon:null}),[f,x]=(0,r.useState)({});(0,r.useEffect)(()=>{j()},[]),(0,r.useEffect)(()=>(document.body.style.overflow=p?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[p]);const j=async()=>{try{const e=await fetch("http://localhost:5000/api/earner/seller-registrations/".concat(null===a||void 0===a?void 0:a.email)),t=(await e.json()).count||0;n(2500.5),o([{id:1,type:"Commission",amount:150,date:"2024-01-15",status:"Completed"},{id:2,type:"Referral",amount:75.5,date:"2024-01-14",status:"Pending"},{id:3,type:"Bonus",amount:200,date:"2024-01-13",status:"Completed"}]),u({totalEarnings:2500.5,pendingEarnings:125.5,completedTasks:t,activeTasks:8})}catch(e){console.error("Error fetching earnings data:",e),u({totalEarnings:2500.5,pendingEarnings:125.5,completedTasks:0,activeTasks:8})}},v=e=>{const{name:t,value:a}=e.target;g(e=>c(c({},e),{},{[t]:a})),f[t]&&x(e=>c(c({},e),{},{[t]:""}))},y=()=>{h(!1),g({fullName:"",businessName:"",businessType:"",email:"",password:"",confirmPassword:""}),x({})};return(0,d.jsxs)("div",{className:"earner-dashboard",children:[(0,d.jsxs)("div",{className:"dashboard-header",children:[(0,d.jsx)("h1",{children:"Earner Dashboard"}),(0,d.jsx)("button",{className:"logout-btn",onClick:t,children:"Logout"})]}),(0,d.jsxs)("div",{className:"stats-grid",children:[(0,d.jsxs)("div",{className:"stat-card",children:[(0,d.jsx)("h3",{children:"Total Earnings"}),(0,d.jsxs)("p",{className:"stat-value",children:["$",l.totalEarnings.toFixed(2)]})]}),(0,d.jsxs)("div",{className:"stat-card",children:[(0,d.jsx)("h3",{children:"Pending Earnings"}),(0,d.jsxs)("p",{className:"stat-value",children:["$",l.pendingEarnings.toFixed(2)]})]}),(0,d.jsxs)("div",{className:"stat-card",children:[(0,d.jsx)("h3",{children:"Completed Tasks"}),(0,d.jsx)("p",{className:"stat-value",children:l.completedTasks})]}),(0,d.jsxs)("div",{className:"stat-card",children:[(0,d.jsx)("h3",{children:"Active Tasks"}),(0,d.jsx)("p",{className:"stat-value",children:l.activeTasks})]})]}),(0,d.jsxs)("div",{className:"dashboard-content",children:[(0,d.jsxs)("div",{className:"transactions-section",children:[(0,d.jsx)("h2",{children:"Recent Transactions"}),(0,d.jsx)("div",{className:"transactions-list",children:i.map(e=>(0,d.jsxs)("div",{className:"transaction-item",children:[(0,d.jsxs)("div",{className:"transaction-info",children:[(0,d.jsx)("span",{className:"transaction-type",children:e.type}),(0,d.jsx)("span",{className:"transaction-date",children:e.date})]}),(0,d.jsxs)("div",{className:"transaction-amount",children:[(0,d.jsxs)("span",{className:"amount",children:["$",e.amount.toFixed(2)]}),(0,d.jsx)("span",{className:"status ".concat(e.status.toLowerCase()),children:e.status})]})]},e.id))})]}),(0,d.jsxs)("div",{className:"actions-section",children:[(0,d.jsx)("h2",{children:"Quick Actions"}),(0,d.jsxs)("div",{className:"action-buttons",children:[(0,d.jsx)("button",{className:"action-btn",onClick:()=>h(!0),children:"\ud83c\udfea Become a Seller"}),(0,d.jsx)("button",{className:"action-btn",children:"\ud83d\udcb0 Withdraw Earnings"}),(0,d.jsx)("button",{className:"action-btn",children:"\ud83d\udc64 Update Profile"}),(0,d.jsx)("button",{className:"action-btn",children:"\ud83d\udcde Support"})]})]})]}),p&&(0,d.jsx)("div",{className:"modal-overlay",onClick:y,children:(0,d.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,d.jsx)("button",{className:"modal-close",onClick:y,children:"\xd7"}),(0,d.jsxs)("div",{className:"modal-header",children:[(0,d.jsx)("h2",{children:"\ud83c\udfea Seller Registration"}),(0,d.jsx)("p",{children:"Join ShopNest as a seller and start earning"}),(0,d.jsx)("div",{style:{background:"#fff3e0",padding:"12px",borderRadius:"8px",marginTop:"15px",borderLeft:"4px solid #ff9800"},children:(0,d.jsxs)("p",{style:{margin:0,fontSize:"13px",color:"#e65100"},children:["\u23f3 ",(0,d.jsx)("strong",{children:"Note:"})," Your registration will be reviewed by our admin team. You'll receive an email once approved (usually 1-2 business days)."]})})]}),(0,d.jsxs)("form",{className:"seller-form",onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return m.fullName.trim()||(e.fullName="Full name is required"),m.businessName.trim()||(e.businessName="Business name is required"),m.businessType||(e.businessType="Please select a business type"),m.email.trim()?/\S+@\S+\.\S+/.test(m.email)||(e.email="Email is invalid"):e.email="Email is required",m.password?m.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",m.confirmPassword?m.password!==m.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",x(e),0===Object.keys(e).length})())try{const e=await fetch("http://localhost:5000/api/auth/register/seller",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:m.fullName,businessName:m.businessName,businessType:m.businessType,email:m.email,password:m.password,address:m.address,lat:m.lat,lon:m.lon,role:"seller",earnerEmail:null===a||void 0===a?void 0:a.email})}),t=await e.json();e.ok?(alert("\u2705 Seller Registration Submitted Successfully!\n\n\u23f3 Your registration is now pending admin approval.\n\nYou will receive an email notification once your account is approved.\n\nThis usually takes 1-2 business days.\n\nThank you for your patience!"),g({fullName:"",businessName:"",businessType:"",email:"",password:"",confirmPassword:"",address:"",lat:null,lon:null}),h(!1)):alert(t.message||"Registration failed")}catch(t){console.error("Error:",t),alert("An error occurred during registration")}},children:[(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("input",{type:"text",name:"fullName",placeholder:"Full Name",value:m.fullName,onChange:v,className:f.fullName?"error":""}),f.fullName&&(0,d.jsx)("span",{className:"error-message",children:f.fullName})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("input",{type:"text",name:"businessName",placeholder:"Business Name",value:m.businessName,onChange:v,className:f.businessName?"error":""}),f.businessName&&(0,d.jsx)("span",{className:"error-message",children:f.businessName})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsxs)("select",{name:"businessType",value:m.businessType,onChange:v,className:f.businessType?"error":"",children:[(0,d.jsx)("option",{value:"",children:"Select Business Type"}),["Food & Dining","Medicines","Automotive","Services","Jewellery","Clothes","Beauty","Groceries","Fruits","Books","Pet Food","Musical Instruments","Footwear","Home Furniture","Bags","Kitchen Products","Organic","Sports & Fitness","Watches","Home Decor"].map((e,t)=>(0,d.jsx)("option",{value:e,children:e},t))]}),f.businessType&&(0,d.jsx)("span",{className:"error-message",children:f.businessType})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:m.email,onChange:v,className:f.email?"error":""}),f.email&&(0,d.jsx)("span",{className:"error-message",children:f.email})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:m.password,onChange:v,className:f.password?"error":""}),f.password&&(0,d.jsx)("span",{className:"error-message",children:f.password})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:m.confirmPassword,onChange:v,className:f.confirmPassword?"error":""}),f.confirmPassword&&(0,d.jsx)("span",{className:"error-message",children:f.confirmPassword})]}),(0,d.jsx)("div",{className:"form-group",children:(0,d.jsx)("textarea",{name:"address",placeholder:"Shop Address (for distance calculation)",value:m.address,onChange:v,rows:"2",style:{resize:"vertical"}})}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",color:"#555",fontWeight:"500"},children:"Coordinates (for distance calculation):"}),(0,d.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,d.jsx)("input",{type:"number",step:"any",placeholder:"Latitude",value:m.lat||"",onChange:e=>g(c(c({},m),{},{lat:parseFloat(e.target.value)||null})),style:{flex:1,padding:"10px",border:"1px solid #ddd",borderRadius:"5px"}}),(0,d.jsx)("input",{type:"number",step:"any",placeholder:"Longitude",value:m.lon||"",onChange:e=>g(c(c({},m),{},{lon:parseFloat(e.target.value)||null})),style:{flex:1,padding:"10px",border:"1px solid #ddd",borderRadius:"5px"}}),(0,d.jsx)("button",{type:"button",onClick:()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{const{latitude:t,longitude:a}=e.coords;g(e=>c(c({},e),{},{lat:t,lon:a})),alert("Location obtained successfully!")},e=>{console.error("Error getting location:",e),alert("Unable to get your location. Please enter coordinates manually or check your browser permissions.")},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5}):alert("Geolocation is not supported by this browser.")},style:{padding:"10px 15px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"14px",whiteSpace:"nowrap"},children:"\ud83d\udccd Get Location"})]})]}),(0,d.jsx)("button",{type:"submit",className:"submit-btn",children:"Submit Registration"})]})]})})]})},wt={category:"Food & Dining",displayName:"Food & Dining",productsPage:"food-products"},kt={category:"Medicines",displayName:"Medicines",productsPage:"medicines-products"},St={category:"Automotive",displayName:"Automotive",productsPage:"automotive-products"},Ct={category:"Services",displayName:"Services",productsPage:"services-products"},Pt={category:"Jewellery",displayName:"Jewellery",productsPage:"jewellery-products"},Tt={category:"Clothes",displayName:"Clothes",productsPage:"clothes-products"},Mt={category:"Beauty Products",displayName:"Beauty Products",productsPage:"beauty-products"},At={category:"Groceries",displayName:"Groceries",productsPage:"groceries-products"},It={category:"Fruits",displayName:"Fruits",productsPage:"fruits-products"},Et={category:"Books",displayName:"Books",productsPage:"books-products"},Ft={category:"Pet Food",displayName:"Pet Food",productsPage:"petfood-products"},Dt={category:"Musical Instruments",displayName:"Musical Instruments",productsPage:"musical-products"},Bt={category:"Footwear",displayName:"Footwear",productsPage:"footwear-products"},Rt={category:"Home Furniture",displayName:"Home Furniture",productsPage:"homefurniture-products"},Lt={category:"Bags",displayName:"Bags",productsPage:"bag-products"},Wt={category:"Kitchen Products",displayName:"Kitchen Products",productsPage:"kitchenproduct-products"},zt={category:"Organic Veggies&Fruits",displayName:"Organic Products",productsPage:"organic-products"},_t={category:"Sports & Fitness",displayName:"Sports & Fitness",productsPage:"sports-fitness-products"},Gt={category:"Watches",displayName:"Watches",productsPage:"watches-products"},Vt={category:"Home Decor",displayName:"Home Decor",productsPage:"homedecor-products"},Ot=[...De,...Oe,...$e,...Ze,...qe,...Ue,...rt,...Le,...Je,...Pe,...Ie,...Me,...ze,...Ge],Ht=Ot.slice(0,8),Ut="http://localhost:5000";const Kt=function(){const[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)([]),[n,i]=(0,r.useState)("home"),[o,l]=(0,r.useState)(null),[u,p]=(0,r.useState)({isAuthenticated:!1,role:null,details:null}),[h,g]=(0,r.useState)(""),[f,j]=(0,r.useState)(Ot),[y,b]=(0,r.useState)(null),[P,T]=(0,r.useState)(null),[M,I]=(0,r.useState)([]),[B,_]=(0,r.useState)([]),V=(0,r.useRef)(null);(0,r.useEffect)(()=>{const e=e=>{const t=e&&e.detail;t&&("string"===typeof t?(b(t),T(null)):"object"===typeof t&&(b(t.vendor||null),T(t.sellerId||null)),i("vendor-store"),window.scrollTo(0,0))};return window.addEventListener("openVendorStore",e),()=>window.removeEventListener("openVendorStore",e)},[]),(0,r.useEffect)(()=>{const e=e=>{e&&e.detail&&e.detail.sellerId&&(i("seller-dashboard"),window.scrollTo(0,0))};return window.addEventListener("visitSellerDashboard",e),()=>window.removeEventListener("visitSellerDashboard",e)},[]);const H=async(e,t,a)=>{try{await fetch("".concat(Ut,"/api/cart/save"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,role:a,cart:e})})}catch(r){console.error("Error saving cart to server:",r)}},K=async(e,t,a)=>{try{await fetch("".concat(Ut,"/api/wishlist/save"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,role:a,wishlist:e})})}catch(r){console.error("Error saving wishlist to server:",r)}},Q=async(e,t)=>{try{const a=await fetch("".concat(Ut,"/api/cart/").concat(e,"/").concat(t));return(await a.json()).cart||[]}catch(a){return console.error("Error fetching cart from server:",a),[]}},Y=async(e,t)=>{try{const a=await fetch("".concat(Ut,"/api/wishlist/").concat(e,"/").concat(t));return(await a.json()).wishlist||[]}catch(a){return console.error("Error fetching wishlist from server:",a),[]}};(0,r.useEffect)(()=>{(async()=>{if(window.location.search.includes("token="))return void i("reset-password");const e=localStorage.getItem("currentUser");if(e)try{const a=JSON.parse(e);console.log("\ud83d\udd04 Restoring user session:",a.details.email),p(a);const r=a.details.email,n=a.role,[o,l]=await Promise.all([Q(r,n),Y(r,n)]);t(o),s(l),console.log("\u2705 Session restored successfully"),console.log("   Cart items:",o.length),console.log("   Wishlist items:",l.length);const c=n.toLowerCase();i("seller"===c?"seller-dashboard":"admin"===c?"admin-dashboard":"earner"===c?"earner-dashboard":"home")}catch(a){console.error("\u274c Error restoring session:",a),localStorage.removeItem("currentUser"),p({isAuthenticated:!1,role:null,details:null}),t([]),s([]),i("home")}else console.log("\u2139\ufe0f  No stored session found - user not logged in"),i("home")})()},[]);const X=async(e,a)=>{const r={isAuthenticated:!0,role:e,details:a};p(r),localStorage.setItem("currentUser",JSON.stringify(r));const n=a.email,i=e,o=await Q(n,i),l=await Y(n,i);t(o),s(l);try{const e=await fetch("".concat(Ut,"/api/profile?email=").concat(n,"&role=").concat(i));if(e.ok){const t=await e.json(),s=c(c({},a),{},{name:t.user.fullname,phone:t.user.phone,gender:t.user.gender,dateOfBirth:t.user.dateOfBirth,addresses:t.user.addresses}),n=c(c({},r),{},{details:s});p(n),localStorage.setItem("currentUser",JSON.stringify(n))}}catch(u){console.error("Error fetching profile data on login:",u)}const d=e.toLowerCase();"customer"===d?me("home"):"seller"===d?me("seller-dashboard"):"admin"===d?me("admin-dashboard"):"earner"===d&&me("earner-dashboard")},ee=async()=>{if(u.isAuthenticated&&u.details){const t=u.details.email,r=u.role;await H(e,t,r),await K(a,t,r)}p({isAuthenticated:!1,role:null,details:null}),t([]),s([]),localStorage.removeItem("currentUser"),me("home")},ae=e=>{I(t=>[...t,e])},se=e=>{_(t=>[...t,e]),console.log("Admin registered:",e)},ie=async a=>{const r=a._id||a.id;let s;s=e.find(e=>(e._id||e.id)===r)?e.map(e=>(e._id||e.id)===r?c(c({},e),{},{quantity:e.quantity+1}):e):[...e,c(c({},a),{},{quantity:1})],t(s),u.isAuthenticated&&u.details&&await H(s,u.details.email,u.role),alert("".concat(a.name," has been added to your cart!"))},le=async(a,r)=>{if(r<=0)de(a);else{const s=e.map(e=>(e._id||e.id)===a?c(c({},e),{},{quantity:r}):e);t(s),u.isAuthenticated&&u.details&&await H(s,u.details.email,u.role)}},de=async a=>{const r=e.filter(e=>(e._id||e.id)!==a);t(r),u.isAuthenticated&&u.details&&await H(r,u.details.email,u.role)},pe=async e=>{const t=e._id||e.id;let r;a.find(e=>(e._id||e.id)===t)?(r=a.filter(e=>(e._id||e.id)!==t),alert("".concat(e.name," removed from wishlist!"))):(r=[...a,e],alert("".concat(e.name," added to wishlist!"))),s(r),u.isAuthenticated&&u.details&&await K(r,u.details.email,u.role)},me=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"object"===typeof t&&null!==t&&t.vendor?(b(t.vendor),t.sellerId&&T(t.sellerId)):"string"===typeof t&&"vendor-store"===e?(b(t),T(null)):e.endsWith("-products")||(b(null),T(null)),i(e),t&&"productDetail"===e&&l(t),window.scrollTo(0,0)},fe=e=>{l(e),me("productDetail")},je={cartItems:e,wishlistItems:a,onAddToCart:ie,onToggleWishlist:pe,allProducts:f,onViewProduct:fe,navigateTo:me,searchQuery:h},ye="seller-dashboard"!==n&&"earner-dashboard"!==n&&!n.startsWith("admin-")&&"reset-password"!==n&&(!u.role||"admin"!==u.role.toLowerCase());return(0,d.jsxs)("div",{className:"App",children:[ye&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(F,{cartItems:e,wishlistItems:a,onSearch:async e=>{const t=e.toLowerCase().trim();if(g(t),!t)return void j(Ot);const a={"food & dining":"food",food:"food",medicines:"medicines",automotive:"automotive",services:"services",jewellery:"jewellery",clothes:"clothes",beauty:"beauty",footwear:"footwear",groceries:"groceries",fruits:"fruits",books:"books","Pet Food":"petfood",musical:"musical",homefurniture:"homefurniture",bags:"bag",kitchen:"kitchenproduct",sports:"sports-fitness",watches:"watches",homedecor:"homedecor",organic:"organic"};if(a[t])return me(a[t]),void g("");try{const e=await fetch("".concat(Ut,"/api/products"));if(!e.ok)throw new Error("Failed to fetch products");const a=await e.json(),r=[...Ot,...a].filter(e=>e.name.toLowerCase().includes(t)||e.vendor.toLowerCase().includes(t)||e.category.toLowerCase().includes(t));if(r.length>0){const e=r[0].category.toLowerCase();me({"food & dining":"food",medicines:"medicines",automotive:"automotive",services:"services",jewellery:"jewellery",clothes:"clothes",beauty:"beauty",footwear:"footwear",groceries:"groceries",fruits:"fruits",books:"books","pet food":"petfood","musical instruments":"musical","home furniture":"homefurniture",bags:"bag","kitchen products":"kitchenproduct","sports & fitness":"sports-fitness",watches:"watches","home decor":"homedecor","organic veggies&fruits":"organic"}[e]||e)}else j([])}catch(r){console.error("Error fetching products for search:",r);const e=Ot.filter(e=>e.name.toLowerCase().includes(t)||e.vendor.toLowerCase().includes(t)||e.category.toLowerCase().includes(t));if(e.length>0){const t=e[0].category.toLowerCase();me({"food & dining":"food",medicines:"medicines",automotive:"automotive",services:"services",jewellery:"jewellery",clothes:"clothes",beauty:"beauty",footwear:"footwear",groceries:"groceries",fruits:"fruits",books:"books","pet food":"petfood","musical instruments":"musical","home furniture":"homefurniture",bags:"bag","kitchen products":"kitchenproduct","sports & fitness":"sports-fitness",watches:"watches","home decor":"homedecor","organic veggies&fruits":"organic"}[t]||t)}else j([]),me("home")}},navigateTo:me,onLogout:ee,currentUser:u}),(0,d.jsx)(D,{navigateTo:me})]}),(0,d.jsx)("main",{children:(()=>{if("reset-password"===n)return(0,d.jsx)(E,{navigateTo:me});if(u.role&&"admin"===u.role.toLowerCase()){const e={"admin-dashboard":(0,d.jsx)(ot,{navigateTo:me,onLogout:ee}),"admin-offers":(0,d.jsx)(dt,{}),"admin-orders":(0,d.jsx)(ut,{}),"admin-catalog":(0,d.jsx)(pt,{}),"admin-profiles":(0,d.jsx)(ht,{navigateTo:me}),"admin-users":(0,d.jsx)(gt,{navigateTo:me}),"admin-sellers":(0,d.jsx)(xt,{navigateTo:me}),"admin-earner-management":(0,d.jsx)(vt,{navigateTo:me})};if(e[n])return e[n]}if(u.role&&"seller"===u.role.toLowerCase()&&"seller-dashboard"===n)return(0,d.jsx)(bt,{seller:u.details,setAllProducts:j,onLogout:ee});if(u.role&&"earner"===u.role.toLowerCase()&&"earner-dashboard"===n)return(0,d.jsx)(Nt,{onLogout:ee,user:u.details});const t={login:(0,d.jsx)(A,{onLoginSuccess:X,onSellerRegister:ae,onAdminRegister:se}),food:(0,d.jsx)(W,{navigateTo:me,searchQuery:h,category:wt.category,categoryDisplayName:wt.displayName,targetPage:wt.productsPage}),medicines:(0,d.jsx)(W,{navigateTo:me,searchQuery:h,category:kt.category,categoryDisplayName:kt.displayName,targetPage:kt.productsPage}),automotive:(0,d.jsx)(W,{navigateTo:me,searchQuery:h,category:St.category,categoryDisplayName:St.displayName,targetPage:St.productsPage}),services:(0,d.jsx)(W,{navigateTo:me,searchQuery:h,category:Ct.category,categoryDisplayName:Ct.displayName,targetPage:Ct.productsPage}),jewellery:(0,d.jsx)(W,{navigateTo:me,searchQuery:h,category:Pt.category,categoryDisplayName:Pt.displayName,targetPage:Pt.productsPage}),clothes:(0,d.jsx)(W,{navigateTo:me,searchQuery:h,category:Tt.category,categoryDisplayName:Tt.displayName,targetPage:Tt.productsPage}),beauty:(0,d.jsx)(W,{navigateTo:me,searchQuery:h,category:Mt.category,categoryDisplayName:Mt.displayName,targetPage:Mt.productsPage}),groceries:(0,d.jsx)(W,{navigateTo:me,searchQuery:h,category:At.category,categoryDisplayName:At.displayName,targetPage:At.productsPage}),fruits:(0,d.jsx)(W,{navigateTo:me,searchQuery:h,category:It.category,categoryDisplayName:It.displayName,targetPage:It.productsPage}),books:(0,d.jsx)(W,{navigateTo:me,searchQuery:h,category:Et.category,categoryDisplayName:Et.displayName,targetPage:Et.productsPage}),petfood:(0,d.jsx)(W,{navigateTo:me,searchQuery:h,category:Ft.category,categoryDisplayName:Ft.displayName,targetPage:Ft.productsPage}),musical:(0,d.jsx)(W,{navigateTo:me,searchQuery:h,category:Dt.category,categoryDisplayName:Dt.displayName,targetPage:Dt.productsPage}),footwear:(0,d.jsx)(W,{navigateTo:me,searchQuery:h,category:Bt.category,categoryDisplayName:Bt.displayName,targetPage:Bt.productsPage}),homefurniture:(0,d.jsx)(W,{navigateTo:me,searchQuery:h,category:Rt.category,categoryDisplayName:Rt.displayName,targetPage:Rt.productsPage}),bag:(0,d.jsx)(W,{navigateTo:me,searchQuery:h,category:Lt.category,categoryDisplayName:Lt.displayName,targetPage:Lt.productsPage}),kitchenproduct:(0,d.jsx)(W,{navigateTo:me,searchQuery:h,category:Wt.category,categoryDisplayName:Wt.displayName,targetPage:Wt.productsPage}),organic:(0,d.jsx)(W,{navigateTo:me,searchQuery:h,category:zt.category,categoryDisplayName:zt.displayName,targetPage:zt.productsPage}),"sports-fitness":(0,d.jsx)(W,{navigateTo:me,searchQuery:h,category:_t.category,categoryDisplayName:_t.displayName,targetPage:_t.productsPage}),watches:(0,d.jsx)(W,{navigateTo:me,searchQuery:h,category:Gt.category,categoryDisplayName:Gt.displayName,targetPage:Gt.productsPage}),homedecor:(0,d.jsx)(W,{navigateTo:me,searchQuery:h,category:Vt.category,categoryDisplayName:Vt.displayName,targetPage:Vt.productsPage}),"food-products":(0,d.jsx)(G,c(c({},je),{},{selectedVendor:y})),"medicines-products":(0,d.jsx)(O,c(c({},je),{},{selectedVendor:y})),"automotive-products":(0,d.jsx)(be,c(c({},je),{},{selectedVendor:y})),"services-products":(0,d.jsx)(U,c(c({},je),{},{selectedVendor:y})),"jewellery-products":(0,d.jsx)(q,c(c({},je),{},{selectedVendor:y})),"clothes-products":(0,d.jsx)(J,c(c({},je),{},{selectedVendor:y})),"beauty-products":(0,d.jsx)($,c(c({},je),{},{selectedVendor:y})),"groceries-products":(0,d.jsx)(Z,c(c({},je),{},{selectedVendor:y})),"fruits-products":(0,d.jsx)(te,c(c({},je),{},{selectedVendor:y})),"books-products":(0,d.jsx)(re,c(c({},je),{},{selectedVendor:y})),"petfood-products":(0,d.jsx)(ne,c(c({},je),{},{selectedVendor:y})),"musical-products":(0,d.jsx)(oe,c(c({},je),{},{selectedVendor:y})),"footwear-products":(0,d.jsx)(ce,c(c({},je),{},{selectedVendor:y})),"homefurniture-products":(0,d.jsx)(ue,c(c({},je),{},{selectedVendor:y})),"bag-products":(0,d.jsx)(ge,c(c({},je),{},{selectedVendor:y})),"kitchenproduct-products":(0,d.jsx)(xe,c(c({},je),{},{selectedVendor:y})),"organic-products":(0,d.jsx)(ve,c(c({},je),{},{selectedVendor:y})),"sports-fitness-products":(0,d.jsx)(we,c(c({},je),{},{selectedVendor:y})),"watches-products":(0,d.jsx)(Se,c(c({},je),{},{selectedVendor:y})),"homedecor-products":(0,d.jsx)(he,c(c({},je),{},{selectedVendor:y})),cart:(0,d.jsx)(k,{cartItems:e,onUpdateQuantity:le,onRemoveFromCart:de,navigateTo:me,onToggleWishlist:pe,wishlistItems:a,currentUser:u}),checkout:(0,d.jsx)(S,{cartItems:e,navigateTo:me,currentUser:u}),wishlist:(0,d.jsx)(w,{wishlistItems:a,cartItems:e,onAddToCart:ie,onToggleWishlist:pe,navigateTo:me}),profile:(0,d.jsx)(C,{currentUser:u,navigateTo:me,onProfileUpdate:e=>{p(t=>c(c({},t),{},{details:c(c({},t.details),e)}))}})};if("vendor-store"===n)return(0,d.jsx)(z,{vendorName:y,sellerId:P,navigateTo:me,onAddToCart:ie,onToggleWishlist:pe,cartItems:e,wishlistItems:a,onViewProduct:fe});if("productDetail"===n&&o){const t={medicines:Te,automotive:Ee,services:Ae,jewellery:Fe,clothes:Be,footwear:We,"women's footwear":We,"men's footwear":We,"kids' footwear":We,groceries:_e,grocery:_e,fruits:Ve,books:He,"pet food":Ke,"beauty products":Re,"musical instruments":Qe,"home furniture":Ye,bags:Xe,"kitchen products":et,"organic veggies&fruits":tt,"sports & fitness":at,watches:st,"home decor":nt,"food & dining":Ce}[o.category.toLowerCase()]||(()=>(0,d.jsx)("div",{children:"Product Detail Not Found"}));return(0,d.jsx)(t,{product:o,cartItems:e,wishlistItems:a,onAddToCart:ie,onToggleWishlist:pe,allProducts:f,navigateTo:me,onViewProduct:fe})}return t[n]?t[n]:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(R,{navigateTo:me}),(0,d.jsx)("div",{ref:V,children:(0,d.jsx)(m,{navigateTo:me})}),h?(0,d.jsxs)("div",{className:"container",children:[(0,d.jsxs)("h2",{children:['Search Results for "',h,'"']}),f.length>0?(0,d.jsx)("div",{className:"product-grid",children:f.map(e=>(0,d.jsxs)("div",{className:"product-card",onClick:()=>fe(e),children:[(0,d.jsx)("img",{src:e.image?e.image.startsWith("http")?e.image:"/IMAGES/".concat(e.image):"https://via.placeholder.com/200x150?text=No+Image",alt:e.name,onError:e=>e.target.src="https://via.placeholder.com/200x150?text=No+Img"}),(0,d.jsxs)("div",{className:"product-info",children:[(0,d.jsx)("h4",{children:e.name}),(0,d.jsx)("p",{children:e.vendor}),(0,d.jsxs)("div",{className:"product-price",children:["\u20b9",e.price]})]})]},e.id||e._id))}):(0,d.jsx)("div",{className:"no-results",children:(0,d.jsxs)("p",{children:['No products found for "',h,'". Try a different search term.']})})]}):(0,d.jsx)(x,{popularProducts:Ht,onAddToCart:ie,wishlistItems:a,onViewProduct:fe,onToggleWishlist:pe,cartItems:e,navigateTo:me}),(0,d.jsx)(v,{}),(0,d.jsx)(N,{})]})})()}),ye&&(0,d.jsx)(L,{navigateTo:me})]})},qt=e=>{e&&e instanceof Function&&a.e(453).then(a.bind(a,453)).then(t=>{let{getCLS:a,getFID:r,getFCP:s,getLCP:n,getTTFB:i}=t;a(e),r(e),s(e),n(e),i(e)})};s.createRoot(document.getElementById("root")).render((0,d.jsx)(r.StrictMode,{children:(0,d.jsx)(Kt,{})})),qt()})();
//# sourceMappingURL=main.1d21e98f.js.map